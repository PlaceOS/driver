crystal_doc_search_index_callback({"repository_name":"placeos-driver","body":"# PlaceOS Driver\n\n[![CI](https://github.com/PlaceOS/driver/actions/workflows/ci.yml/badge.svg)](https://github.com/PlaceOS/driver/actions/workflows/ci.yml)\n\nThe framework for running drivers on PlaceOS.\n\n## Requirements\n\n* libssh2 required for SSH support\n","program":{"html_id":"placeos-driver/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"ancestors":[{"html_id":"placeos-driver/Spec/Methods","kind":"module","full_name":"Spec::Methods","name":"Methods"},{"html_id":"placeos-driver/Spec/Expectations","kind":"module","full_name":"Spec::Expectations","name":"Expectations"},{"html_id":"placeos-driver/Debug/KernelExtension","kind":"module","full_name":"Debug::KernelExtension","name":"KernelExtension"}],"locations":[],"repository_name":"placeos-driver","program":true,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"placeos-driver/Debug/KernelExtension","kind":"module","full_name":"Debug::KernelExtension","name":"KernelExtension"},{"html_id":"placeos-driver/Spec/Expectations","kind":"module","full_name":"Spec::Expectations","name":"Expectations"},{"html_id":"placeos-driver/Spec/Methods","kind":"module","full_name":"Spec::Methods","name":"Methods"}],"extended_modules":[{"html_id":"placeos-driver/Debug/KernelExtension","kind":"module","full_name":"Debug::KernelExtension","name":"KernelExtension"},{"html_id":"placeos-driver/Spec/Expectations","kind":"module","full_name":"Spec::Expectations","name":"Expectations"},{"html_id":"placeos-driver/Spec/Methods","kind":"module","full_name":"Spec::Methods","name":"Methods"}],"types":[{"html_id":"placeos-driver/DriverSpecs","path":"DriverSpecs.html","kind":"class","full_name":"DriverSpecs","name":"DriverSpecs","abstract":false,"superclass":{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/driver-specs/mock_driver.cr","line_number":9,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/mock_driver.cr#L9"},{"filename":"src/placeos-driver/driver-specs/mock_http.cr","line_number":3,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/mock_http.cr#L3"},{"filename":"src/placeos-driver/driver-specs/responder.cr","line_number":1,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/responder.cr#L1"},{"filename":"src/placeos-driver/driver-specs/runner.cr","line_number":30,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/runner.cr#L30"},{"filename":"src/placeos-driver/driver-specs/status_helper.cr","line_number":7,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/status_helper.cr#L7"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"DRIVER_ID","name":"DRIVER_ID","value":"\"spec_runner\""},{"id":"SYSTEM_ID","name":"SYSTEM_ID","value":"\"spec_runner_system\""}],"doc":"A place driver has 4 typical points of IO contact\n1. Place driver protocol (placeos-core's point of contact)\n2. The modules transport layer (module to device comms)\n3. An optional HTTP client\n4. Redis for state storage and subscriptions","summary":"<p>A place driver has 4 typical points of IO contact 1.</p>","class_methods":[{"html_id":"mock_driver(driver_name:String,driver_exec=ENV[\"SPEC_RUN_DRIVER\"],&)-class-method","name":"mock_driver","abstract":false,"args":[{"name":"driver_name","external_name":"driver_name","restriction":"String"},{"name":"driver_exec","default_value":"ENV[\"SPEC_RUN_DRIVER\"]","external_name":"driver_exec","restriction":""}],"args_string":"(driver_name : String, driver_exec = ENV[\"SPEC_RUN_DRIVER\"], &)","args_html":"(driver_name : String, driver_exec = <span class=\"t\">ENV</span>[<span class=\"s\">&quot;SPEC_RUN_DRIVER&quot;</span>], &)","location":{"filename":"src/placeos-driver/driver-specs/runner.cr","line_number":44,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/runner.cr#L44"},"def":{"name":"mock_driver","args":[{"name":"driver_name","external_name":"driver_name","restriction":"String"},{"name":"driver_exec","default_value":"ENV[\"SPEC_RUN_DRIVER\"]","external_name":"driver_exec","restriction":""}],"yields":0,"block_arity":0,"visibility":"Public","body":"unix_socket = File.tempname(\"pos\", \".driver\")\nunix_server = UNIXServer.new(unix_socket)\nwait_driver_open = Channel(UNIXSocket).new\n\n\nspawn do\n  client = unix_server.accept?\n  wait_driver_open.send(client.as(UNIXSocket))\n  unix_server.close\nend\n\nwait_driver_close = Channel(Nil).new\nexited = false\nexit_code = -1\n\n\n::Log.builder.bind(\"*\", :debug, ::Log::IOBackend.new)\n\n\nstorage = PlaceOS::Driver::RedisStorage.new(SYSTEM_ID, \"system\")\nstorage.clear\n\nfetch_pid = Promise.new(Int64)\n\n\n\nspawn(same_thread: true) do\n  begin\n    puts(\"Launching driver: #{driver_exec.colorize(:green)}\")\n    Process.run(driver_exec, {\"-p\", \"-s\", unix_socket}, {\"DEBUG\" => \"1\", \"CURRENT_DRIVER_PATH\" => driver_exec}, output: STDOUT, error: STDOUT) do |process|\n      fetch_pid.resolve(process.pid)\n    end\n\n    exit_code = $?.exit_code\n    puts(\"Driver terminated with: #{exit_code}\")\n  ensure\n    exited = true\n    wait_driver_open.close\n    wait_driver_close.send(nil)\n  end\nend\n\npid = fetch_pid.get\n\nselect\nwhen conn = wait_driver_open.receive\nwhen timeout(5.seconds)\n  raise(\"timeout waiting for driver comms to be established\")\nend\nio = conn.not_nil!\n\nbegin\n  io.read_string(1)\n  io.sync = false\n\n  puts(\"... requesting default settings\")\n  defaults_io = IO::Memory.new\n  Process.run(driver_exec, {\"-d\"}, input: Process::Redirect::Close, output: defaults_io, error: Process::Redirect::Close)\n\n  defaults_raw = defaults_io.to_s.strip\n  defaults = begin\n    JSON.parse(defaults_raw)\n  rescue error\n    puts(\"error parsing driver defaults:\\n#{defaults_raw.inspect}\")\n    raise(error)\n  end\n  default_settings = JSON.parse(defaults[\"default_settings\"].as_s)\n  puts(\"... got default settings: #{default_settings.inspect.colorize(:green)}\")\n\n\n  makebreak = !(!(defaults[\"makebreak\"]?.try(&.as_bool)))\n\n\n  puts(\"... starting driver IO services\")\n  spec = DriverSpecs.new(driver_name, io, makebreak, default_settings)\n  spawn(same_thread: true) do spec.__start_server__ end\n  spawn(same_thread: true) do spec.__start_http_server__ end\n  spawn(same_thread: true) do spec.__process_responses__ end\n  Fiber.yield\n\n  tcp_port, http_port = spec.__get_ports__\n\n\n  puts(\"... starting module\")\n  json = {\n    id: DRIVER_ID,\n    cmd: \"start\",\n    payload: {\n      control_system: {\n        id: SYSTEM_ID,\n        name: \"Spec Runner\",\n        email: \"spec@acaprojects.com\",\n        capacity: 4,\n        features: [\"many\", \"modules\"],\n        bookable: true,\n        zones: [\"zone-1234\", \"zone-level\", \"zone-building\", \"zone-org\"],\n        timezone: \"Australia/Sydney\",\n      },\n      ip: \"127.0.0.1\",\n      uri: \"http://127.0.0.1:#{http_port}\",\n      udp: false,\n      tls: false,\n      port: tcp_port,\n      makebreak: makebreak,\n      role: 1,\n\n      settings: default_settings,\n    }.to_json,\n  }.to_json\n  io.write_bytes(json.bytesize)\n  io.write(json.to_slice)\n  io.flush\n\n  if makebreak\n    puts(\"... starting in makebreak! mode\")\n\n    sleep(200.milliseconds)\n  else\n    puts(\"... waiting for module\")\n    spec.expect_reconnect\n    puts(\"... module connected\")\n  end\n\n\n  puts(\"... enabling debugging output\")\n  json = {\n    id: DRIVER_ID,\n    cmd: \"debug\",\n  }.to_json\n  io.write_bytes(json.bytesize)\n  io.write(json.to_slice)\n  io.flush\n\n\n  puts(\"... starting spec\")\n  begin\n    with spec yield\n\n    puts(\"... stopping the module\")\n    json = {\n      id: DRIVER_ID,\n      cmd: \"stop\",\n    }.to_json\n    io.write_bytes(json.bytesize)\n    io.write(json.to_slice)\n    io.flush\n\n\n    sleep(1.second)\n\n    if spec.errors.empty?\n      if spec.example_count > 0\n        puts(\"    #{spec.example_count} examples, 0 errors\")\n      end\n      puts(\"... spec passed\".colorize(:green))\n    else\n      puts(\"\\nFailures:\")\n      spec.errors.each_with_index do |error, index|\n        puts(\"\\n  #{index + 1}) #{error[1]}\")\n        puts(error[0].inspect_with_backtrace.colorize(:red))\n        puts(\"\\n  # #{error[2]}:#{error[3]}\".colorize(:blue))\n      end\n      puts(\"\\n    #{spec.example_count} examples, #{spec.errors.size} errors\")\n      puts(\"Failed examples:\")\n      spec.errors.each do |error|\n        print(\"  - #{error[2]}:#{error[3]}\".colorize(:red))\n        puts(\" # #{error[1]}\".colorize(:blue))\n      end\n      puts(\"\\n... spec failed\".colorize(:red))\n    end\n  rescue e\n    puts(\"level=ERROR : unhandled exception in spec\".colorize(:red))\n    e.inspect_with_backtrace(STDOUT)\n    puts(\"... spec failed\".colorize(:red))\n  end\nensure\n  if exited\n    puts(\"level=ERROR : driver process exited with: #{exit_code}\".colorize(:red))\n    if exit_code == 256\n      puts(\"... please ensure `redis-server` is running locally\")\n    end\n  else\n    puts(\"... terminating driver gracefully\")\n    json = {\n      id: DRIVER_ID,\n      cmd: \"terminate\",\n      payload: \"{}\",\n    }.to_json\n    io.write_bytes(json.bytesize)\n    io.write(json.to_slice)\n    io.flush\n\n    select\n    when wait_driver_close.receive?\n    when timeout(5.seconds)\n      puts(\"level=ERROR : driver process failed to terminate gracefully\".colorize(:red))\n      Process.run(\"kill\", {\"-9\", pid.to_s})\n      wait_driver_close.close\n    end\n  end\nend\n"},"external_var":false}],"instance_methods":[{"html_id":"errors:Array(Tuple(Exception,String,String,Int32))-instance-method","name":"errors","abstract":false,"location":{"filename":"src/placeos-driver/driver-specs/runner.cr","line_number":35,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/runner.cr#L35"},"def":{"name":"errors","return_type":"Array(Tuple(Exception, String, String, Int32))","visibility":"Public","body":"@errors"},"external_var":false},{"html_id":"example_count:Int32-instance-method","name":"example_count","abstract":false,"location":{"filename":"src/placeos-driver/driver-specs/runner.cr","line_number":34,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/runner.cr#L34"},"def":{"name":"example_count","return_type":"Int32","visibility":"Public","body":"@example_count"},"external_var":false},{"html_id":"exec(function,*args,user_id=nil)-instance-method","name":"exec","doc":"executes a function on the driver being tested and returns response promise\n\ni.e. `response = exec(:method_on_driver, arg1, arg2)`\n\nthen to process the response `response.get.should eq \"method response\"`","summary":"<p>executes a function on the driver being tested and returns response promise</p>","abstract":false,"args":[{"name":"function","external_name":"function","restriction":""},{"name":"args","external_name":"args","restriction":""},{"name":"user_id","default_value":"nil","external_name":"user_id","restriction":""}],"args_string":"(function, *args, user_id = nil)","args_html":"(function, *args, user_id = <span class=\"n\">nil</span>)","location":{"filename":"src/placeos-driver/driver-specs/runner.cr","line_number":428,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/runner.cr#L428"},"def":{"name":"exec","args":[{"name":"function","external_name":"function","restriction":""},{"name":"args","external_name":"args","restriction":""},{"name":"user_id","default_value":"nil","external_name":"user_id","restriction":""}],"splat_index":1,"visibility":"Public","body":"resp = __exec__(function, args, user_id)\nsleep(2.milliseconds)\nresp\n"},"external_var":false},{"html_id":"exec(function,user_id=nil,**args)-instance-method","name":"exec","doc":"executes a function on the driver being tested and returns response promise\n\ni.e. `response = exec(:method_on_driver, arg1, arg2)`\n\nthen to process the response `response.get.should eq \"method response\"`","summary":"<p>executes a function on the driver being tested and returns response promise</p>","abstract":false,"args":[{"name":"function","external_name":"function","restriction":""},{"name":"user_id","default_value":"nil","external_name":"user_id","restriction":""}],"args_string":"(function, user_id = nil, **args)","args_html":"(function, user_id = <span class=\"n\">nil</span>, **args)","location":{"filename":"src/placeos-driver/driver-specs/runner.cr","line_number":435,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/runner.cr#L435"},"def":{"name":"exec","args":[{"name":"function","external_name":"function","restriction":""},{"name":"user_id","default_value":"nil","external_name":"user_id","restriction":""}],"double_splat":{"name":"args","external_name":"args","restriction":""},"visibility":"Public","body":"resp = __exec__(function, args, user_id)\nsleep(2.milliseconds)\nresp\n"},"external_var":false},{"html_id":"exec(function,*args,user_id=nil,&)-instance-method","name":"exec","doc":"executes a function on the driver being tested and returns response promise\n\ni.e. `response = exec(:method_on_driver, arg1, arg2)`\n\nthen to process the response `response.get.should eq \"method response\"`","summary":"<p>executes a function on the driver being tested and returns response promise</p>","abstract":false,"args":[{"name":"function","external_name":"function","restriction":""},{"name":"args","external_name":"args","restriction":""},{"name":"user_id","default_value":"nil","external_name":"user_id","restriction":""}],"args_string":"(function, *args, user_id = nil, &)","args_html":"(function, *args, user_id = <span class=\"n\">nil</span>, &)","location":{"filename":"src/placeos-driver/driver-specs/runner.cr","line_number":442,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/runner.cr#L442"},"def":{"name":"exec","args":[{"name":"function","external_name":"function","restriction":""},{"name":"args","external_name":"args","restriction":""},{"name":"user_id","default_value":"nil","external_name":"user_id","restriction":""}],"splat_index":1,"yields":1,"block_arity":1,"visibility":"Public","body":"resp = __exec__(function, args, user_id)\nyield resp\nresp\n"},"external_var":false},{"html_id":"exec(function,user_id=nil,**args,&)-instance-method","name":"exec","doc":"executes a function on the driver being tested and returns response promise\n\ni.e. `response = exec(:method_on_driver, arg1, arg2)`\n\nthen to process the response `response.get.should eq \"method response\"`","summary":"<p>executes a function on the driver being tested and returns response promise</p>","abstract":false,"args":[{"name":"function","external_name":"function","restriction":""},{"name":"user_id","default_value":"nil","external_name":"user_id","restriction":""}],"args_string":"(function, user_id = nil, **args, &)","args_html":"(function, user_id = <span class=\"n\">nil</span>, **args, &)","location":{"filename":"src/placeos-driver/driver-specs/runner.cr","line_number":449,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/runner.cr#L449"},"def":{"name":"exec","args":[{"name":"function","external_name":"function","restriction":""},{"name":"user_id","default_value":"nil","external_name":"user_id","restriction":""}],"double_splat":{"name":"args","external_name":"args","restriction":""},"yields":1,"block_arity":1,"visibility":"Public","body":"resp = __exec__(function, args, user_id)\nyield resp\nresp\n"},"external_var":false},{"html_id":"expect_http_request(timeout=1.seconds,&)-instance-method","name":"expect_http_request","doc":"provides a method for accepting and responding to HTTP requests being made by the driver\n\nfor an example of how this works see [an existing driver](https://github.com/PlaceOS/drivers/blob/master/drivers/message_media/sms_spec.cr#L10-L25)","summary":"<p>provides a method for accepting and responding to HTTP requests being made by the driver</p>","abstract":false,"args":[{"name":"timeout","default_value":"1.seconds","external_name":"timeout","restriction":""}],"args_string":"(timeout = 1.seconds, &)","args_html":"(timeout = <span class=\"n\">1</span>.seconds, &)","location":{"filename":"src/placeos-driver/driver-specs/runner.cr","line_number":634,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/runner.cr#L634"},"def":{"name":"expect_http_request","args":[{"name":"timeout","default_value":"1.seconds","external_name":"timeout","restriction":""}],"yields":2,"block_arity":2,"visibility":"Public","body":"mock_http = select\nwhen temp_http = @received_http.receive\n  temp_http\nwhen timeout(timeout)\n  puts(\"level=ERROR : timeout waiting for expected HTTP request\".colorize(:red))\n  raise(\"timeout waiting for expected HTTP request\")\nend\n\nreq = mock_http.context.request\n\n\nio = req.body\nrequest_body = begin\n  io ? String.new(io.peek || (Bytes.new(0))) : \"\"\nrescue\n  io ? io.peek.inspect : \"\"\nend\n\nputs(\"-> received HTTP request: #{req.method} #{req.path}\")\n\n\nbegin\n  yield req, mock_http.context.response\nrescue e\n  puts(\"-> ------\")\n  puts(\"   unhandled error processing request:\\n#{mock_http.context.request.inspect}\")\n  puts(\"   request body:\\n#{request_body}\")\n  puts(\"-> ------\")\n  raise(e)\nend\nmock_http.complete_request\nsleep(10.milliseconds)\nself\n"},"external_var":false},{"html_id":"expect_reconnect(timeout=5.seconds):TCPSocket-instance-method","name":"expect_reconnect","doc":"A particular response might disconnect the socket\nThen we want to wait for the reconnect to occur before continuing the spec","summary":"<p>A particular response might disconnect the socket Then we want to wait for the reconnect to occur before continuing the spec</p>","abstract":false,"args":[{"name":"timeout","default_value":"5.seconds","external_name":"timeout","restriction":""}],"args_string":"(timeout = 5.seconds) : TCPSocket","args_html":"(timeout = <span class=\"n\">5</span>.seconds) : TCPSocket","location":{"filename":"src/placeos-driver/driver-specs/runner.cr","line_number":407,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/runner.cr#L407"},"def":{"name":"expect_reconnect","args":[{"name":"timeout","default_value":"5.seconds","external_name":"timeout","restriction":""}],"return_type":"TCPSocket","visibility":"Public","body":"begin\n  connection = nil\n\n\n  spawn(same_thread: true) do\n    sleep(timeout)\n    if connection\n    else\n      @new_connection.close\n    end\n  end\n\n  @comms = connection = socket = @new_connection.receive\n  spawn(same_thread: true) do __process_transmissions__(socket) end\n  socket\nrescue error : Channel::ClosedError\n  raise(\"timeout waiting for module to connect\")\nend"},"external_var":false},{"html_id":"expect_send(timeout=500.milliseconds):Bytes-instance-method","name":"expect_send","doc":"obtain some data you were expecting to receive from the driver. Typically triggered by an exec you've made.\n\n`expect_send.should eq \"some data\"`","summary":"<p>obtain some data you were expecting to receive from the driver.</p>","abstract":false,"args":[{"name":"timeout","default_value":"500.milliseconds","external_name":"timeout","restriction":""}],"args_string":"(timeout = 500.milliseconds) : Bytes","args_html":"(timeout = <span class=\"n\">500</span>.milliseconds) : Bytes","location":{"filename":"src/placeos-driver/driver-specs/runner.cr","line_number":495,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/runner.cr#L495"},"def":{"name":"expect_send","args":[{"name":"timeout","default_value":"500.milliseconds","external_name":"timeout","restriction":""}],"return_type":"Bytes","visibility":"Public","body":"channel = nil\n\n@event_mutex.synchronize do\n  if @transmissions.empty?\n    channel = Channel(Bytes).new(1)\n    @expected_transmissions << channel\n  end\nend\n\nif channel\n  begin\n    select\n    when received = channel.receive\n      return received\n    when timeout(timeout)\n      puts(\"level=ERROR : timeout waiting for data\".colorize(:red))\n      raise(\"timeout waiting for data\")\n    end\n  ensure\n    @event_mutex.synchronize do @expected_transmissions.delete(channel) end\n  end\nelse\n  @event_mutex.synchronize do @transmissions.shift end\nend\n"},"external_var":false},{"html_id":"it(description:String,file=__FILE__,line=__LINE__,**args,&)-instance-method","name":"it","abstract":false,"args":[{"name":"description","external_name":"description","restriction":"String"},{"name":"file","default_value":"__FILE__","external_name":"file","restriction":""},{"name":"line","default_value":"__LINE__","external_name":"line","restriction":""}],"args_string":"(description : String, file = __FILE__, line = __LINE__, **args, &)","args_html":"(description : String, file = __FILE__, line = __LINE__, **args, &)","location":{"filename":"src/placeos-driver/driver-specs/runner.cr","line_number":37,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/runner.cr#L37"},"def":{"name":"it","args":[{"name":"description","external_name":"description","restriction":"String"},{"name":"file","default_value":"__FILE__","external_name":"file","restriction":""},{"name":"line","default_value":"__LINE__","external_name":"line","restriction":""}],"double_splat":{"name":"args","external_name":"args","restriction":""},"yields":0,"block_arity":0,"visibility":"Public","body":"begin\n  @example_count = @example_count + 1\n  with self yield\nrescue error\n  @errors << {error, description, file, line}\nend"},"external_var":false},{"html_id":"publish(channel,message)-instance-method","name":"publish","doc":"publish an event for the driver to process","summary":"<p>publish an event for the driver to process</p>","abstract":false,"args":[{"name":"channel","external_name":"channel","restriction":""},{"name":"message","external_name":"message","restriction":""}],"args_string":"(channel, message)","args_html":"(channel, message)","location":{"filename":"src/placeos-driver/driver-specs/runner.cr","line_number":671,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/runner.cr#L671"},"def":{"name":"publish","args":[{"name":"channel","external_name":"channel","restriction":""},{"name":"message","external_name":"message","restriction":""}],"visibility":"Public","body":"message = message.to_s\nPlaceOS::Driver::RedisStorage.with_redis(&.publish(\"placeos/#{channel}\", message))\nputs(\"-> spec published: #{channel} -> #{message}\")\nmessage\n"},"external_var":false},{"html_id":"responds(data)-instance-method","name":"responds","doc":"transmits some data to the driver, typically a response to something the driver has sent\n\n`transmit \"\\nsome response\"`","summary":"<p>transmits some data to the driver, typically a response to something the driver has sent</p>","abstract":false,"args":[{"name":"data","external_name":"data","restriction":""}],"args_string":"(data)","args_html":"(data)","location":{"filename":"src/placeos-driver/driver-specs/runner.cr","line_number":627,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/runner.cr#L627"},"def":{"name":"responds","args":[{"name":"data","external_name":"data","restriction":""}],"visibility":"Public","body":"transmit(data)"},"external_var":false},{"html_id":"settings(new_settings)-instance-method","name":"settings","doc":"allows you to provide alternative settings to the driver being tested.\n\nby default the drivers `default_settings` are used","summary":"<p>allows you to provide alternative settings to the driver being tested.</p>","abstract":false,"args":[{"name":"new_settings","external_name":"new_settings","restriction":""}],"args_string":"(new_settings)","args_html":"(new_settings)","location":{"filename":"src/placeos-driver/driver-specs/runner.cr","line_number":737,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/runner.cr#L737"},"def":{"name":"settings","args":[{"name":"new_settings","external_name":"new_settings","restriction":""}],"visibility":"Public","body":"@current_settings = JSON.parse(new_settings.to_json)\ntcp_port, http_port = __get_ports__\n\njson = {\n  id: DRIVER_ID,\n  cmd: \"update\",\n  payload: {\n    control_system: {\n      id: SYSTEM_ID,\n      name: \"Spec Runner\",\n      email: \"spec@acaprojects.com\",\n      capacity: 4,\n      features: [\"many\", \"modules\"],\n      bookable: true,\n      zones: [\"zone-1234\", \"zone-level\", \"zone-building\", \"zone-org\"],\n      timezone: \"Australia/Sydney\",\n    },\n    ip: \"127.0.0.1\",\n    uri: \"http://127.0.0.1:#{http_port}\",\n    udp: false,\n    tls: false,\n    port: tcp_port,\n    makebreak: @makebreak,\n    role: 1,\n\n    settings: @current_settings,\n  }.to_json,\n}.to_json\n\nputs(\"... updating settings: #{new_settings.inspect.colorize(:green)}\")\n\n@write_mutex.synchronize do\n  @io.write_bytes(json.bytesize)\n  @io.write(json.to_slice)\n  @io.flush\nend\n\n\nsleep(500.milliseconds)\n\nself\n"},"external_var":false},{"html_id":"should_send(data,timeout=500.milliseconds)-instance-method","name":"should_send","doc":"expects the data provided to be sent\n\n`should_send \"some data\"`","summary":"<p>expects the data provided to be sent</p>","abstract":false,"args":[{"name":"data","external_name":"data","restriction":""},{"name":"timeout","default_value":"500.milliseconds","external_name":"timeout","restriction":""}],"args_string":"(data, timeout = 500.milliseconds)","args_html":"(data, timeout = <span class=\"n\">500</span>.milliseconds)","location":{"filename":"src/placeos-driver/driver-specs/runner.cr","line_number":525,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/runner.cr#L525"},"def":{"name":"should_send","args":[{"name":"data","external_name":"data","restriction":""},{"name":"timeout","default_value":"500.milliseconds","external_name":"timeout","restriction":""}],"visibility":"Public","body":"sent = Bytes.new(0)\nchannel = nil\n\n@event_mutex.synchronize do\n  if @transmissions.empty?\n    channel = Channel(Bytes).new(1)\n    @expected_transmissions << channel.not_nil!\n  end\nend\n\nif channel\n  tdata = data\n  spawn(same_thread: true) do\n    sleep(timeout)\n    if sent.empty?\n      channel.not_nil!.close\n      puts(\"level=ERROR : timeout waiting for expected data\\n-> expecting: #{tdata.inspect}\".colorize(:red))\n    end\n  end\n\n  begin\n    sent = channel.not_nil!.receive\n  ensure\n    @event_mutex.synchronize do @expected_transmissions.delete(channel) end\n  end\nelse\n  sent = @event_mutex.synchronize do @transmissions.shift end\nend\n\n\nraw_data = if data.responds_to?(:to_io)\n  io = IO::Memory.new\n  io.write_bytes(data)\n  io.to_slice\nelsif data.responds_to?(:to_slice)\n  data.to_slice\nelse\n  data\nend\n\n\nbegin\n  if sent.size > raw_data.size\n    sent[0...raw_data.size].should(eq(raw_data))\n    @event_mutex.synchronize do\n      if @expected_transmissions.empty?\n        @transmissions << raw_data\n      else\n        @expected_transmissions.shift.send(sent[raw_data.size..-1])\n      end\n    end\n  else\n    sent.should(eq(raw_data))\n  end\nrescue e : Spec::AssertionFailed\n  begin\n    puts(\"level=ERROR : expected vs received\".colorize(:red))\n    puts(\"... #{String.new(raw_data)}\")\n    puts(\"... #{String.new(sent)}\")\n  rescue\n  end\n  raise(e)\nend\n\nself\n"},"external_var":false},{"html_id":"status:DriverSpecs::StatusHelper-instance-method","name":"status","doc":"provides access to the drivers status state.\n\n`status[:volume].should eq(50)`","summary":"<p>provides access to the drivers status state.</p>","abstract":false,"location":{"filename":"src/placeos-driver/driver-specs/runner.cr","line_number":296,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/runner.cr#L296"},"def":{"name":"status","visibility":"Public","body":"@status"},"external_var":false},{"html_id":"system(module_id:String|Symbol)-instance-method","name":"system","doc":"Grab a Mock driver instance that has been defined by updating the system\n\nFor example a system may look like: `{Display: {MockDisplay, MockDisplay}}`\n\nWe can obtain mock display 2 by calling `mock_display = system(:Display_2)`\n\nThen we can check status on it `mock_display[:power]?.should eq true`","summary":"<p>Grab a Mock driver instance that has been defined by updating the system</p>","abstract":false,"args":[{"name":"module_id","external_name":"module_id","restriction":"String | Symbol"}],"args_string":"(module_id : String | Symbol)","args_html":"(module_id : String | Symbol)","location":{"filename":"src/placeos-driver/driver-specs/runner.cr","line_number":724,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/runner.cr#L724"},"def":{"name":"system","args":[{"name":"module_id","external_name":"module_id","restriction":"String | Symbol"}],"visibility":"Public","body":"mod_name, match, index = module_id.to_s.rpartition('_')\nmod_name, index = if match.empty?\n  {module_id, 1}\nelse\n  {mod_name, index.to_i}\nend\n@mock_drivers[\"mod-#{mod_name}/#{index}\"]\n"},"external_var":false},{"html_id":"system(details)-instance-method","name":"system","doc":"provides a new system definition for testing Logic Modules\n\nexpects {ModuleName: {Klass, Klass}}\n\nsee [an example](https://github.com/PlaceOS/drivers/blob/master/drivers/place/bookings_spec.cr#L5-L8) of it in use","summary":"<p>provides a new system definition for testing Logic Modules</p>","abstract":false,"args":[{"name":"details","external_name":"details","restriction":""}],"args_string":"(details)","args_html":"(details)","location":{"filename":"src/placeos-driver/driver-specs/runner.cr","line_number":687,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/runner.cr#L687"},"def":{"name":"system","args":[{"name":"details","external_name":"details","restriction":""}],"visibility":"Public","body":"system_index = PlaceOS::Driver::RedisStorage.new(SYSTEM_ID, \"system\")\nsystem_index.clear\n\n@mock_drivers.clear\n\ndetails.each do |key, entries|\n  index = 1\n\n  entries.each do |driver|\n    system_key = \"#{key}/#{index}\"\n    module_id = \"mod-#{system_key}\"\n\n\n    @mock_drivers[module_id] = driver.new(module_id)\n\n\n    system_index[system_key] = module_id\n    index = index + 1\n  end\nend\n\n\nPlaceOS::Driver::RedisStorage.with_redis do |redis|\n  redis.publish(\"lookup-change\", SYSTEM_ID)\nend\nsettings(@current_settings)\nself\n"},"external_var":false},{"html_id":"transmit(data,pause=100.milliseconds)-instance-method","name":"transmit","doc":"transmits some data to the driver, typically a response to something the driver has sent\n\n`transmit \"\\nsome response\"`","summary":"<p>transmits some data to the driver, typically a response to something the driver has sent</p>","abstract":false,"args":[{"name":"data","external_name":"data","restriction":""},{"name":"pause","default_value":"100.milliseconds","external_name":"pause","restriction":""}],"args_string":"(data, pause = 100.milliseconds)","args_html":"(data, pause = <span class=\"n\">100</span>.milliseconds)","location":{"filename":"src/placeos-driver/driver-specs/runner.cr","line_number":600,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/runner.cr#L600"},"def":{"name":"transmit","args":[{"name":"data","external_name":"data","restriction":""},{"name":"pause","default_value":"100.milliseconds","external_name":"pause","restriction":""}],"visibility":"Public","body":"comms = @comms\nif comms && !comms.closed?\nelse\n  puts(\"level=WARN : Attempting to transmit: #{data.inspect}\".colorize(:orange))\n  raise(\"module is currently disconnected, cannot transmit data\")\nend\nif comms\nelse\n  return\nend\n\nputs(\"-> transmitting: #{data.inspect.colorize(:green)}\")\n\ndata = if data.responds_to?(:to_io)\n  io = IO::Memory.new\n  io.write_bytes(data)\n  io.to_slice\nelsif data.responds_to?(:to_slice)\n  data.to_slice\nelse\n  data\nend\ncomms.write(data)\ncomms.flush\nsleep(pause)\nself\n"},"external_var":false}],"types":[{"html_id":"placeos-driver/DriverSpecs/MockDriver","path":"DriverSpecs/MockDriver.html","kind":"class","full_name":"DriverSpecs::MockDriver","name":"MockDriver","abstract":true,"superclass":{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/driver-specs/mock_driver.cr","line_number":11,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/mock_driver.cr#L11"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/DriverSpecs","kind":"class","full_name":"DriverSpecs","name":"DriverSpecs"},"instance_methods":[{"html_id":"[](key)-instance-method","name":"[]","doc":"returns the current value of a status value and raises if it does not exist","summary":"<p>returns the current value of a status value and raises if it does not exist</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":""}],"args_string":"(key)","args_html":"(key)","location":{"filename":"src/placeos-driver/driver-specs/mock_driver.cr","line_number":77,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/mock_driver.cr#L77"},"def":{"name":"[]","args":[{"name":"key","external_name":"key","restriction":""}],"visibility":"Public","body":"JSON.parse(@__storage__[key])"},"external_var":false},{"html_id":"[]=(key,value)-instance-method","name":"[]=","doc":"Expose a status key to other mock drivers and the driver we're testing","summary":"<p>Expose a status key to other mock drivers and the driver we're testing</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":""},{"name":"value","external_name":"value","restriction":""}],"args_string":"(key, value)","args_html":"(key, value)","location":{"filename":"src/placeos-driver/driver-specs/mock_driver.cr","line_number":63,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/mock_driver.cr#L63"},"def":{"name":"[]=","args":[{"name":"key","external_name":"key","restriction":""},{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"key = key.to_s\ncurrent_value = @__storage__[key]?\njson_data = value.is_a?(::Enum) ? value.to_s.to_json : value.to_json\nif json_data != current_value\n  @__storage__[key] = json_data\n  logger.debug do \"status updated: #{key} = #{json_data}\" end\nelse\n  logger.debug do \"no change for: #{key} = #{json_data}\" end\nend\nvalue\n"},"external_var":false},{"html_id":"[]?(key)-instance-method","name":"[]?","doc":"returns the current value of a status value and nil if it does not exist","summary":"<p>returns the current value of a status value and nil if it does not exist</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":""}],"args_string":"(key)","args_html":"(key)","location":{"filename":"src/placeos-driver/driver-specs/mock_driver.cr","line_number":82,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/mock_driver.cr#L82"},"def":{"name":"[]?","args":[{"name":"key","external_name":"key","restriction":""}],"visibility":"Public","body":"if json_data = @__storage__[key]?\n  JSON.parse(json_data)\nend"},"external_var":false},{"html_id":"logger-instance-method","name":"logger","doc":"proxies `Log` so you can use the logger in the same way as drivers","summary":"<p>proxies <code>Log</code> so you can use the logger in the same way as drivers</p>","abstract":false,"location":{"filename":"src/placeos-driver/driver-specs/mock_driver.cr","line_number":58,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/mock_driver.cr#L58"},"def":{"name":"logger","visibility":"Public","body":"::DriverSpecs::MockDriver::Log"},"external_var":false},{"html_id":"signal_status(key)-instance-method","name":"signal_status","doc":"pushes a change notification for the key specified, even though it hasn't changed","summary":"<p>pushes a change notification for the key specified, even though it hasn't changed</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":""}],"args_string":"(key)","args_html":"(key)","location":{"filename":"src/placeos-driver/driver-specs/mock_driver.cr","line_number":89,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/mock_driver.cr#L89"},"def":{"name":"signal_status","args":[{"name":"key","external_name":"key","restriction":""}],"visibility":"Public","body":"spawn(same_thread: true) do @__storage__.signal_status(key) end"},"external_var":false},{"html_id":"system(module_id:String|Symbol):DriverSpecs::StatusHelper-instance-method","name":"system","doc":"Grab the status storage for a mock module\n\ni.e. `system(\"Module_2\")`","summary":"<p>Grab the status storage for a mock module</p>","abstract":false,"args":[{"name":"module_id","external_name":"module_id","restriction":"String | Symbol"}],"args_string":"(module_id : String | Symbol) : DriverSpecs::StatusHelper","args_html":"(module_id : String | Symbol) : <a href=\"../DriverSpecs/StatusHelper.html\">DriverSpecs::StatusHelper</a>","location":{"filename":"src/placeos-driver/driver-specs/mock_driver.cr","line_number":47,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/mock_driver.cr#L47"},"def":{"name":"system","args":[{"name":"module_id","external_name":"module_id","restriction":"String | Symbol"}],"return_type":"DriverSpecs::StatusHelper","visibility":"Public","body":"mod_name, match, index = module_id.to_s.rpartition('_')\nmod_name, index = if match.empty?\n  {module_id, 1}\nelse\n  {mod_name, index.to_i}\nend\nDriverSpecs::StatusHelper.new(\"mod-#{mod_name}/#{index}\")\n"},"external_var":false}],"macros":[{"html_id":"status(klass,key)-macro","name":"status","doc":"reads a status key and deserialises the value into the class provided.\n\nIt raises if the class does not exist.","summary":"<p>reads a status key and deserialises the value into the class provided.</p>","abstract":false,"args":[{"name":"klass","external_name":"klass","restriction":""},{"name":"key","external_name":"key","restriction":""}],"args_string":"(klass, key)","args_html":"(klass, key)","location":{"filename":"src/placeos-driver/driver-specs/mock_driver.cr","line_number":96,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/mock_driver.cr#L96"},"def":{"name":"status","args":[{"name":"klass","external_name":"klass","restriction":""},{"name":"key","external_name":"key","restriction":""}],"visibility":"Public","body":"    \n{{ klass }}\n.from_json(@__storage__[\n{{ key }}\n.to_s])\n  \n"}},{"html_id":"status?(klass,key)-macro","name":"status?","doc":"reads a status key and deserialises the value into the class provided.\n\nIt returns `nil` if the key doesn't exist","summary":"<p>reads a status key and deserialises the value into the class provided.</p>","abstract":false,"args":[{"name":"klass","external_name":"klass","restriction":""},{"name":"key","external_name":"key","restriction":""}],"args_string":"(klass, key)","args_html":"(klass, key)","location":{"filename":"src/placeos-driver/driver-specs/mock_driver.cr","line_number":103,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/mock_driver.cr#L103"},"def":{"name":"status?","args":[{"name":"klass","external_name":"klass","restriction":""},{"name":"key","external_name":"key","restriction":""}],"visibility":"Public","body":"    \n%value\n = @__storage__[\n{{ key }}\n.to_s]?\n    \n{{ klass }}\n.from_json(\n%value\n) if \n%value\n\n  \n"}}]},{"html_id":"placeos-driver/DriverSpecs/StatusHelper","path":"DriverSpecs/StatusHelper.html","kind":"class","full_name":"DriverSpecs::StatusHelper","name":"StatusHelper","abstract":false,"superclass":{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/driver-specs/status_helper.cr","line_number":9,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/status_helper.cr#L9"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/DriverSpecs","kind":"class","full_name":"DriverSpecs","name":"DriverSpecs"},"constructors":[{"html_id":"new(module_id:String)-class-method","name":"new","abstract":false,"args":[{"name":"module_id","external_name":"module_id","restriction":"String"}],"args_string":"(module_id : String)","args_html":"(module_id : String)","location":{"filename":"src/placeos-driver/driver-specs/status_helper.cr","line_number":10,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/status_helper.cr#L10"},"def":{"name":"new","args":[{"name":"module_id","external_name":"module_id","restriction":"String"}],"visibility":"Public","body":"_ = allocate\n_.initialize(module_id)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"[](key)-instance-method","name":"[]","doc":"returns the current value of a status value and raises if it does not exist","summary":"<p>returns the current value of a status value and raises if it does not exist</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":""}],"args_string":"(key)","args_html":"(key)","location":{"filename":"src/placeos-driver/driver-specs/status_helper.cr","line_number":26,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/status_helper.cr#L26"},"def":{"name":"[]","args":[{"name":"key","external_name":"key","restriction":""}],"visibility":"Public","body":"value = @storage[key]\nJSON.parse(value)\n"},"external_var":false},{"html_id":"[]=(key,value)-instance-method","name":"[]=","doc":"Expose a status key to other mock drivers and the driver we're testing","summary":"<p>Expose a status key to other mock drivers and the driver we're testing</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":""},{"name":"value","external_name":"value","restriction":""}],"args_string":"(key, value)","args_html":"(key, value)","location":{"filename":"src/placeos-driver/driver-specs/status_helper.cr","line_number":15,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/status_helper.cr#L15"},"def":{"name":"[]=","args":[{"name":"key","external_name":"key","restriction":""},{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"key = key.to_s\nif value.nil?\n  delete(key)\nelse\n  @storage[key] = value.to_json\nend\nvalue\n"},"external_var":false},{"html_id":"[]?(key)-instance-method","name":"[]?","doc":"returns the current value of a status value and nil if it does not exist","summary":"<p>returns the current value of a status value and nil if it does not exist</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":""}],"args_string":"(key)","args_html":"(key)","location":{"filename":"src/placeos-driver/driver-specs/status_helper.cr","line_number":32,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/status_helper.cr#L32"},"def":{"name":"[]?","args":[{"name":"key","external_name":"key","restriction":""}],"visibility":"Public","body":"value = @storage[key]?\nvalue ? JSON.parse(value) : nil\n"},"external_var":false}],"macros":[{"html_id":"method_missing(call)-macro","name":"method_missing","abstract":false,"args":[{"name":"call","external_name":"call","restriction":""}],"args_string":"(call)","args_html":"(call)","location":{"filename":"src/placeos-driver/driver-specs/status_helper.cr","line_number":37,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver-specs/status_helper.cr#L37"},"def":{"name":"method_missing","args":[{"name":"call","external_name":"call","restriction":""}],"visibility":"Public","body":"      @storage.\n{{ call }}\n\n    \n"}}]}]},{"html_id":"placeos-driver/Object","path":"Object.html","kind":"class","full_name":"Object","name":"Object","abstract":true,"ancestors":[{"html_id":"placeos-driver/Spec/ObjectExtensions","kind":"module","full_name":"Spec::ObjectExtensions","name":"ObjectExtensions"},{"html_id":"placeos-driver/Colorize/ObjectExtensions","kind":"module","full_name":"Colorize::ObjectExtensions","name":"ObjectExtensions"}],"locations":[{"filename":"lib/debug/src/debug/to_debug/object.cr","line_number":1,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/lib/debug/src/debug/to_debug/object.cr#L1"},{"filename":"lib/promise/src/promise/core_ext.cr","line_number":1,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/lib/promise/src/promise/core_ext.cr#L1"},{"filename":"src/placeos-driver/core_ext.cr","line_number":3,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/core_ext.cr#L3"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"placeos-driver/Colorize/ObjectExtensions","kind":"module","full_name":"Colorize::ObjectExtensions","name":"ObjectExtensions"},{"html_id":"placeos-driver/Spec/ObjectExtensions","kind":"module","full_name":"Spec::ObjectExtensions","name":"ObjectExtensions"}],"doc":"`Object` is the base type of all Crystal objects.\n\n## Getters\n\nMultiple macros are available to easily declare, initialize and expose\ninstance variables as well as class variables on an `Object` by generating\nsimple accessor methods.\n\nFor example writing:\n\n```\nclass Person\n  getter name\nend\n```\n\nIs the same as writing:\n\n```\nclass Person\n  def name\n    @name\n  end\nend\n```\n\nSimilarly, we can write `class_getter name` to define a class variable, which\ngenerates a `def self.name` class method returning `@@name`.\n\nWe can define as many variables as necessary in a single call. For example\n`getter name, age, city` will create a getter method for each of `name`, `age`\nand `city`.\n\n### Type and initial value\n\nInstead of plain arguments, we can specify a type as well as an initial value.\nIf the initial value is simple enough Crystal should be able to infer the type\nof the instance or class variable!\n\nSpecifying a type will also declare the instance or class variable with said\ntype and type the accessor method arguments and return type accordingly.\n\nFor example writing:\n\n```\nclass Person\n  getter name : String\n  getter age = 0\n  getter city : String = \"unspecified\"\nend\n```\n\nIs the same as writing:\n\n```\nclass Person\n  @name : String\n  @age = 0\n  @city : String = \"unspecified\"\n\n  def name : String\n    @name\n  end\n\n  def age\n    @age\n  end\n\n  def city : String\n    @city\n  end\nend\n```\n\nThe initial value of an instance variable is automatically set when the object\nis constructed. The initial value of a class variable will be set when the\nprogram starts up.\n\n### Lazy initialization\n\nInstead of eagerly initializing the value, we can lazily initialize it the\nfirst time the accessor method is called.\n\nSince the variable will be lazily initialized the type of the variable will be\na nilable type. The generated method however will return the specified type\nonly (not a nilable).\n\nFor example writing:\n\n```\nclass Person\n  getter(city : City) { City.unspecified }\nend\n```\n\nIs equivalent to writing:\n\n```\nclass Person\n  @city : City?\n\n  def city : City\n    if (city = @city).nil?\n      @city = City.unspecified\n    else\n      city\n    end\n  end\nend\n```\n\n### Variants\n\nPlease refer to the different variants to understand how they differ from the\ngeneral overview presented above:\n\n- `getter`\n- `getter?`\n- `getter!`\n- `class_getter`\n- `class_getter?`\n- `class_getter!`\n\n## Setters\n\nThe `setter` and `class_setter` macros are the write counterparts of the\ngetter macros. They declare `name=(value)` accessor methods. The arguments\nbehave just as for the getter macros. Each setter can have a type as well as\nan initial value. There is no lazy initialization however since the macro\ndoesn't generate a getter method.\n\nFor example writing:\n\n```\nclass Person\n  setter name\n  setter age = 0\n  setter city : String = \"unspecified\"\nend\n```\n\nIs the same as writing:\n\n```\nclass Person\n  @age = 0\n  @city : String = \"unspecified\"\n\n  def name=(@name)\n  end\n\n  def age=(@age)\n  end\n\n  def city=(@city : String) : String\n  end\nend\n```\n\nFor class variables we'd have called `class_setter name` that would have\ngenerated a `def self.name=(@@name)` class method instead.\n\n## Properties\n\nThe property macros define both getter and setter methods at once.\n\nFor example writing:\n\n```\nclass Person\n  property name\nend\n```\n\nIs equivalent to writing:\n\n```\nclass Person\n  getter name\n  setter name\nend\n```\n\nWhich is the same as writing:\n\n```\nclass Person\n  def name\n    @name\n  end\n\n  def name=(@name)\n  end\nend\n```\n\nRefer to [Getters](#getters) and [Setters](#setters) above for details. The\nmacros take the exact same arguments.","summary":"<p><code><a href=\"Object.html\">Object</a></code> is the base type of all Crystal objects.</p>"},{"html_id":"placeos-driver/PlaceOS","path":"PlaceOS.html","kind":"module","full_name":"PlaceOS","name":"PlaceOS","abstract":false,"locations":[{"filename":"src/placeos-driver.cr","line_number":6,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L6"},{"filename":"src/placeos-driver/protocol/request.cr","line_number":9,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/protocol/request.cr#L9"},{"filename":"src/placeos-driver/storage/redis-storage.cr","line_number":4,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/storage/redis-storage.cr#L4"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"types":[{"html_id":"placeos-driver/PlaceOS/Driver","path":"PlaceOS/Driver.html","kind":"class","full_name":"PlaceOS::Driver","name":"Driver","abstract":false,"superclass":{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver.cr","line_number":54,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L54"},{"filename":"src/placeos-driver.cr","line_number":630,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L630"},{"filename":"src/placeos-driver/constants.cr","line_number":3,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/constants.cr#L3"},{"filename":"src/placeos-driver/interface/camera.cr","line_number":5,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/camera.cr#L5"},{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":3,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L3"},{"filename":"src/placeos-driver/interface/chat_functions.cr","line_number":3,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_functions.cr#L3"},{"filename":"src/placeos-driver/interface/desk_control.cr","line_number":1,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/desk_control.cr#L1"},{"filename":"src/placeos-driver/interface/door_security.cr","line_number":1,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L1"},{"filename":"src/placeos-driver/interface/electrical_relay.cr","line_number":1,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/electrical_relay.cr#L1"},{"filename":"src/placeos-driver/interface/guest_building_access.cr","line_number":3,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/guest_building_access.cr#L3"},{"filename":"src/placeos-driver/interface/lighting.cr","line_number":3,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lighting.cr#L3"},{"filename":"src/placeos-driver/interface/locatable.cr","line_number":1,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/locatable.cr#L1"},{"filename":"src/placeos-driver/interface/lockers.cr","line_number":4,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L4"},{"filename":"src/placeos-driver/interface/mailer.cr","line_number":1,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/mailer.cr#L1"},{"filename":"src/placeos-driver/interface/mailer_templates.cr","line_number":1,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/mailer_templates.cr#L1"},{"filename":"src/placeos-driver/interface/moveable.cr","line_number":1,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/moveable.cr#L1"},{"filename":"src/placeos-driver/interface/muteable.cr","line_number":1,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/muteable.cr#L1"},{"filename":"src/placeos-driver/interface/powerable.cr","line_number":1,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/powerable.cr#L1"},{"filename":"src/placeos-driver/interface/sensor.cr","line_number":7,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L7"},{"filename":"src/placeos-driver/interface/sms.cr","line_number":1,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sms.cr#L1"},{"filename":"src/placeos-driver/interface/stoppable.cr","line_number":1,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/stoppable.cr#L1"},{"filename":"src/placeos-driver/interface/switchable.cr","line_number":1,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/switchable.cr#L1"},{"filename":"src/placeos-driver/interface/zone_access_security.cr","line_number":3,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zone_access_security.cr#L3"},{"filename":"src/placeos-driver/interface/zoomable.cr","line_number":1,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zoomable.cr#L1"},{"filename":"src/placeos-driver/logger.cr","line_number":4,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/logger.cr#L4"},{"filename":"src/placeos-driver/logger_io.cr","line_number":1,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/logger_io.cr#L1"},{"filename":"src/placeos-driver/protocol/request.cr","line_number":3,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/protocol/request.cr#L3"},{"filename":"src/placeos-driver/storage.cr","line_number":1,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/storage.cr#L1"},{"filename":"src/placeos-driver/subscriptions.cr","line_number":6,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/subscriptions.cr#L6"},{"filename":"src/placeos-driver/transport/http.cr","line_number":6,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/http.cr#L6"},{"filename":"src/placeos-driver/transport/ssh.cr","line_number":9,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L9"},{"filename":"src/placeos-driver/utilities/binder.cr","line_number":1,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/utilities/binder.cr#L1"},{"filename":"src/placeos-driver/utilities/discovery.cr","line_number":1,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/utilities/discovery.cr#L1"},{"filename":"src/placeos-driver/utilities/rescue_from.cr","line_number":1,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/utilities/rescue_from.cr#L1"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"LOG_FORMAT","name":"LOG_FORMAT","value":"ENV[\"PLACE_LOG_FORMAT\"]?.presence || \"JSON\""},{"id":"LOG_FORMATTER","name":"LOG_FORMATTER","value":"LOG_FORMAT == \"JSON\" ? ActionController.json_formatter : ActionController.default_formatter"},{"id":"RESERVED_METHODS","name":"RESERVED_METHODS","value":"{\"initialize\" => true, \"received\" => true, \"connected\" => true, \"disconnected\" => true, \"on_load\" => true, \"on_update\" => true, \"on_unload\" => true, \"websocket_headers\" => true, \"before_request\" => true, \"[]?\" => true, \"[]\" => true, \"[]=\" => true, \"send\" => true, \"__handle_rescue_from__\" => true, \"transport\" => true, \"logger\" => true, \"queue\" => true, \"setting\" => true, \"schedule\" => true} of Nil => Nil"},{"id":"VERSION","name":"VERSION","value":"{{ (`shards version \\\"/home/runner/work/driver/driver/src/placeos-driver\\\"`).chomp.stringify.downcase }}"}],"namespace":{"html_id":"placeos-driver/PlaceOS","kind":"module","full_name":"PlaceOS","name":"PlaceOS"},"doc":"This is base class for all PlaceOS drivers.\nIt implements a standardised interface by introspecting the driver code you write.","summary":"<p>This is base class for all PlaceOS drivers.</p>","class_methods":[{"html_id":"default_settings(hash)-class-method","name":"default_settings","doc":"provide example settings for your driver that can be customised in backoffice","summary":"<p>provide example settings for your driver that can be customised in backoffice</p>","abstract":false,"args":[{"name":"hash","external_name":"hash","restriction":""}],"args_string":"(hash)","args_html":"(hash)","location":{"filename":"src/placeos-driver/utilities/discovery.cr","line_number":62,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/utilities/discovery.cr#L62"},"def":{"name":"default_settings","args":[{"name":"hash","external_name":"hash","restriction":""}],"visibility":"Public","body":"Utilities::Discovery.settings[:default_settings] = hash.to_json"},"external_var":false},{"html_id":"description(markdown)-class-method","name":"description","doc":"provide a description for your driver that will be diplayed in backoffice.\n\nit supports rendering markdown, so you can provide links to manuals and photos etc","summary":"<p>provide a description for your driver that will be diplayed in backoffice.</p>","abstract":false,"args":[{"name":"markdown","external_name":"markdown","restriction":""}],"args_string":"(markdown)","args_html":"(markdown)","location":{"filename":"src/placeos-driver/utilities/discovery.cr","line_number":33,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/utilities/discovery.cr#L33"},"def":{"name":"description","args":[{"name":"markdown","external_name":"markdown","restriction":""}],"visibility":"Public","body":"Utilities::Discovery.settings[:description] = markdown.to_s"},"external_var":false},{"html_id":"descriptive_name(name)-class-method","name":"descriptive_name","doc":"This is the name of the device you are writing a driver for.\n\nexamples such as: Sony VISCA Camera, Samsung MDC Protocol","summary":"<p>This is the name of the device you are writing a driver for.</p>","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""}],"args_string":"(name)","args_html":"(name)","location":{"filename":"src/placeos-driver/utilities/discovery.cr","line_number":19,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/utilities/discovery.cr#L19"},"def":{"name":"descriptive_name","args":[{"name":"name","external_name":"name","restriction":""}],"visibility":"Public","body":"Utilities::Discovery.settings[:descriptive_name] = name.to_s"},"external_var":false},{"html_id":"generic_name(name)-class-method","name":"generic_name","doc":"This is the name other drivers and frontends will use to access the driver functionality\n\nexmaples such as: Camera, Display","summary":"<p>This is the name other drivers and frontends will use to access the driver functionality</p>","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""}],"args_string":"(name)","args_html":"(name)","location":{"filename":"src/placeos-driver/utilities/discovery.cr","line_number":26,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/utilities/discovery.cr#L26"},"def":{"name":"generic_name","args":[{"name":"name","external_name":"name","restriction":""}],"visibility":"Public","body":"Utilities::Discovery.settings[:generic_name] = name.to_s"},"external_var":false},{"html_id":"makebreak!-class-method","name":"makebreak!","doc":"when using a TCP protocol, we want to close the connection after every request / response","summary":"<p>when using a TCP protocol, we want to close the connection after every request / response</p>","abstract":false,"location":{"filename":"src/placeos-driver/utilities/discovery.cr","line_number":57,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/utilities/discovery.cr#L57"},"def":{"name":"makebreak!","visibility":"Public","body":"Utilities::Discovery.settings[:makebreak] = true"},"external_var":false},{"html_id":"register_log_level_signal-class-method","name":"register_log_level_signal","doc":"Change the log level at run-time.\nToggle TRACE level logging using `kill -s USR1 %PID`","summary":"<p>Change the log level at run-time.</p>","abstract":false,"location":{"filename":"src/placeos-driver/logger.cr","line_number":17,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/logger.cr#L17"},"def":{"name":"register_log_level_signal","visibility":"Public","body":"Signal::USR1.trap do |signal|\n  @@trace = !@@trace\n  level = @@trace ? ::Log::Severity::Trace : ::Log::Severity::Error\n  Log.info do \"> Log level changed to #{level}\" end\n\n  backend = ::Log::IOBackend.new(PlaceOS::Driver.logger_io)\n  backend.formatter = PlaceOS::Driver::LOG_FORMATTER\n  Log.builder.bind(\"*\", level, backend)\n  signal.ignore\n  register_log_level_signal\nend"},"external_var":false},{"html_id":"tcp_port(port)-class-method","name":"tcp_port","doc":"define a TCP port default if your driver connects over a raw TCP socket","summary":"<p>define a TCP port default if your driver connects over a raw TCP socket</p>","abstract":false,"args":[{"name":"port","external_name":"port","restriction":""}],"args_string":"(port)","args_html":"(port)","location":{"filename":"src/placeos-driver/utilities/discovery.cr","line_number":38,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/utilities/discovery.cr#L38"},"def":{"name":"tcp_port","args":[{"name":"port","external_name":"port","restriction":""}],"visibility":"Public","body":"Utilities::Discovery.settings[:tcp_port] = port.to_i"},"external_var":false},{"html_id":"udp_port(port)-class-method","name":"udp_port","doc":"define a UDP port default if your driver connects over a raw UDP socket\n\nalso use this if you are using multicast for communications","summary":"<p>define a UDP port default if your driver connects over a raw UDP socket</p>","abstract":false,"args":[{"name":"port","external_name":"port","restriction":""}],"args_string":"(port)","args_html":"(port)","location":{"filename":"src/placeos-driver/utilities/discovery.cr","line_number":45,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/utilities/discovery.cr#L45"},"def":{"name":"udp_port","args":[{"name":"port","external_name":"port","restriction":""}],"visibility":"Public","body":"Utilities::Discovery.settings[:udp_port] = port.to_i"},"external_var":false},{"html_id":"uri_base(url)-class-method","name":"uri_base","doc":"the default base URI for a service driver, all HTTP requests will have this domain and path appended\n\nfor example: https://api.google.com/","summary":"<p>the default base URI for a service driver, all HTTP requests will have this domain and path appended</p>","abstract":false,"args":[{"name":"url","external_name":"url","restriction":""}],"args_string":"(url)","args_html":"(url)","location":{"filename":"src/placeos-driver/utilities/discovery.cr","line_number":52,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/utilities/discovery.cr#L52"},"def":{"name":"uri_base","args":[{"name":"url","external_name":"url","restriction":""}],"visibility":"Public","body":"Utilities::Discovery.settings[:uri_base] = url.to_s"},"external_var":false}],"instance_methods":[{"html_id":"[](key):JSON::Any-instance-method","name":"[]","doc":"returns the current value of a status value and raises if it does not exist","summary":"<p>returns the current value of a status value and raises if it does not exist</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":""}],"args_string":"(key) : JSON::Any","args_html":"(key) : JSON::Any","location":{"filename":"src/placeos-driver.cr","line_number":171,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L171"},"def":{"name":"[]","args":[{"name":"key","external_name":"key","restriction":""}],"return_type":"JSON::Any","visibility":"Public","body":"JSON.parse(@__storage__[key])"},"external_var":false},{"html_id":"[]=(key,value)-instance-method","name":"[]=","doc":"Expose a status key to other drivers and frontends #}\nallowing them to bind to value updates","summary":"<p>Expose a status key to other drivers and frontends #} allowing them to bind to value updates</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":""},{"name":"value","external_name":"value","restriction":""}],"args_string":"(key, value)","args_html":"(key, value)","location":{"filename":"src/placeos-driver.cr","line_number":154,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L154"},"def":{"name":"[]=","args":[{"name":"key","external_name":"key","restriction":""},{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"key = key.to_s\n\n\n\ncurrent_value = @__storage__[key]?\njson_data = value.is_a?(::Enum) ? value.to_s.to_json : value.to_json\nif json_data != current_value\n  @__storage__[key] = json_data\n  @__logger__.debug do \"status updated: #{key} = #{json_data}\" end\nelse\n  @__logger__.debug do \"no change for: #{key} = #{json_data}\" end\nend\nvalue\n"},"external_var":false},{"html_id":"[]?(key):JSON::Any|Nil-instance-method","name":"[]?","doc":"returns the current value of a status value and nil if it does not exist","summary":"<p>returns the current value of a status value and nil if it does not exist</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":""}],"args_string":"(key) : JSON::Any | Nil","args_html":"(key) : JSON::Any | Nil","location":{"filename":"src/placeos-driver.cr","line_number":176,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L176"},"def":{"name":"[]?","args":[{"name":"key","external_name":"key","restriction":""}],"return_type":"JSON::Any | ::Nil","visibility":"Public","body":"if json_data = @__storage__[key]?\n  JSON.parse(json_data)\nend"},"external_var":false},{"html_id":"config:PlaceOS::Driver::DriverModel-instance-method","name":"config","doc":"the modules database configuration","summary":"<p>the modules database configuration</p>","abstract":false,"location":{"filename":"src/placeos-driver.cr","line_number":127,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L127"},"def":{"name":"config","return_type":"::PlaceOS::Driver::DriverModel","visibility":"Public","body":"@__driver_model__"},"external_var":false},{"html_id":"define_setting(name,value)-instance-method","name":"define_setting","doc":"if you would like to save an updated value to settings so it survives restarts","summary":"<p>if you would like to save an updated value to settings so it survives restarts</p>","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""},{"name":"value","external_name":"value","restriction":""}],"args_string":"(name, value)","args_html":"(name, value)","location":{"filename":"src/placeos-driver.cr","line_number":238,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L238"},"def":{"name":"define_setting","args":[{"name":"name","external_name":"name","restriction":""},{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"PlaceOS::Driver::Protocol.instance.request(@__module_id__, :setting, {name, value})"},"external_var":false},{"html_id":"disconnect-instance-method","name":"disconnect","doc":"forces a disconnect of the network transport, which will promptly reconnect","summary":"<p>forces a disconnect of the network transport, which will promptly reconnect</p>","abstract":false,"location":{"filename":"src/placeos-driver.cr","line_number":345,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L345"},"def":{"name":"disconnect","visibility":"Public","body":"@__transport__.disconnect"},"external_var":false},{"html_id":"invoked_by_user_id-instance-method","name":"invoked_by_user_id","doc":"was the current function executed directly by a user?","summary":"<p>was the current function executed directly by a user?</p>","abstract":false,"location":{"filename":"src/placeos-driver.cr","line_number":148,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L148"},"def":{"name":"invoked_by_user_id","visibility":"Public","body":"Fiber.current.name"},"external_var":false},{"html_id":"logger:PlaceOS::Driver::Log-instance-method","name":"logger","abstract":false,"location":{"filename":"src/placeos-driver.cr","line_number":114,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L114"},"def":{"name":"logger","visibility":"Public","body":"@__logger__"},"external_var":false},{"html_id":"module_id:String-instance-method","name":"module_id","doc":"the id of the currently running module","summary":"<p>the id of the currently running module</p>","abstract":false,"location":{"filename":"src/placeos-driver.cr","line_number":138,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L138"},"def":{"name":"module_id","return_type":"String","visibility":"Public","body":"@__module_id__"},"external_var":false},{"html_id":"monitor(channel,&callback:Subscriptions::ChannelSubscription,String->Nil):Subscriptions::ChannelSubscription-instance-method","name":"monitor","doc":"monitor for messages being published on redis\n\n`subscription = monitor(\"my_service/channel\") { |subscription, string_value| ... }`\n\nuse `subscriptions.unsubscribe(subscription)` to unsubscribe","summary":"<p>monitor for messages being published on redis</p>","abstract":false,"args":[{"name":"channel","external_name":"channel","restriction":""}],"args_string":"(channel, &callback : Subscriptions::ChannelSubscription, String -> Nil) : Subscriptions::ChannelSubscription","args_html":"(channel, &callback : Subscriptions::ChannelSubscription, String -> Nil) : Subscriptions::ChannelSubscription","location":{"filename":"src/placeos-driver.cr","line_number":318,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L318"},"def":{"name":"monitor","args":[{"name":"channel","external_name":"channel","restriction":""}],"yields":2,"block_arity":2,"block_arg":{"name":"callback","external_name":"callback","restriction":"(Subscriptions::ChannelSubscription, String -> Nil)"},"return_type":"Subscriptions::ChannelSubscription","visibility":"Public","body":"if @__edge_driver__\n  raise(\"unsupported when running on the edge\")\nend\n@__subscriptions__.not_nil!.channel(channel.to_s, &callback)\n"},"external_var":false},{"html_id":"publish(channel,message)-instance-method","name":"publish","doc":"publishes a message to a channel on redis, available to any drivers monitoring for these events\n\n`publish(\"my_service/channel\", \"payload contents\")`","summary":"<p>publishes a message to a channel on redis, available to any drivers monitoring for these events</p>","abstract":false,"args":[{"name":"channel","external_name":"channel","restriction":""},{"name":"message","external_name":"message","restriction":""}],"args_string":"(channel, message)","args_html":"(channel, message)","location":{"filename":"src/placeos-driver.cr","line_number":302,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L302"},"def":{"name":"publish","args":[{"name":"channel","external_name":"channel","restriction":""},{"name":"message","external_name":"message","restriction":""}],"visibility":"Public","body":"message = message.to_s\nif @__edge_driver__\n  PlaceOS::Driver::Protocol.instance.request(channel, :publish, message, raw: true)\nelse\n  RedisStorage.with_redis(&.publish(\"placeos/#{channel}\", message))\nend\n@__logger__.debug do \"published: #{channel} -> #{message}\" end\nmessage\n"},"external_var":false},{"html_id":"queue:PlaceOS::Driver::Queue-instance-method","name":"queue","abstract":false,"location":{"filename":"src/placeos-driver.cr","line_number":114,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L114"},"def":{"name":"queue","visibility":"Public","body":"@__queue__"},"external_var":false},{"html_id":"queue(**opts,&block:Task->Nil)-instance-method","name":"queue","doc":"Queue a task that intends to use the transport layer\n\nprimarily useful where a device can only perform a single function at a time and ordering is important\n\ni.e power-on, switch-input, set-volume\n\nhowever you typically won't need to use this function directly. See #send\n\n`opts` options include:\n\n* priority: an `Int` between 0 and 100 where 0 is highest priority and 100 is the lowest\n\n* timeout: a `Time::Span` indicating the maximum time the task should wait for a response\n\n* retries: how many attempts should be made to successfully complete a task\n\n* wait: `Bool` should we wait for a response (defaults to true)\n\n* name: `String` of the command, if there is already a command with the same name in the queue, it will be replaced with this.\n\n* delay: `Time::Span` how long to wait after executing this command before executing the next\n\n* clear_queue: `Bool` after executing task, clear all the remaining tasks in the queue","summary":"<p>Queue a task that intends to use the transport layer</p>","abstract":false,"location":{"filename":"src/placeos-driver.cr","line_number":265,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L265"},"def":{"name":"queue","double_splat":{"name":"opts","external_name":"opts","restriction":""},"yields":1,"block_arity":1,"block_arg":{"name":"block","external_name":"block","restriction":"(Task -> Nil)"},"visibility":"Public","body":"@__queue__.add(**opts, &block)"},"external_var":false},{"html_id":"schedule:PlaceOS::Driver::Proxy::Scheduler-instance-method","name":"schedule","abstract":false,"location":{"filename":"src/placeos-driver.cr","line_number":114,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L114"},"def":{"name":"schedule","visibility":"Public","body":"@__schedule__"},"external_var":false},{"html_id":"send(message,**opts)-instance-method","name":"send","doc":"queues a message to be sent to the transport layer.\n\nsee #queue for available options","summary":"<p>queues a message to be sent to the transport layer.</p>","abstract":false,"args":[{"name":"message","external_name":"message","restriction":""}],"args_string":"(message, **opts)","args_html":"(message, **opts)","location":{"filename":"src/placeos-driver.cr","line_number":272,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L272"},"def":{"name":"send","args":[{"name":"message","external_name":"message","restriction":""}],"double_splat":{"name":"opts","external_name":"opts","restriction":""},"visibility":"Public","body":"queue(**opts) do |task|\n  if task.responds_to?(:request_payload)\n    task.request_payload = message\n  end\n  transport.send(message)\nend"},"external_var":false},{"html_id":"send(message,**opts,&block:Bytes,PlaceOS::Driver::Task->Nil)-instance-method","name":"send","doc":"queues a message to be sent to the transport layer.\n\nthe provided block is used to process responses while this task is active","summary":"<p>queues a message to be sent to the transport layer.</p>","abstract":false,"args":[{"name":"message","external_name":"message","restriction":""}],"args_string":"(message, **opts, &block : Bytes, PlaceOS::Driver::Task -> Nil)","args_html":"(message, **opts, &block : Bytes, <a href=\"../PlaceOS/Driver/Task.html\">PlaceOS::Driver::Task</a> -> Nil)","location":{"filename":"src/placeos-driver.cr","line_number":282,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L282"},"def":{"name":"send","args":[{"name":"message","external_name":"message","restriction":""}],"double_splat":{"name":"opts","external_name":"opts","restriction":""},"yields":2,"block_arity":2,"block_arg":{"name":"block","external_name":"block","restriction":"(Bytes, PlaceOS::Driver::Task -> Nil)"},"visibility":"Public","body":"queue(**opts) do |task|\n  if task.responds_to?(:request_payload)\n    task.request_payload = message\n  end\n  transport.send(message, task, &block)\nend"},"external_var":false},{"html_id":"set_connected_state(online,status_only=true)-instance-method","name":"set_connected_state","doc":"used to provide feedback in backoffice about the state of a driver\n\nonline: true == Green, online: false == Red in backoffice\n\nsetting `status_only: false` will set the queue online state.\n\nwhen offline, this means the queue will ignore all unnamed tasks to avoid memory leaks.","summary":"<p>used to provide feedback in backoffice about the state of a driver</p>","abstract":false,"args":[{"name":"online","external_name":"online","restriction":""},{"name":"status_only","default_value":"true","external_name":"status_only","restriction":""}],"args_string":"(online, status_only = true)","args_html":"(online, status_only = <span class=\"n\">true</span>)","location":{"filename":"src/placeos-driver.cr","line_number":335,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L335"},"def":{"name":"set_connected_state","args":[{"name":"online","external_name":"online","restriction":""},{"name":"status_only","default_value":"true","external_name":"status_only","restriction":""}],"visibility":"Public","body":"online = !(!online)\nif status_only\n  @__queue__.set_connected(online)\nelse\n  @__queue__.online = online\nend\n"},"external_var":false},{"html_id":"setting:PlaceOS::Driver::Settings-instance-method","name":"setting","abstract":false,"location":{"filename":"src/placeos-driver.cr","line_number":114,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L114"},"def":{"name":"setting","visibility":"Public","body":"@__setting__"},"external_var":false},{"html_id":"signal_status(key)-instance-method","name":"signal_status","doc":"pushes a change notification for the key specified, even though it hasn't changed","summary":"<p>pushes a change notification for the key specified, even though it hasn't changed</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":""}],"args_string":"(key)","args_html":"(key)","location":{"filename":"src/placeos-driver.cr","line_number":198,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L198"},"def":{"name":"signal_status","args":[{"name":"key","external_name":"key","restriction":""}],"visibility":"Public","body":"spawn(same_thread: true) do @__storage__.signal_status(key) end"},"external_var":false},{"html_id":"subscribe(status,&callback:Subscriptions::DirectSubscription,String->Nil):Subscriptions::DirectSubscription-instance-method","name":"subscribe","doc":"Subscribe to a local status value\n\n`subscription = subscribe(:my_status) { |subscription, string_value| ... }`\n\nuse `subscriptions.unsubscribe(subscription)` to unsubscribe","summary":"<p>Subscribe to a local status value</p>","abstract":false,"args":[{"name":"status","external_name":"status","restriction":""}],"args_string":"(status, &callback : Subscriptions::DirectSubscription, String -> Nil) : Subscriptions::DirectSubscription","args_html":"(status, &callback : Subscriptions::DirectSubscription, String -> Nil) : Subscriptions::DirectSubscription","location":{"filename":"src/placeos-driver.cr","line_number":294,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L294"},"def":{"name":"subscribe","args":[{"name":"status","external_name":"status","restriction":""}],"yields":2,"block_arity":2,"block_arg":{"name":"callback","external_name":"callback","restriction":"(Subscriptions::DirectSubscription, String -> Nil)"},"return_type":"Subscriptions::DirectSubscription","visibility":"Public","body":"if @__edge_driver__\n  raise(\"unsupported when running on the edge\")\nend\n@__subscriptions__.not_nil!.subscribe(@__module_id__, status.to_s, &callback)\n"},"external_var":false},{"html_id":"subscriptions:PlaceOS::Driver::Proxy::Subscriptions-instance-method","name":"subscriptions","doc":"provides access to the modules subscriptions tracker","summary":"<p>provides access to the modules subscriptions tracker</p>","abstract":false,"location":{"filename":"src/placeos-driver.cr","line_number":121,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L121"},"def":{"name":"subscriptions","return_type":"::PlaceOS::Driver::Proxy::Subscriptions","visibility":"Public","body":"if @__edge_driver__\n  raise(\"unsupported when running on the edge\")\nend\n@__subscriptions__.not_nil!\n"},"external_var":false},{"html_id":"system(id:String):Proxy::System-instance-method","name":"system","doc":"provides access to the details of a remote system, if you have the ID of the system.","summary":"<p>provides access to the details of a remote system, if you have the ID of the system.</p>","abstract":false,"args":[{"name":"id","external_name":"id","restriction":"String"}],"args_string":"(id : String) : Proxy::System","args_html":"(id : String) : <a href=\"../PlaceOS/Driver/Proxy/System.html\">Proxy::System</a>","location":{"filename":"src/placeos-driver.cr","line_number":215,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L215"},"def":{"name":"system","args":[{"name":"id","external_name":"id","restriction":"String"}],"return_type":"Proxy::System","visibility":"Public","body":"Proxy::System.new(id, @__module_id__, @__logger__, @__subscriptions__.not_nil!)"},"external_var":false},{"html_id":"system:Proxy::System-instance-method","name":"system","doc":"provides access to the details of the system the logic driver is running in.\n\nNOTE:: this only works for logic drivers as other drivers can be in multiple systems.","summary":"<p>provides access to the details of the system the logic driver is running in.</p>","abstract":false,"location":{"filename":"src/placeos-driver.cr","line_number":205,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L205"},"def":{"name":"system","return_type":"Proxy::System","visibility":"Public","body":"sys = @__system__\nif sys\n  return sys\nend\n\nsystem_model = @__driver_model__.control_system\nif system_model\nelse\n  raise(\"not directly associated with a system\")\nend\n@__system__ = Proxy::System.new(system_model, @__module_id__, @__logger__, @__subscriptions__.not_nil!)\n"},"external_var":false},{"html_id":"transport:PlaceOS::Driver::Transport-instance-method","name":"transport","abstract":false,"location":{"filename":"src/placeos-driver.cr","line_number":114,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L114"},"def":{"name":"transport","visibility":"Public","body":"@__transport__"},"external_var":false},{"html_id":"wake_device(mac_address,subnet=\"255.255.255.255\",port=9)-instance-method","name":"wake_device","doc":"sends a wake-on-lan message the specified mac_address, specify a subnet for directed WOL","summary":"<p>sends a wake-on-lan message the specified mac_address, specify a subnet for directed WOL</p>","abstract":false,"args":[{"name":"mac_address","external_name":"mac_address","restriction":""},{"name":"subnet","default_value":"\"255.255.255.255\"","external_name":"subnet","restriction":""},{"name":"port","default_value":"9","external_name":"port","restriction":""}],"args_string":"(mac_address, subnet = \"255.255.255.255\", port = 9)","args_html":"(mac_address, subnet = <span class=\"s\">&quot;255.255.255.255&quot;</span>, port = <span class=\"n\">9</span>)","location":{"filename":"src/placeos-driver.cr","line_number":324,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L324"},"def":{"name":"wake_device","args":[{"name":"mac_address","external_name":"mac_address","restriction":""},{"name":"subnet","default_value":"\"255.255.255.255\"","external_name":"subnet","restriction":""},{"name":"port","default_value":"9","external_name":"port","restriction":""}],"visibility":"Public","body":"PlaceOS::Driver::Utilities::WakeOnLAN.wake_device(mac_address, subnet, port)"},"external_var":false}],"macros":[{"html_id":"accessor(name,implementing=nil)-macro","name":"accessor","doc":"Creates helper methods in *logic drivers* for accessing other drivers in a system\n\nFor example, if you want to access `system[:Display_1]` via `display` use `accessor display : Display_1`\n\nfor `system.all(Camera)` use `accessor cameras : Array(Camera)`\n\nfor `system.all(Display, implementing: Interface::Powerable)` use `accessor displays : Array(Display), implementing: Interface::Powerable`\n\nfor `system.implementing(Interface::Powerable)` use `accessor powerable, implementing: Interface::Powerable`","summary":"<p>Creates helper methods in <em>logic drivers</em> for accessing other drivers in a system</p>","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""},{"name":"implementing","default_value":"nil","external_name":"implementing","restriction":""}],"args_string":"(name, implementing = nil)","args_html":"(name, implementing = <span class=\"n\">nil</span>)","location":{"filename":"src/placeos-driver/utilities/discovery.cr","line_number":75,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/utilities/discovery.cr#L75"},"def":{"name":"accessor","args":[{"name":"name","external_name":"name","restriction":""},{"name":"implementing","default_value":"nil","external_name":"implementing","restriction":""}],"visibility":"Public","body":"    \n# ntype is the type of the name attribute. i.e. Display\n\n    \n{% ntype = name.type %}\n\n    \n{% optional = false %}\n\n    \n{% collection = false %}\n\n    \n{% methods = [] of Crystal::Macros::TypeNode %}\n\n\n    \n{% if ntype.is_a?(Union) %}\n      # Anything with a ? goes here: Array(Int32)? + Int32?\n      {% ntype = name.type.types[0] %}\n      {% if (name.type.types[1].stringify == \"::Nil\") || (name.type.types[1].stringify == \"Nil\") %}\n        {% optional = true %}\n      {% else %}\n        {{ raise(\"Can only specify a single driver class when aliasing\") }}\n      {% end %}\n    {% end %}\n\n\n    \n{% if ntype.is_a?(Path) %}\n      # Direct type: Int32, Display\n      # puts \"{{ name.var }} - {{ ntype }} - {{ optional }}\"\n      {% ntype = ntype.stringify %}\n      {% if implementing %}\n        {% components = ntype.split(\"_\") %}\n        {% if components[-1] =~ (/\\A\\d+\\z/) %}\n          {% components = components[0..-2] %}\n        {% end %}\n        {% ntype_fixed = (components.join(\"_\")).id %}\n        {{ raise(\"unsupported use of 'implementing', you probably meant: accessor Array(#{ntype_fixed}), implementing: #{implementing}\\nsee options: https://placeos.github.io/driver/PlaceOS/Driver.html#accessor(name,implementing=nil)-macro\") }}\n      {% end %}\n    {% else %}\n      {% if ntype.name.stringify == \"Array\" %}\n        {% collection = true %}\n        # puts \"{{ name.var }} - {{ ntype.name }} - {{ ntype.type_vars[0] }} - {{ optional }}\"\n        {% ntype = ntype.type_vars[0].stringify %}\n      {% else %}\n        {{ raise(\"Only generic type supported is Array\") }}\n      {% end %}\n    {% end %}\n\n\n    \n# Ensure implementing is an Array\n\n    \n{% if implementing %}\n      {% if !implementing.is_a?(ArrayLiteral) %}\n        {% implementing = [implementing] %}\n      {% end %}\n\n      # Attempt to inspect the modules so we can have compile time checking\n      {% compiler_enforced = true %}\n      {% for type in implementing %}\n        {% klass = type.resolve? %}\n        {% if klass %}\n          {% methods = methods + klass.methods %}\n          {% klasses = klass.ancestors.reject do |a| IGNORE_KLASSES.includes?(a.stringify) end %}\n          {% klasses.map do |a| methods = methods + a.methods end %}\n        {% else %}\n          {% compiler_enforced = false %}\n        {% end %}\n      {% end %}\n\n      {% if compiler_enforced %}\n        {% methods = methods.reject do |method| RESERVED_METHODS[method.name.stringify] end %}\n        {% methods = methods.reject() do |__arg0| __arg0.visibility != (:public) end %}\n        {% methods = methods.reject(&.accepts_block?) %}\n      {% else %}\n        {% methods = [] of Crystal::Macros::TypeNode %}\n      {% end %}\n\n      # {{ methods.map do |__arg2| __arg2.name.stringify end }} <- How does this look?\n\n      {% implements = implementing.map() do |__arg3| __arg3.id.stringify end %}\n    {% else %}\n      {% implements = [] of String %}\n    {% end %}\n\n\n    \n# non optional requirements to be recorded\n\n    \n{% if !optional %}\n      %requirements = Utilities::Discovery.requirements\n      %existing = %requirements[{{ ntype }}]? || [] of String\n      %existing += {{ implements }}{% if implements.empty? %} of String{% end %}\n      %existing.uniq!\n      %requirements[{{ ntype }}] = %existing\n    {% end %}\n\n\n    protected def \n{{ name.var }}\n\n      \n{% if collection %}\n        {% if implements.empty? %}\n          system.all({{ ntype }})\n        {% else %}\n          system.all({{ ntype }}, implementing: {{ implements[0] }})\n        {% end %}\n      {% else %}\n        {% if implements.empty? %}\n          system[{{ ntype }}]\n        {% else %}\n          system.implementing({{ implements[0] }})\n        {% end %}\n      {% end %}\n\n    \nend\n  \n"}},{"html_id":"bind(mod,status,handler=nil)-macro","name":"bind","doc":"a helper for any driver to bind to changes in its own status values\n*logic drivers* can additionally bind to status values on remote drivers\n\nlocal bind: `bind :power, :power_changed`\n\nremote bind: `bind Display_1, :power, :power_changed`\n\nthe `new_value` provided in the handler is a JSON string\n\nyou would define your handler as `protected def power_changed(_subscription, new_value : String)`","summary":"<p>a helper for any driver to bind to changes in its own status values <em>logic drivers</em> can additionally bind to status values on remote drivers</p>","abstract":false,"args":[{"name":"mod","external_name":"mod","restriction":""},{"name":"status","external_name":"status","restriction":""},{"name":"handler","default_value":"nil","external_name":"handler","restriction":""}],"args_string":"(mod, status, handler = nil)","args_html":"(mod, status, handler = <span class=\"n\">nil</span>)","location":{"filename":"src/placeos-driver/utilities/binder.cr","line_number":34,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/utilities/binder.cr#L34"},"def":{"name":"bind","args":[{"name":"mod","external_name":"mod","restriction":""},{"name":"status","external_name":"status","restriction":""},{"name":"handler","default_value":"nil","external_name":"handler","restriction":""}],"visibility":"Public","body":"    \n{% mod = mod.id.stringify %}\n\n    \n{% status = status.id.stringify %}\n\n    \n{% if handler %}\n      {% handler = handler.id.stringify %}\n      {% BINDINGS[(mod + status) + handler] = [mod, status, handler] %}\n    {% else %}\n      {% BINDINGS[mod + status] = [mod, status] %}\n    {% end %}\n\n  \n"}},{"html_id":"rescue_from(error_class,method=nil,&block)-macro","name":"rescue_from","doc":"provides a generic method for handling otherwise unhandled errors in your drivers functions\ni.e. `rescue_from(DivisionByZeroError, :return_zero)`\nor alternatively: `rescue_from(DivisionByZeroError) { 0 }`","summary":"<p>provides a generic method for handling otherwise unhandled errors in your drivers functions i.e.</p>","abstract":false,"args":[{"name":"error_class","external_name":"error_class","restriction":""},{"name":"method","default_value":"nil","external_name":"method","restriction":""}],"args_string":"(error_class, method = nil, &block)","args_html":"(error_class, method = <span class=\"n\">nil</span>, &block)","location":{"filename":"src/placeos-driver/utilities/rescue_from.cr","line_number":8,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/utilities/rescue_from.cr#L8"},"def":{"name":"rescue_from","args":[{"name":"error_class","external_name":"error_class","restriction":""},{"name":"method","default_value":"nil","external_name":"method","restriction":""}],"block_arg":{"name":"block","external_name":"block","restriction":""},"visibility":"Public","body":"    \n{% if method %}\n      {% RESCUE_FROM[error_class] = {method.id, nil} %}\n    {% else %}\n      {% method = \"__on_\" + (error_class.stringify.underscore.gsub(/\\:\\:/, \"_\")) %}\n      {% RESCUE_FROM[error_class] = {method.id, block} %}\n    {% end %}\n\n  \n"}},{"html_id":"setting(klass,*types)-macro","name":"setting","doc":"reads the provided class type out of the settings provided at the provided key.\n\ni.e. given a setting: `values: [1, 2, 3]`\n\nyou can extract index 2 number using: `setting(Int64, :values, 2)`","summary":"<p>reads the provided class type out of the settings provided at the provided key.</p>","abstract":false,"args":[{"name":"klass","external_name":"klass","restriction":""},{"name":"types","external_name":"types","restriction":""}],"args_string":"(klass, *types)","args_html":"(klass, *types)","location":{"filename":"src/placeos-driver.cr","line_number":224,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L224"},"def":{"name":"setting","args":[{"name":"klass","external_name":"klass","restriction":""},{"name":"types","external_name":"types","restriction":""}],"splat_index":1,"visibility":"Public","body":"    @__setting__.get \n{ setting(\n{{ klass }}\n, \n{{ types.splat }}\n) }\n  \n"}},{"html_id":"setting?(klass,*types)-macro","name":"setting?","doc":"reads the provided class type out of the settings provided at the provided key.\n\ni.e. given a setting: `keys: {\"public\": \"123456\"}`\n\nyou can extract the public key using: `setting?(String, :keys, :public)`","summary":"<p>reads the provided class type out of the settings provided at the provided key.</p>","abstract":false,"args":[{"name":"klass","external_name":"klass","restriction":""},{"name":"types","external_name":"types","restriction":""}],"args_string":"(klass, *types)","args_html":"(klass, *types)","location":{"filename":"src/placeos-driver.cr","line_number":233,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L233"},"def":{"name":"setting?","args":[{"name":"klass","external_name":"klass","restriction":""},{"name":"types","external_name":"types","restriction":""}],"splat_index":1,"visibility":"Public","body":"    @__setting__.get \n{ setting?(\n{{ klass }}\n, \n{{ types.splat }}\n) }\n  \n"}},{"html_id":"status(klass,key)-macro","name":"status","doc":"reads a status key and deserialises the value into the class provided.\n\nIt raises if the class does not exist.","summary":"<p>reads a status key and deserialises the value into the class provided.</p>","abstract":false,"args":[{"name":"klass","external_name":"klass","restriction":""},{"name":"key","external_name":"key","restriction":""}],"args_string":"(klass, key)","args_html":"(klass, key)","location":{"filename":"src/placeos-driver.cr","line_number":185,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L185"},"def":{"name":"status","args":[{"name":"klass","external_name":"klass","restriction":""},{"name":"key","external_name":"key","restriction":""}],"visibility":"Public","body":"    \n{{ klass }}\n.from_json(@__storage__[\n{{ key }}\n.to_s])\n  \n"}},{"html_id":"status?(klass,key)-macro","name":"status?","doc":"reads a status key and deserialises the value into the class provided.\n\nIt returns `nil` if the key doesn't exist","summary":"<p>reads a status key and deserialises the value into the class provided.</p>","abstract":false,"args":[{"name":"klass","external_name":"klass","restriction":""},{"name":"key","external_name":"key","restriction":""}],"args_string":"(klass, key)","args_html":"(klass, key)","location":{"filename":"src/placeos-driver.cr","line_number":192,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L192"},"def":{"name":"status?","args":[{"name":"klass","external_name":"klass","restriction":""},{"name":"key","external_name":"key","restriction":""}],"visibility":"Public","body":"    \n%value\n = @__storage__[\n{{ key }}\n.to_s]?\n    \n{{ klass }}\n.from_json(\n%value\n) if \n%value\n\n  \n"}}],"types":[{"html_id":"placeos-driver/PlaceOS/Driver/DriverModel","path":"PlaceOS/Driver/DriverModel.html","kind":"struct","full_name":"PlaceOS::Driver::DriverModel","name":"DriverModel","abstract":false,"superclass":{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"},{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/driver_model.cr","line_number":3,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L3"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"}],"extended_modules":[{"html_id":"placeos-driver/JSON/Schema","kind":"module","full_name":"JSON::Schema","name":"Schema"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver","kind":"class","full_name":"PlaceOS::Driver","name":"Driver"},"constructors":[{"html_id":"new(pull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"args_string":"(pull : JSON::PullParser)","args_html":"(pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":4,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L4"},"def":{"name":"new","args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"visibility":"Public","body":"new_from_json_pull_parser(pull)"},"external_var":false},{"html_id":"new(*,__pull_for_json_serializablepull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"args_string":"(*, __pull_for_json_serializable pull : JSON::PullParser)","args_html":"(*, __pull_for_json_serializable pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":4,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L4"},"def":{"name":"new","args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"splat_index":0,"visibility":"Public","body":"_ = allocate\n_.initialize(__pull_for_json_serializable: pull)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"control_system:ControlSystem|Nil-instance-method","name":"control_system","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":150,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L150"},"def":{"name":"control_system","return_type":"ControlSystem | ::Nil","visibility":"Public","body":"@control_system"},"external_var":false},{"html_id":"control_system=(control_system:ControlSystem|Nil)-instance-method","name":"control_system=","abstract":false,"args":[{"name":"control_system","external_name":"control_system","restriction":"ControlSystem | ::Nil"}],"args_string":"(control_system : ControlSystem | Nil)","args_html":"(control_system : <a href=\"../../PlaceOS/Driver/DriverModel/ControlSystem.html\">ControlSystem</a> | Nil)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":150,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L150"},"def":{"name":"control_system=","args":[{"name":"control_system","external_name":"control_system","restriction":"ControlSystem | ::Nil"}],"visibility":"Public","body":"@control_system = control_system"},"external_var":false},{"html_id":"ip:String|Nil-instance-method","name":"ip","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":151,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L151"},"def":{"name":"ip","return_type":"String | ::Nil","visibility":"Public","body":"@ip"},"external_var":false},{"html_id":"ip=(ip:String|Nil)-instance-method","name":"ip=","abstract":false,"args":[{"name":"ip","external_name":"ip","restriction":"String | ::Nil"}],"args_string":"(ip : String | Nil)","args_html":"(ip : String | Nil)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":151,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L151"},"def":{"name":"ip=","args":[{"name":"ip","external_name":"ip","restriction":"String | ::Nil"}],"visibility":"Public","body":"@ip = ip"},"external_var":false},{"html_id":"makebreak:Bool-instance-method","name":"makebreak","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":155,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L155"},"def":{"name":"makebreak","return_type":"Bool","visibility":"Public","body":"@makebreak"},"external_var":false},{"html_id":"makebreak=(makebreak:Bool)-instance-method","name":"makebreak=","abstract":false,"args":[{"name":"makebreak","external_name":"makebreak","restriction":"Bool"}],"args_string":"(makebreak : Bool)","args_html":"(makebreak : Bool)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":155,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L155"},"def":{"name":"makebreak=","args":[{"name":"makebreak","external_name":"makebreak","restriction":"Bool"}],"visibility":"Public","body":"@makebreak = makebreak"},"external_var":false},{"html_id":"notes:String|Nil-instance-method","name":"notes","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":158,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L158"},"def":{"name":"notes","return_type":"String | ::Nil","visibility":"Public","body":"@notes"},"external_var":false},{"html_id":"notes=(notes:String|Nil)-instance-method","name":"notes=","abstract":false,"args":[{"name":"notes","external_name":"notes","restriction":"String | ::Nil"}],"args_string":"(notes : String | Nil)","args_html":"(notes : String | Nil)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":158,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L158"},"def":{"name":"notes=","args":[{"name":"notes","external_name":"notes","restriction":"String | ::Nil"}],"visibility":"Public","body":"@notes = notes"},"external_var":false},{"html_id":"port:Int32|Nil-instance-method","name":"port","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":154,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L154"},"def":{"name":"port","return_type":"Int32 | ::Nil","visibility":"Public","body":"@port"},"external_var":false},{"html_id":"port=(port:Int32|Nil)-instance-method","name":"port=","abstract":false,"args":[{"name":"port","external_name":"port","restriction":"Int32 | ::Nil"}],"args_string":"(port : Int32 | Nil)","args_html":"(port : Int32 | Nil)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":154,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L154"},"def":{"name":"port=","args":[{"name":"port","external_name":"port","restriction":"Int32 | ::Nil"}],"visibility":"Public","body":"@port = port"},"external_var":false},{"html_id":"role:Role-instance-method","name":"role","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":161,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L161"},"def":{"name":"role","return_type":"Role","visibility":"Public","body":"@role"},"external_var":false},{"html_id":"role=(role:Role)-instance-method","name":"role=","abstract":false,"args":[{"name":"role","external_name":"role","restriction":"Role"}],"args_string":"(role : Role)","args_html":"(role : <a href=\"../../PlaceOS/Driver/DriverModel/Role.html\">Role</a>)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":161,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L161"},"def":{"name":"role=","args":[{"name":"role","external_name":"role","restriction":"Role"}],"visibility":"Public","body":"@role = role"},"external_var":false},{"html_id":"settings:Hash(String,JSON::Any)-instance-method","name":"settings","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":157,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L157"},"def":{"name":"settings","return_type":"Hash(String, JSON::Any)","visibility":"Public","body":"@settings"},"external_var":false},{"html_id":"settings=(settings:Hash(String,JSON::Any))-instance-method","name":"settings=","abstract":false,"args":[{"name":"settings","external_name":"settings","restriction":"Hash(String, JSON::Any)"}],"args_string":"(settings : Hash(String, JSON::Any))","args_html":"(settings : Hash(String, JSON::Any))","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":157,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L157"},"def":{"name":"settings=","args":[{"name":"settings","external_name":"settings","restriction":"Hash(String, JSON::Any)"}],"visibility":"Public","body":"@settings = settings"},"external_var":false},{"html_id":"tls:Bool-instance-method","name":"tls","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":153,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L153"},"def":{"name":"tls","return_type":"Bool","visibility":"Public","body":"@tls"},"external_var":false},{"html_id":"tls=(tls:Bool)-instance-method","name":"tls=","abstract":false,"args":[{"name":"tls","external_name":"tls","restriction":"Bool"}],"args_string":"(tls : Bool)","args_html":"(tls : Bool)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":153,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L153"},"def":{"name":"tls=","args":[{"name":"tls","external_name":"tls","restriction":"Bool"}],"visibility":"Public","body":"@tls = tls"},"external_var":false},{"html_id":"udp:Bool-instance-method","name":"udp","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":152,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L152"},"def":{"name":"udp","return_type":"Bool","visibility":"Public","body":"@udp"},"external_var":false},{"html_id":"udp=(udp:Bool)-instance-method","name":"udp=","abstract":false,"args":[{"name":"udp","external_name":"udp","restriction":"Bool"}],"args_string":"(udp : Bool)","args_html":"(udp : Bool)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":152,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L152"},"def":{"name":"udp=","args":[{"name":"udp","external_name":"udp","restriction":"Bool"}],"visibility":"Public","body":"@udp = udp"},"external_var":false},{"html_id":"uri:String|Nil-instance-method","name":"uri","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":156,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L156"},"def":{"name":"uri","return_type":"String | ::Nil","visibility":"Public","body":"@uri"},"external_var":false},{"html_id":"uri=(uri:String|Nil)-instance-method","name":"uri=","abstract":false,"args":[{"name":"uri","external_name":"uri","restriction":"String | ::Nil"}],"args_string":"(uri : String | Nil)","args_html":"(uri : String | Nil)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":156,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L156"},"def":{"name":"uri=","args":[{"name":"uri","external_name":"uri","restriction":"String | ::Nil"}],"visibility":"Public","body":"@uri = uri"},"external_var":false}],"types":[{"html_id":"placeos-driver/PlaceOS/Driver/DriverModel/ControlSystem","path":"PlaceOS/Driver/DriverModel/ControlSystem.html","kind":"struct","full_name":"PlaceOS::Driver::DriverModel::ControlSystem","name":"ControlSystem","abstract":false,"superclass":{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"},{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/driver_model.cr","line_number":6,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L6"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"}],"extended_modules":[{"html_id":"placeos-driver/JSON/Schema","kind":"module","full_name":"JSON::Schema","name":"Schema"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/DriverModel","kind":"struct","full_name":"PlaceOS::Driver::DriverModel","name":"DriverModel"},"constructors":[{"html_id":"new(pull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"args_string":"(pull : JSON::PullParser)","args_html":"(pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":7,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L7"},"def":{"name":"new","args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"visibility":"Public","body":"new_from_json_pull_parser(pull)"},"external_var":false},{"html_id":"new(*,__pull_for_json_serializablepull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"args_string":"(*, __pull_for_json_serializable pull : JSON::PullParser)","args_html":"(*, __pull_for_json_serializable pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":7,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L7"},"def":{"name":"new","args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"splat_index":0,"visibility":"Public","body":"_ = allocate\n_.initialize(__pull_for_json_serializable: pull)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"bookable:Bool-instance-method","name":"bookable","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":14,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L14"},"def":{"name":"bookable","return_type":"Bool","visibility":"Public","body":"@bookable"},"external_var":false},{"html_id":"bookable=(bookable:Bool)-instance-method","name":"bookable=","abstract":false,"args":[{"name":"bookable","external_name":"bookable","restriction":"Bool"}],"args_string":"(bookable : Bool)","args_html":"(bookable : Bool)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":14,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L14"},"def":{"name":"bookable=","args":[{"name":"bookable","external_name":"bookable","restriction":"Bool"}],"visibility":"Public","body":"@bookable = bookable"},"external_var":false},{"html_id":"capacity:Int32-instance-method","name":"capacity","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":18,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L18"},"def":{"name":"capacity","return_type":"Int32","visibility":"Public","body":"@capacity"},"external_var":false},{"html_id":"capacity=(capacity:Int32)-instance-method","name":"capacity=","abstract":false,"args":[{"name":"capacity","external_name":"capacity","restriction":"Int32"}],"args_string":"(capacity : Int32)","args_html":"(capacity : Int32)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":18,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L18"},"def":{"name":"capacity=","args":[{"name":"capacity","external_name":"capacity","restriction":"Int32"}],"visibility":"Public","body":"@capacity = capacity"},"external_var":false},{"html_id":"code:String|Nil-instance-method","name":"code","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":16,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L16"},"def":{"name":"code","return_type":"String | ::Nil","visibility":"Public","body":"@code"},"external_var":false},{"html_id":"code=(code:String|Nil)-instance-method","name":"code=","abstract":false,"args":[{"name":"code","external_name":"code","restriction":"String | ::Nil"}],"args_string":"(code : String | Nil)","args_html":"(code : String | Nil)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":16,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L16"},"def":{"name":"code=","args":[{"name":"code","external_name":"code","restriction":"String | ::Nil"}],"visibility":"Public","body":"@code = code"},"external_var":false},{"html_id":"description:String|Nil-instance-method","name":"description","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":11,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L11"},"def":{"name":"description","return_type":"String | ::Nil","visibility":"Public","body":"@description"},"external_var":false},{"html_id":"description=(description:String|Nil)-instance-method","name":"description=","abstract":false,"args":[{"name":"description","external_name":"description","restriction":"String | ::Nil"}],"args_string":"(description : String | Nil)","args_html":"(description : String | Nil)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":11,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L11"},"def":{"name":"description=","args":[{"name":"description","external_name":"description","restriction":"String | ::Nil"}],"visibility":"Public","body":"@description = description"},"external_var":false},{"html_id":"display_name:String|Nil-instance-method","name":"display_name","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":15,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L15"},"def":{"name":"display_name","return_type":"String | ::Nil","visibility":"Public","body":"@display_name"},"external_var":false},{"html_id":"display_name=(display_name:String|Nil)-instance-method","name":"display_name=","abstract":false,"args":[{"name":"display_name","external_name":"display_name","restriction":"String | ::Nil"}],"args_string":"(display_name : String | Nil)","args_html":"(display_name : String | Nil)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":15,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L15"},"def":{"name":"display_name=","args":[{"name":"display_name","external_name":"display_name","restriction":"String | ::Nil"}],"visibility":"Public","body":"@display_name = display_name"},"external_var":false},{"html_id":"email:String|Nil-instance-method","name":"email","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":12,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L12"},"def":{"name":"email","return_type":"String | ::Nil","visibility":"Public","body":"@email"},"external_var":false},{"html_id":"email=(email:String|Nil)-instance-method","name":"email=","abstract":false,"args":[{"name":"email","external_name":"email","restriction":"String | ::Nil"}],"args_string":"(email : String | Nil)","args_html":"(email : String | Nil)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":12,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L12"},"def":{"name":"email=","args":[{"name":"email","external_name":"email","restriction":"String | ::Nil"}],"visibility":"Public","body":"@email = email"},"external_var":false},{"html_id":"features:Array(String)|Nil-instance-method","name":"features","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":13,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L13"},"def":{"name":"features","return_type":"Array(String) | ::Nil","visibility":"Public","body":"@features"},"external_var":false},{"html_id":"features=(features:Array(String)|Nil)-instance-method","name":"features=","abstract":false,"args":[{"name":"features","external_name":"features","restriction":"Array(String) | ::Nil"}],"args_string":"(features : Array(String) | Nil)","args_html":"(features : Array(String) | Nil)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":13,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L13"},"def":{"name":"features=","args":[{"name":"features","external_name":"features","restriction":"Array(String) | ::Nil"}],"visibility":"Public","body":"@features = features"},"external_var":false},{"html_id":"id:String-instance-method","name":"id","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":9,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L9"},"def":{"name":"id","return_type":"String","visibility":"Public","body":"@id"},"external_var":false},{"html_id":"id=(id:String)-instance-method","name":"id=","abstract":false,"args":[{"name":"id","external_name":"id","restriction":"String"}],"args_string":"(id : String)","args_html":"(id : String)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":9,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L9"},"def":{"name":"id=","args":[{"name":"id","external_name":"id","restriction":"String"}],"visibility":"Public","body":"@id = id"},"external_var":false},{"html_id":"images:Array(String)|Nil-instance-method","name":"images","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":23,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L23"},"def":{"name":"images","return_type":"Array(String) | ::Nil","visibility":"Public","body":"@images"},"external_var":false},{"html_id":"images=(images:Array(String)|Nil)-instance-method","name":"images=","abstract":false,"args":[{"name":"images","external_name":"images","restriction":"Array(String) | ::Nil"}],"args_string":"(images : Array(String) | Nil)","args_html":"(images : Array(String) | Nil)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":23,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L23"},"def":{"name":"images=","args":[{"name":"images","external_name":"images","restriction":"Array(String) | ::Nil"}],"visibility":"Public","body":"@images = images"},"external_var":false},{"html_id":"map_id:String|Nil-instance-method","name":"map_id","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":19,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L19"},"def":{"name":"map_id","return_type":"String | ::Nil","visibility":"Public","body":"@map_id"},"external_var":false},{"html_id":"map_id=(map_id:String|Nil)-instance-method","name":"map_id=","abstract":false,"args":[{"name":"map_id","external_name":"map_id","restriction":"String | ::Nil"}],"args_string":"(map_id : String | Nil)","args_html":"(map_id : String | Nil)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":19,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L19"},"def":{"name":"map_id=","args":[{"name":"map_id","external_name":"map_id","restriction":"String | ::Nil"}],"visibility":"Public","body":"@map_id = map_id"},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":10,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L10"},"def":{"name":"name","return_type":"String","visibility":"Public","body":"@name"},"external_var":false},{"html_id":"name=(name:String)-instance-method","name":"name=","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"}],"args_string":"(name : String)","args_html":"(name : String)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":10,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L10"},"def":{"name":"name=","args":[{"name":"name","external_name":"name","restriction":"String"}],"visibility":"Public","body":"@name = name"},"external_var":false},{"html_id":"support_url:String|Nil-instance-method","name":"support_url","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":21,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L21"},"def":{"name":"support_url","return_type":"String | ::Nil","visibility":"Public","body":"@support_url"},"external_var":false},{"html_id":"support_url=(support_url:String|Nil)-instance-method","name":"support_url=","abstract":false,"args":[{"name":"support_url","external_name":"support_url","restriction":"String | ::Nil"}],"args_string":"(support_url : String | Nil)","args_html":"(support_url : String | Nil)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":21,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L21"},"def":{"name":"support_url=","args":[{"name":"support_url","external_name":"support_url","restriction":"String | ::Nil"}],"visibility":"Public","body":"@support_url = support_url"},"external_var":false},{"html_id":"timezone:String|Nil-instance-method","name":"timezone","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":20,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L20"},"def":{"name":"timezone","return_type":"String | ::Nil","visibility":"Public","body":"@timezone"},"external_var":false},{"html_id":"timezone=(timezone:String|Nil)-instance-method","name":"timezone=","abstract":false,"args":[{"name":"timezone","external_name":"timezone","restriction":"String | ::Nil"}],"args_string":"(timezone : String | Nil)","args_html":"(timezone : String | Nil)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":20,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L20"},"def":{"name":"timezone=","args":[{"name":"timezone","external_name":"timezone","restriction":"String | ::Nil"}],"visibility":"Public","body":"@timezone = timezone"},"external_var":false},{"html_id":"type:String|Nil-instance-method","name":"type","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":17,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L17"},"def":{"name":"type","return_type":"String | ::Nil","visibility":"Public","body":"@type"},"external_var":false},{"html_id":"type=(type:String|Nil)-instance-method","name":"type=","abstract":false,"args":[{"name":"type","external_name":"type","restriction":"String | ::Nil"}],"args_string":"(type : String | Nil)","args_html":"(type : String | Nil)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":17,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L17"},"def":{"name":"type=","args":[{"name":"type","external_name":"type","restriction":"String | ::Nil"}],"visibility":"Public","body":"@type = type"},"external_var":false},{"html_id":"zones:Array(String)-instance-method","name":"zones","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":22,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L22"},"def":{"name":"zones","return_type":"Array(String)","visibility":"Public","body":"@zones"},"external_var":false},{"html_id":"zones=(zones:Array(String))-instance-method","name":"zones=","abstract":false,"args":[{"name":"zones","external_name":"zones","restriction":"Array(String)"}],"args_string":"(zones : Array(String))","args_html":"(zones : Array(String))","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":22,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L22"},"def":{"name":"zones=","args":[{"name":"zones","external_name":"zones","restriction":"Array(String)"}],"visibility":"Public","body":"@zones = zones"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/DriverModel/Metadata","path":"PlaceOS/Driver/DriverModel/Metadata.html","kind":"struct","full_name":"PlaceOS::Driver::DriverModel::Metadata","name":"Metadata","abstract":false,"superclass":{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"},{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/driver_model.cr","line_number":26,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L26"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"}],"extended_modules":[{"html_id":"placeos-driver/JSON/Schema","kind":"module","full_name":"JSON::Schema","name":"Schema"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/DriverModel","kind":"struct","full_name":"PlaceOS::Driver::DriverModel","name":"DriverModel"},"constructors":[{"html_id":"new(pull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"args_string":"(pull : JSON::PullParser)","args_html":"(pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":27,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L27"},"def":{"name":"new","args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"visibility":"Public","body":"new_from_json_pull_parser(pull)"},"external_var":false},{"html_id":"new(*,__pull_for_json_serializablepull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"args_string":"(*, __pull_for_json_serializable pull : JSON::PullParser)","args_html":"(*, __pull_for_json_serializable pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":27,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L27"},"def":{"name":"new","args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"splat_index":0,"visibility":"Public","body":"_ = allocate\n_.initialize(__pull_for_json_serializable: pull)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"arity(function_name:String|Symbol)-instance-method","name":"arity","abstract":false,"args":[{"name":"function_name","external_name":"function_name","restriction":"String | Symbol"}],"args_string":"(function_name : String | Symbol)","args_html":"(function_name : String | Symbol)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":92,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L92"},"def":{"name":"arity","args":[{"name":"function_name","external_name":"function_name","restriction":"String | Symbol"}],"visibility":"Public","body":"interface[function_name.to_s].size"},"external_var":false},{"html_id":"functions:Hash(String,Hash(String,Array(JSON::Any)))-instance-method","name":"functions","doc":"Note:: the use of both these functions is temporary","summary":"<p>Note:: the use of both these functions is temporary</p>\n<p><span class=\"flag red\">DEPRECATED</span>  Use <code><a href=\"../../../PlaceOS/Driver/DriverModel/Metadata.html#interface%3AHash%28String%2CHash%28String%2CJSON%3A%3AAny%29%29-instance-method\">#interface</a></code> instead</p>","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":98,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L98"},"def":{"name":"functions","return_type":"Hash(String, Hash(String, Array(JSON::Any)))","visibility":"Public","body":"funcs = @functions\nif funcs\n  return funcs\nend\n\nfuncs = {} of String => Hash(String, Array(JSON::Any))\n@interface.not_nil!.each do |func_name, arguments|\n  arg_hash = {} of String => Array(JSON::Any)\n  arguments.each do |arg_name, schema|\n    values = [schema]\n    default = schema[\"default\"]?\n    if default\n      values << default\n    end\n\n    arg_hash[arg_name] = values\n  end\n  funcs[func_name] = arg_hash\nend\n\n@functions = funcs\n"},"external_var":false},{"html_id":"functions=(functions:Hash(String,Hash(String,Array(JSON::Any)))|Nil)-instance-method","name":"functions=","abstract":false,"args":[{"name":"functions","external_name":"functions","restriction":"Hash(String, Hash(String, Array(JSON::Any))) | ::Nil"}],"args_string":"(functions : Hash(String, Hash(String, Array(JSON::Any))) | Nil)","args_html":"(functions : Hash(String, Hash(String, Array(JSON::Any))) | Nil)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":57,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L57"},"def":{"name":"functions=","args":[{"name":"functions","external_name":"functions","restriction":"Hash(String, Hash(String, Array(JSON::Any))) | ::Nil"}],"visibility":"Public","body":"@functions = functions"},"external_var":false},{"html_id":"implements:Array(String)-instance-method","name":"implements","doc":"Interfaces implemented by module","summary":"<p>Interfaces implemented by module</p>","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":60,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L60"},"def":{"name":"implements","return_type":"Array(String)","visibility":"Public","body":"if (__temp_117 = @implements).nil?\n  ::raise(::NilAssertionError.new(\"PlaceOS::Driver::DriverModel::Metadata#implements cannot be nil\"))\nelse\n  __temp_117\nend"},"external_var":false},{"html_id":"implements=(implements:Array(String))-instance-method","name":"implements=","doc":"Interfaces implemented by module","summary":"<p>Interfaces implemented by module</p>","abstract":false,"args":[{"name":"implements","external_name":"implements","restriction":"Array(String)"}],"args_string":"(implements : Array(String))","args_html":"(implements : Array(String))","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":60,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L60"},"def":{"name":"implements=","args":[{"name":"implements","external_name":"implements","restriction":"Array(String)"}],"visibility":"Public","body":"@implements = implements"},"external_var":false},{"html_id":"implements?:Array(String)|Nil-instance-method","name":"implements?","doc":"Interfaces implemented by module","summary":"<p>Interfaces implemented by module</p>","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":60,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L60"},"def":{"name":"implements?","return_type":"Array(String) | ::Nil","visibility":"Public","body":"@implements"},"external_var":false},{"html_id":"interface:Hash(String,Hash(String,JSON::Any))-instance-method","name":"interface","doc":"Functions available on module, map of function name to args","summary":"<p>Functions available on module, map of function name to args</p>","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":118,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L118"},"def":{"name":"interface","return_type":"Hash(String, Hash(String, JSON::Any))","visibility":"Public","body":"iface = @interface\nif iface\n  return iface\nend\n\nLog.warn do \"Deprecated metadata in use. A driver update is required\" end\n\nfuncs = {} of String => Hash(String, JSON::Any)\n@functions.not_nil!.each do |func_name, arguments|\n  arg_hash = {} of String => JSON::Any\n  arguments.each do |arg_name, values|\n    default = values[1]?\n    if default\n      arg_hash[arg_name] = JSON::Any.new({\"default\" => default})\n    else\n      arg_hash[arg_name] = JSON::Any.new({} of String => JSON::Any)\n    end\n  end\n  funcs[func_name] = arg_hash\nend\n\n@interface = funcs\n"},"external_var":false},{"html_id":"interface=(interface:Hash(String,Hash(String,JSON::Any))|Nil)-instance-method","name":"interface=","doc":"Functions available on module, map of function name to args","summary":"<p>Functions available on module, map of function name to args</p>","abstract":false,"args":[{"name":"interface","external_name":"interface","restriction":"Hash(String, Hash(String, JSON::Any)) | ::Nil"}],"args_string":"(interface : Hash(String, Hash(String, JSON::Any)) | Nil)","args_html":"(interface : Hash(String, Hash(String, JSON::Any)) | Nil)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":56,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L56"},"def":{"name":"interface=","args":[{"name":"interface","external_name":"interface","restriction":"Hash(String, Hash(String, JSON::Any)) | ::Nil"}],"visibility":"Public","body":"@interface = interface"},"external_var":false},{"html_id":"llm_interface-instance-method","name":"llm_interface","doc":"a minimal interface for informing Large Language Models","summary":"<p>a minimal interface for informing Large Language Models</p>","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":75,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L75"},"def":{"name":"llm_interface","visibility":"Public","body":"@settings = nil\n@implements = nil\n@requirements = nil\niface = interface\n@security.try(&.each do |_level, functions|\n\n\n  functions.each do |function|\n    iface.delete(function)\n  end\nend)\n@security = nil\n@functions = nil\nself\n"},"external_var":false},{"html_id":"notes:String|Nil-instance-method","name":"notes","doc":"Notes that might be relevant to a LLM","summary":"<p>Notes that might be relevant to a LLM</p>","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":72,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L72"},"def":{"name":"notes","return_type":"String | ::Nil","visibility":"Public","body":"@notes"},"external_var":false},{"html_id":"notes=(notes:String|Nil)-instance-method","name":"notes=","doc":"Notes that might be relevant to a LLM","summary":"<p>Notes that might be relevant to a LLM</p>","abstract":false,"args":[{"name":"notes","external_name":"notes","restriction":"String | ::Nil"}],"args_string":"(notes : String | Nil)","args_html":"(notes : String | Nil)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":72,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L72"},"def":{"name":"notes=","args":[{"name":"notes","external_name":"notes","restriction":"String | ::Nil"}],"visibility":"Public","body":"@notes = notes"},"external_var":false},{"html_id":"requirements:Hash(String,Array(String))-instance-method","name":"requirements","doc":"Module requirements, map of module name to required interfaces","summary":"<p>Module requirements, map of module name to required interfaces</p>","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":63,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L63"},"def":{"name":"requirements","return_type":"Hash(String, Array(String))","visibility":"Public","body":"if (__temp_118 = @requirements).nil?\n  ::raise(::NilAssertionError.new(\"PlaceOS::Driver::DriverModel::Metadata#requirements cannot be nil\"))\nelse\n  __temp_118\nend"},"external_var":false},{"html_id":"requirements=(requirements:Hash(String,Array(String)))-instance-method","name":"requirements=","doc":"Module requirements, map of module name to required interfaces","summary":"<p>Module requirements, map of module name to required interfaces</p>","abstract":false,"args":[{"name":"requirements","external_name":"requirements","restriction":"Hash(String, Array(String))"}],"args_string":"(requirements : Hash(String, Array(String)))","args_html":"(requirements : Hash(String, Array(String)))","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":63,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L63"},"def":{"name":"requirements=","args":[{"name":"requirements","external_name":"requirements","restriction":"Hash(String, Array(String))"}],"visibility":"Public","body":"@requirements = requirements"},"external_var":false},{"html_id":"requirements?:Hash(String,Array(String))|Nil-instance-method","name":"requirements?","doc":"Module requirements, map of module name to required interfaces","summary":"<p>Module requirements, map of module name to required interfaces</p>","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":63,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L63"},"def":{"name":"requirements?","return_type":"Hash(String, Array(String)) | ::Nil","visibility":"Public","body":"@requirements"},"external_var":false},{"html_id":"security:Hash(String,Array(String))-instance-method","name":"security","doc":"Function access control, map of access level to function names","summary":"<p>Function access control, map of access level to function names</p>","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":66,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L66"},"def":{"name":"security","return_type":"Hash(String, Array(String))","visibility":"Public","body":"if (__temp_119 = @security).nil?\n  ::raise(::NilAssertionError.new(\"PlaceOS::Driver::DriverModel::Metadata#security cannot be nil\"))\nelse\n  __temp_119\nend"},"external_var":false},{"html_id":"security=(security:Hash(String,Array(String)))-instance-method","name":"security=","doc":"Function access control, map of access level to function names","summary":"<p>Function access control, map of access level to function names</p>","abstract":false,"args":[{"name":"security","external_name":"security","restriction":"Hash(String, Array(String))"}],"args_string":"(security : Hash(String, Array(String)))","args_html":"(security : Hash(String, Array(String)))","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":66,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L66"},"def":{"name":"security=","args":[{"name":"security","external_name":"security","restriction":"Hash(String, Array(String))"}],"visibility":"Public","body":"@security = security"},"external_var":false},{"html_id":"security?:Hash(String,Array(String))|Nil-instance-method","name":"security?","doc":"Function access control, map of access level to function names","summary":"<p>Function access control, map of access level to function names</p>","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":66,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L66"},"def":{"name":"security?","return_type":"Hash(String, Array(String)) | ::Nil","visibility":"Public","body":"@security"},"external_var":false},{"html_id":"settings:NamedTuple(type:String,properties:Hash(String,JSON::Any)|Nil,required:Array(String)|Nil)|Nil-instance-method","name":"settings","doc":"JSON Schema derived from the settings used in the driver","summary":"<p>JSON Schema derived from the settings used in the driver</p>","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":69,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L69"},"def":{"name":"settings","return_type":"NamedTuple(type: String, properties: Hash(String, JSON::Any) | ::Nil, required: Array(String) | ::Nil) | ::Nil","visibility":"Public","body":"@settings"},"external_var":false},{"html_id":"settings=(settings:NamedTuple(type:String,properties:Hash(String,JSON::Any)|Nil,required:Array(String)|Nil)|Nil)-instance-method","name":"settings=","doc":"JSON Schema derived from the settings used in the driver","summary":"<p>JSON Schema derived from the settings used in the driver</p>","abstract":false,"args":[{"name":"settings","external_name":"settings","restriction":"NamedTuple(type: String, properties: Hash(String, JSON::Any) | ::Nil, required: Array(String) | ::Nil) | ::Nil"}],"args_string":"(settings : NamedTuple(type: String, properties: Hash(String, JSON::Any) | Nil, required: Array(String) | Nil) | Nil)","args_html":"(settings : NamedTuple(type: String, properties: Hash(String, JSON::Any) | Nil, required: Array(String) | Nil) | Nil)","location":{"filename":"src/placeos-driver/driver_model.cr","line_number":69,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L69"},"def":{"name":"settings=","args":[{"name":"settings","external_name":"settings","restriction":"NamedTuple(type: String, properties: Hash(String, JSON::Any) | ::Nil, required: Array(String) | ::Nil) | ::Nil"}],"visibility":"Public","body":"@settings = settings"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/DriverModel/Role","path":"PlaceOS/Driver/DriverModel/Role.html","kind":"enum","full_name":"PlaceOS::Driver::DriverModel::Role","name":"Role","abstract":false,"ancestors":[{"html_id":"placeos-driver/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"placeos-driver/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/driver_model.cr","line_number":142,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L142"}],"repository_name":"placeos-driver","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"SSH","name":"SSH","value":"0"},{"id":"RAW","name":"RAW","value":"1"},{"id":"HTTP","name":"HTTP","value":"2"},{"id":"WEBSOCKET","name":"WEBSOCKET","value":"3"},{"id":"LOGIC","name":"LOGIC","value":"99"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/DriverModel","kind":"struct","full_name":"PlaceOS::Driver::DriverModel","name":"DriverModel"},"instance_methods":[{"html_id":"http?-instance-method","name":"http?","doc":"Returns `true` if this enum value equals `HTTP`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../PlaceOS/Driver/DriverModel/Role.html#HTTP\">HTTP</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":145,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L145"},"def":{"name":"http?","visibility":"Public","body":"self == HTTP"},"external_var":false},{"html_id":"logic?-instance-method","name":"logic?","doc":"Returns `true` if this enum value equals `LOGIC`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../PlaceOS/Driver/DriverModel/Role.html#LOGIC\">LOGIC</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":147,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L147"},"def":{"name":"logic?","visibility":"Public","body":"self == LOGIC"},"external_var":false},{"html_id":"raw?-instance-method","name":"raw?","doc":"Returns `true` if this enum value equals `RAW`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../PlaceOS/Driver/DriverModel/Role.html#RAW\">RAW</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":144,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L144"},"def":{"name":"raw?","visibility":"Public","body":"self == RAW"},"external_var":false},{"html_id":"ssh?-instance-method","name":"ssh?","doc":"Returns `true` if this enum value equals `SSH`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../PlaceOS/Driver/DriverModel/Role.html#SSH\">SSH</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":143,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L143"},"def":{"name":"ssh?","visibility":"Public","body":"self == SSH"},"external_var":false},{"html_id":"websocket?-instance-method","name":"websocket?","doc":"Returns `true` if this enum value equals `WEBSOCKET`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../PlaceOS/Driver/DriverModel/Role.html#WEBSOCKET\">WEBSOCKET</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/driver_model.cr","line_number":146,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/driver_model.cr#L146"},"def":{"name":"websocket?","visibility":"Public","body":"self == WEBSOCKET"},"external_var":false}]}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface","path":"PlaceOS/Driver/Interface.html","kind":"module","full_name":"PlaceOS::Driver::Interface","name":"Interface","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/mailer.cr","line_number":4,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/mailer.cr#L4"},{"filename":"src/placeos-driver/interface/mailer_templates.cr","line_number":4,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/mailer_templates.cr#L4"},{"filename":"src/placeos-driver/interface/zoomable.cr","line_number":5,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zoomable.cr#L5"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver","kind":"class","full_name":"PlaceOS::Driver","name":"Driver"},"doc":"The namespace for all PlaceOS standard interfaces","summary":"<p>The namespace for all PlaceOS standard interfaces</p>","types":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/AudioMuteable","path":"PlaceOS/Driver/Interface/AudioMuteable.html","kind":"module","full_name":"PlaceOS::Driver::Interface::AudioMuteable","name":"AudioMuteable","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/muteable.cr","line_number":8,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/muteable.cr#L8"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"including_types":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Muteable","kind":"module","full_name":"PlaceOS::Driver::Interface::Muteable","name":"Muteable"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface","kind":"module","full_name":"PlaceOS::Driver::Interface","name":"Interface"},"doc":"Splitting up the interfaces allows logic modules to check if the device\nsupports the required level of muting. Allowing to it to fallback to an\nintermediary device like a switcher if required.\ni.e. input -> switcher -> LCD (only supporting audio mute)\na logic module can check if the output supports video muting and fall back\nto the mute function of the switcher","summary":"<p>Splitting up the interfaces allows logic modules to check if the device supports the required level of muting.</p>","instance_methods":[{"html_id":"mute_audio(state:Bool=true,index:Int32|String=0)-instance-method","name":"mute_audio","abstract":true,"args":[{"name":"state","default_value":"true","external_name":"state","restriction":"Bool"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"args_string":"(state : Bool = true, index : Int32 | String = 0)","args_html":"(state : Bool = <span class=\"n\">true</span>, index : Int32 | String = <span class=\"n\">0</span>)","location":{"filename":"src/placeos-driver/interface/muteable.cr","line_number":9,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/muteable.cr#L9"},"def":{"name":"mute_audio","args":[{"name":"state","default_value":"true","external_name":"state","restriction":"Bool"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"visibility":"Public","body":""},"external_var":false},{"html_id":"unmute_audio(index:Int32|String=0)-instance-method","name":"unmute_audio","abstract":false,"args":[{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"args_string":"(index : Int32 | String = 0)","args_html":"(index : Int32 | String = <span class=\"n\">0</span>)","location":{"filename":"src/placeos-driver/interface/muteable.cr","line_number":11,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/muteable.cr#L11"},"def":{"name":"unmute_audio","args":[{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"visibility":"Public","body":"mute_audio(false, index)"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Camera","path":"PlaceOS/Driver/Interface/Camera.html","kind":"module","full_name":"PlaceOS::Driver::Interface::Camera","name":"Camera","abstract":false,"ancestors":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Zoomable","kind":"module","full_name":"PlaceOS::Driver::Interface::Zoomable","name":"Zoomable"},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Moveable","kind":"module","full_name":"PlaceOS::Driver::Interface::Moveable","name":"Moveable"},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Stoppable","kind":"module","full_name":"PlaceOS::Driver::Interface::Stoppable","name":"Stoppable"}],"locations":[{"filename":"src/placeos-driver/interface/camera.cr","line_number":17,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/camera.cr#L17"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Moveable","kind":"module","full_name":"PlaceOS::Driver::Interface::Moveable","name":"Moveable"},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Stoppable","kind":"module","full_name":"PlaceOS::Driver::Interface::Stoppable","name":"Stoppable"},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Zoomable","kind":"module","full_name":"PlaceOS::Driver::Interface::Zoomable","name":"Zoomable"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface","kind":"module","full_name":"PlaceOS::Driver::Interface","name":"Interface"},"doc":"All cameras should expose limits:\n\n* pan_range, pan_speed\n* tilt_range, tilt_speed\n* zoom_range,\n* has_discrete_zoom = true / false\n\nOptional:\n\n* focus_out, focus_in, has_discrete_focus\n* iris_open, iris_close, has_discrete_iris","summary":"<p>All cameras should expose limits:</p>","instance_methods":[{"html_id":"joystick(pan_speed:Float64,tilt_speed:Float64,index:Int32|String=0)-instance-method","name":"joystick","doc":"Most cameras support sending a move speed, the interface should expect a percentage","summary":"<p>Most cameras support sending a move speed, the interface should expect a percentage</p>","abstract":true,"args":[{"name":"pan_speed","external_name":"pan_speed","restriction":"Float64"},{"name":"tilt_speed","external_name":"tilt_speed","restriction":"Float64"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"args_string":"(pan_speed : Float64, tilt_speed : Float64, index : Int32 | String = 0)","args_html":"(pan_speed : Float64, tilt_speed : Float64, index : Int32 | String = <span class=\"n\">0</span>)","location":{"filename":"src/placeos-driver/interface/camera.cr","line_number":23,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/camera.cr#L23"},"def":{"name":"joystick","args":[{"name":"pan_speed","external_name":"pan_speed","restriction":"Float64"},{"name":"tilt_speed","external_name":"tilt_speed","restriction":"Float64"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"visibility":"Public","body":""},"external_var":false},{"html_id":"pan(direction:PanDirection,index:Int32|String=0)-instance-method","name":"pan","abstract":false,"args":[{"name":"direction","external_name":"direction","restriction":"PanDirection"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"args_string":"(direction : PanDirection, index : Int32 | String = 0)","args_html":"(direction : <a href=\"../../../PlaceOS/Driver/Interface/Camera/PanDirection.html\">PanDirection</a>, index : Int32 | String = <span class=\"n\">0</span>)","location":{"filename":"src/placeos-driver/interface/camera.cr","line_number":62,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/camera.cr#L62"},"def":{"name":"pan","args":[{"name":"direction","external_name":"direction","restriction":"PanDirection"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"visibility":"Public","body":"move_in_direction(direction, index)"},"external_var":false},{"html_id":"recall(position:String,index:Int32|String=0)-instance-method","name":"recall","doc":"Most cameras support presets (either as a feature or via manual positioning)","summary":"<p>Most cameras support presets (either as a feature or via manual positioning)</p>","abstract":true,"args":[{"name":"position","external_name":"position","restriction":"String"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"args_string":"(position : String, index : Int32 | String = 0)","args_html":"(position : String, index : Int32 | String = <span class=\"n\">0</span>)","location":{"filename":"src/placeos-driver/interface/camera.cr","line_number":26,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/camera.cr#L26"},"def":{"name":"recall","args":[{"name":"position","external_name":"position","restriction":"String"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"visibility":"Public","body":""},"external_var":false},{"html_id":"remove_position(name:String,index:Int32|String=0)-instance-method","name":"remove_position","abstract":true,"args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"args_string":"(name : String, index : Int32 | String = 0)","args_html":"(name : String, index : Int32 | String = <span class=\"n\">0</span>)","location":{"filename":"src/placeos-driver/interface/camera.cr","line_number":28,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/camera.cr#L28"},"def":{"name":"remove_position","args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"visibility":"Public","body":""},"external_var":false},{"html_id":"save_position(name:String,index:Int32|String=0)-instance-method","name":"save_position","abstract":true,"args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"args_string":"(name : String, index : Int32 | String = 0)","args_html":"(name : String, index : Int32 | String = <span class=\"n\">0</span>)","location":{"filename":"src/placeos-driver/interface/camera.cr","line_number":27,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/camera.cr#L27"},"def":{"name":"save_position","args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"visibility":"Public","body":""},"external_var":false},{"html_id":"tilt(direction:TiltDirection,index:Int32|String=0)-instance-method","name":"tilt","abstract":false,"args":[{"name":"direction","external_name":"direction","restriction":"TiltDirection"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"args_string":"(direction : TiltDirection, index : Int32 | String = 0)","args_html":"(direction : <a href=\"../../../PlaceOS/Driver/Interface/Camera/TiltDirection.html\">TiltDirection</a>, index : Int32 | String = <span class=\"n\">0</span>)","location":{"filename":"src/placeos-driver/interface/camera.cr","line_number":44,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/camera.cr#L44"},"def":{"name":"tilt","args":[{"name":"direction","external_name":"direction","restriction":"TiltDirection"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"visibility":"Public","body":"move_in_direction(direction, index)"},"external_var":false}],"types":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Camera/PanDirection","path":"PlaceOS/Driver/Interface/Camera/PanDirection.html","kind":"enum","full_name":"PlaceOS::Driver::Interface::Camera::PanDirection","name":"PanDirection","abstract":false,"ancestors":[{"html_id":"placeos-driver/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"placeos-driver/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/interface/camera.cr","line_number":48,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/camera.cr#L48"}],"repository_name":"placeos-driver","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"Left","name":"Left","value":"0"},{"id":"Right","name":"Right","value":"1"},{"id":"Stop","name":"Stop","value":"2"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Camera","kind":"module","full_name":"PlaceOS::Driver::Interface::Camera","name":"Camera"},"instance_methods":[{"html_id":"left?-instance-method","name":"left?","doc":"Returns `true` if this enum value equals `Left`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Camera/PanDirection.html#Left\">Left</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/camera.cr","line_number":49,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/camera.cr#L49"},"def":{"name":"left?","visibility":"Public","body":"self == Left"},"external_var":false},{"html_id":"move:MoveablePosition|Nil-instance-method","name":"move","abstract":false,"location":{"filename":"src/placeos-driver/interface/camera.cr","line_number":53,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/camera.cr#L53"},"def":{"name":"move","return_type":"MoveablePosition | ::Nil","visibility":"Public","body":"case self\nin .left?\n  MoveablePosition::Left\nin .right?\n  MoveablePosition::Right\nin .stop?\n  nil\nend"},"external_var":false},{"html_id":"right?-instance-method","name":"right?","doc":"Returns `true` if this enum value equals `Right`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Camera/PanDirection.html#Right\">Right</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/camera.cr","line_number":50,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/camera.cr#L50"},"def":{"name":"right?","visibility":"Public","body":"self == Right"},"external_var":false},{"html_id":"stop?-instance-method","name":"stop?","doc":"Returns `true` if this enum value equals `Stop`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Camera/PanDirection.html#Stop\">Stop</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/camera.cr","line_number":51,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/camera.cr#L51"},"def":{"name":"stop?","visibility":"Public","body":"self == Stop"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Camera/TiltDirection","path":"PlaceOS/Driver/Interface/Camera/TiltDirection.html","kind":"enum","full_name":"PlaceOS::Driver::Interface::Camera::TiltDirection","name":"TiltDirection","abstract":false,"ancestors":[{"html_id":"placeos-driver/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"placeos-driver/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/interface/camera.cr","line_number":30,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/camera.cr#L30"}],"repository_name":"placeos-driver","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"Down","name":"Down","value":"0"},{"id":"Up","name":"Up","value":"1"},{"id":"Stop","name":"Stop","value":"2"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Camera","kind":"module","full_name":"PlaceOS::Driver::Interface::Camera","name":"Camera"},"instance_methods":[{"html_id":"down?-instance-method","name":"down?","doc":"Returns `true` if this enum value equals `Down`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Camera/TiltDirection.html#Down\">Down</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/camera.cr","line_number":31,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/camera.cr#L31"},"def":{"name":"down?","visibility":"Public","body":"self == Down"},"external_var":false},{"html_id":"move:MoveablePosition|Nil-instance-method","name":"move","abstract":false,"location":{"filename":"src/placeos-driver/interface/camera.cr","line_number":35,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/camera.cr#L35"},"def":{"name":"move","return_type":"MoveablePosition | ::Nil","visibility":"Public","body":"case self\nin .up?\n  MoveablePosition::Up\nin .down?\n  MoveablePosition::Down\nin .stop?\n  nil\nend"},"external_var":false},{"html_id":"stop?-instance-method","name":"stop?","doc":"Returns `true` if this enum value equals `Stop`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Camera/TiltDirection.html#Stop\">Stop</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/camera.cr","line_number":33,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/camera.cr#L33"},"def":{"name":"stop?","visibility":"Public","body":"self == Stop"},"external_var":false},{"html_id":"up?-instance-method","name":"up?","doc":"Returns `true` if this enum value equals `Up`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Camera/TiltDirection.html#Up\">Up</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/camera.cr","line_number":32,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/camera.cr#L32"},"def":{"name":"up?","visibility":"Public","body":"self == Up"},"external_var":false}]}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/ChatBot","path":"PlaceOS/Driver/Interface/ChatBot.html","kind":"module","full_name":"PlaceOS::Driver::Interface::ChatBot","name":"ChatBot","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":5,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L5"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface","kind":"module","full_name":"PlaceOS::Driver::Interface","name":"Interface"},"doc":"NOTE:: expects messages to broadcast to a channel, such as: chat/<bot_name>/<org_id>/message","summary":"<p><span class=\"flag purple\">NOTE</span> : expects messages to broadcast to a channel, such as: chat/&lt;bot_name&gt;/&lt;org_id&gt;/message</p>","instance_methods":[{"html_id":"notify_typing(id:Id)-instance-method","name":"notify_typing","doc":"allows a bot responder to indicate it is replying to a message","summary":"<p>allows a bot responder to indicate it is replying to a message</p>","abstract":true,"args":[{"name":"id","external_name":"id","restriction":"Id"}],"args_string":"(id : Id)","args_html":"(id : <a href=\"../../../PlaceOS/Driver/Interface/ChatBot/Id.html\">Id</a>)","location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":50,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L50"},"def":{"name":"notify_typing","args":[{"name":"id","external_name":"id","restriction":"Id"}],"visibility":"Public","body":""},"external_var":false},{"html_id":"reply(id:Id,response:String,url:String|Nil=nil,attachment:Attachment|Nil=nil)-instance-method","name":"reply","doc":"interface used to reply to a message","summary":"<p>interface used to reply to a message</p>","abstract":true,"args":[{"name":"id","external_name":"id","restriction":"Id"},{"name":"response","external_name":"response","restriction":"String"},{"name":"url","default_value":"nil","external_name":"url","restriction":"String | ::Nil"},{"name":"attachment","default_value":"nil","external_name":"attachment","restriction":"Attachment | ::Nil"}],"args_string":"(id : Id, response : String, url : String | Nil = nil, attachment : Attachment | Nil = nil)","args_html":"(id : <a href=\"../../../PlaceOS/Driver/Interface/ChatBot/Id.html\">Id</a>, response : String, url : String | Nil = <span class=\"n\">nil</span>, attachment : <a href=\"../../../PlaceOS/Driver/Interface/ChatBot/Attachment.html\">Attachment</a> | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":53,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L53"},"def":{"name":"reply","args":[{"name":"id","external_name":"id","restriction":"Id"},{"name":"response","external_name":"response","restriction":"String"},{"name":"url","default_value":"nil","external_name":"url","restriction":"String | ::Nil"},{"name":"attachment","default_value":"nil","external_name":"attachment","restriction":"Attachment | ::Nil"}],"visibility":"Public","body":""},"external_var":false}],"types":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/ChatBot/Attachment","path":"PlaceOS/Driver/Interface/ChatBot/Attachment.html","kind":"struct","full_name":"PlaceOS::Driver::Interface::ChatBot::Attachment","name":"Attachment","abstract":false,"superclass":{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"},{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":37,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L37"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"}],"extended_modules":[{"html_id":"placeos-driver/JSON/Schema","kind":"module","full_name":"JSON::Schema","name":"Schema"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/ChatBot","kind":"module","full_name":"PlaceOS::Driver::Interface::ChatBot","name":"ChatBot"},"constructors":[{"html_id":"new(name:String,payload:String)-class-method","name":"new","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"::String"},{"name":"payload","external_name":"payload","restriction":"::String"}],"args_string":"(name : String, payload : String)","args_html":"(name : String, payload : String)","location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":40,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L40"},"def":{"name":"new","args":[{"name":"name","external_name":"name","restriction":"::String"},{"name":"payload","external_name":"payload","restriction":"::String"}],"visibility":"Public","body":"_ = allocate\n_.initialize(name, payload)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(pull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"args_string":"(pull : JSON::PullParser)","args_html":"(pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":38,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L38"},"def":{"name":"new","args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"visibility":"Public","body":"new_from_json_pull_parser(pull)"},"external_var":false},{"html_id":"new(*,__pull_for_json_serializablepull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"args_string":"(*, __pull_for_json_serializable pull : JSON::PullParser)","args_html":"(*, __pull_for_json_serializable pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":38,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L38"},"def":{"name":"new","args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"splat_index":0,"visibility":"Public","body":"_ = allocate\n_.initialize(__pull_for_json_serializable: pull)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":43,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L43"},"def":{"name":"name","return_type":"String","visibility":"Public","body":"@name"},"external_var":false},{"html_id":"name=(name:String)-instance-method","name":"name=","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"}],"args_string":"(name : String)","args_html":"(name : String)","location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":43,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L43"},"def":{"name":"name=","args":[{"name":"name","external_name":"name","restriction":"String"}],"visibility":"Public","body":"@name = name"},"external_var":false},{"html_id":"payload:String-instance-method","name":"payload","doc":"Base64 encoded binary contents","summary":"<p>Base64 encoded binary contents</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":46,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L46"},"def":{"name":"payload","return_type":"String","visibility":"Public","body":"@payload"},"external_var":false},{"html_id":"payload=(payload:String)-instance-method","name":"payload=","doc":"Base64 encoded binary contents","summary":"<p>Base64 encoded binary contents</p>","abstract":false,"args":[{"name":"payload","external_name":"payload","restriction":"String"}],"args_string":"(payload : String)","args_html":"(payload : String)","location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":46,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L46"},"def":{"name":"payload=","args":[{"name":"payload","external_name":"payload","restriction":"String"}],"visibility":"Public","body":"@payload = payload"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/ChatBot/Id","path":"PlaceOS/Driver/Interface/ChatBot/Id.html","kind":"struct","full_name":"PlaceOS::Driver::Interface::ChatBot::Id","name":"Id","abstract":false,"superclass":{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"},{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":6,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L6"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"}],"extended_modules":[{"html_id":"placeos-driver/JSON/Schema","kind":"module","full_name":"JSON::Schema","name":"Schema"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/ChatBot","kind":"module","full_name":"PlaceOS::Driver::Interface::ChatBot","name":"ChatBot"},"constructors":[{"html_id":"new(pull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"args_string":"(pull : JSON::PullParser)","args_html":"(pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":7,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L7"},"def":{"name":"new","args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"visibility":"Public","body":"new_from_json_pull_parser(pull)"},"external_var":false},{"html_id":"new(message_id:String,room_id:Nil|String=nil,user_id:Nil|String=nil,org_id:Nil|String=nil)-class-method","name":"new","abstract":false,"args":[{"name":"message_id","external_name":"message_id","restriction":"::String"},{"name":"room_id","default_value":"nil","external_name":"room_id","restriction":"::Nil | ::String"},{"name":"user_id","default_value":"nil","external_name":"user_id","restriction":"::Nil | ::String"},{"name":"org_id","default_value":"nil","external_name":"org_id","restriction":"::Nil | ::String"}],"args_string":"(message_id : String, room_id : Nil | String = nil, user_id : Nil | String = nil, org_id : Nil | String = nil)","args_html":"(message_id : String, room_id : Nil | String = <span class=\"n\">nil</span>, user_id : Nil | String = <span class=\"n\">nil</span>, org_id : Nil | String = <span class=\"n\">nil</span>)","location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":9,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L9"},"def":{"name":"new","args":[{"name":"message_id","external_name":"message_id","restriction":"::String"},{"name":"room_id","default_value":"nil","external_name":"room_id","restriction":"::Nil | ::String"},{"name":"user_id","default_value":"nil","external_name":"user_id","restriction":"::Nil | ::String"},{"name":"org_id","default_value":"nil","external_name":"org_id","restriction":"::Nil | ::String"}],"visibility":"Public","body":"_ = allocate\n_.initialize(message_id, room_id, user_id, org_id)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(*,__pull_for_json_serializablepull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"args_string":"(*, __pull_for_json_serializable pull : JSON::PullParser)","args_html":"(*, __pull_for_json_serializable pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":7,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L7"},"def":{"name":"new","args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"splat_index":0,"visibility":"Public","body":"_ = allocate\n_.initialize(__pull_for_json_serializable: pull)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"message_id:String-instance-method","name":"message_id","doc":"something used to identify the message","summary":"<p>something used to identify the message</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":13,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L13"},"def":{"name":"message_id","return_type":"String","visibility":"Public","body":"@message_id"},"external_var":false},{"html_id":"message_id=(message_id:String)-instance-method","name":"message_id=","doc":"something used to identify the message","summary":"<p>something used to identify the message</p>","abstract":false,"args":[{"name":"message_id","external_name":"message_id","restriction":"String"}],"args_string":"(message_id : String)","args_html":"(message_id : String)","location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":13,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L13"},"def":{"name":"message_id=","args":[{"name":"message_id","external_name":"message_id","restriction":"String"}],"visibility":"Public","body":"@message_id = message_id"},"external_var":false},{"html_id":"org_id:String|Nil-instance-method","name":"org_id","doc":"The org sending the message.","summary":"<p>The org sending the message.</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":22,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L22"},"def":{"name":"org_id","return_type":"String | ::Nil","visibility":"Public","body":"@org_id"},"external_var":false},{"html_id":"org_id=(org_id:String|Nil)-instance-method","name":"org_id=","doc":"The org sending the message.","summary":"<p>The org sending the message.</p>","abstract":false,"args":[{"name":"org_id","external_name":"org_id","restriction":"String | ::Nil"}],"args_string":"(org_id : String | Nil)","args_html":"(org_id : String | Nil)","location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":22,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L22"},"def":{"name":"org_id=","args":[{"name":"org_id","external_name":"org_id","restriction":"String | ::Nil"}],"visibility":"Public","body":"@org_id = org_id"},"external_var":false},{"html_id":"room_id:String|Nil-instance-method","name":"room_id","doc":"The room ID of the message.","summary":"<p>The room ID of the message.</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":16,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L16"},"def":{"name":"room_id","return_type":"String | ::Nil","visibility":"Public","body":"@room_id"},"external_var":false},{"html_id":"room_id=(room_id:String|Nil)-instance-method","name":"room_id=","doc":"The room ID of the message.","summary":"<p>The room ID of the message.</p>","abstract":false,"args":[{"name":"room_id","external_name":"room_id","restriction":"String | ::Nil"}],"args_string":"(room_id : String | Nil)","args_html":"(room_id : String | Nil)","location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":16,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L16"},"def":{"name":"room_id=","args":[{"name":"room_id","external_name":"room_id","restriction":"String | ::Nil"}],"visibility":"Public","body":"@room_id = room_id"},"external_var":false},{"html_id":"user_id:String|Nil-instance-method","name":"user_id","doc":"The user who sent the message","summary":"<p>The user who sent the message</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":19,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L19"},"def":{"name":"user_id","return_type":"String | ::Nil","visibility":"Public","body":"@user_id"},"external_var":false},{"html_id":"user_id=(user_id:String|Nil)-instance-method","name":"user_id=","doc":"The user who sent the message","summary":"<p>The user who sent the message</p>","abstract":false,"args":[{"name":"user_id","external_name":"user_id","restriction":"String | ::Nil"}],"args_string":"(user_id : String | Nil)","args_html":"(user_id : String | Nil)","location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":19,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L19"},"def":{"name":"user_id=","args":[{"name":"user_id","external_name":"user_id","restriction":"String | ::Nil"}],"visibility":"Public","body":"@user_id = user_id"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/ChatBot/Message","path":"PlaceOS/Driver/Interface/ChatBot/Message.html","kind":"struct","full_name":"PlaceOS::Driver::Interface::ChatBot::Message","name":"Message","abstract":false,"superclass":{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"},{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":25,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L25"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"}],"extended_modules":[{"html_id":"placeos-driver/JSON/Schema","kind":"module","full_name":"JSON::Schema","name":"Schema"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/ChatBot","kind":"module","full_name":"PlaceOS::Driver::Interface::ChatBot","name":"ChatBot"},"constructors":[{"html_id":"new(id:PlaceOS::Driver::Interface::ChatBot::Id,text:String)-class-method","name":"new","abstract":false,"args":[{"name":"id","external_name":"id","restriction":"::PlaceOS::Driver::Interface::ChatBot::Id"},{"name":"text","external_name":"text","restriction":"::String"}],"args_string":"(id : PlaceOS::Driver::Interface::ChatBot::Id, text : String)","args_html":"(id : <a href=\"../../../../PlaceOS/Driver/Interface/ChatBot/Id.html\">PlaceOS::Driver::Interface::ChatBot::Id</a>, text : String)","location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":28,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L28"},"def":{"name":"new","args":[{"name":"id","external_name":"id","restriction":"::PlaceOS::Driver::Interface::ChatBot::Id"},{"name":"text","external_name":"text","restriction":"::String"}],"visibility":"Public","body":"_ = allocate\n_.initialize(id, text)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(pull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"args_string":"(pull : JSON::PullParser)","args_html":"(pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":26,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L26"},"def":{"name":"new","args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"visibility":"Public","body":"new_from_json_pull_parser(pull)"},"external_var":false},{"html_id":"new(*,__pull_for_json_serializablepull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"args_string":"(*, __pull_for_json_serializable pull : JSON::PullParser)","args_html":"(*, __pull_for_json_serializable pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":26,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L26"},"def":{"name":"new","args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"splat_index":0,"visibility":"Public","body":"_ = allocate\n_.initialize(__pull_for_json_serializable: pull)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"id:Id-instance-method","name":"id","abstract":false,"location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":31,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L31"},"def":{"name":"id","return_type":"Id","visibility":"Public","body":"@id"},"external_var":false},{"html_id":"id=(id:Id)-instance-method","name":"id=","abstract":false,"args":[{"name":"id","external_name":"id","restriction":"Id"}],"args_string":"(id : Id)","args_html":"(id : <a href=\"../../../../PlaceOS/Driver/Interface/ChatBot/Id.html\">Id</a>)","location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":31,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L31"},"def":{"name":"id=","args":[{"name":"id","external_name":"id","restriction":"Id"}],"visibility":"Public","body":"@id = id"},"external_var":false},{"html_id":"text:String-instance-method","name":"text","doc":"The message, in plain text.","summary":"<p>The message, in plain text.</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":34,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L34"},"def":{"name":"text","return_type":"String","visibility":"Public","body":"@text"},"external_var":false},{"html_id":"text=(text:String)-instance-method","name":"text=","doc":"The message, in plain text.","summary":"<p>The message, in plain text.</p>","abstract":false,"args":[{"name":"text","external_name":"text","restriction":"String"}],"args_string":"(text : String)","args_html":"(text : String)","location":{"filename":"src/placeos-driver/interface/chat_bot.cr","line_number":34,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_bot.cr#L34"},"def":{"name":"text=","args":[{"name":"text","external_name":"text","restriction":"String"}],"visibility":"Public","body":"@text = text"},"external_var":false}]}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/ChatFunctions","path":"PlaceOS/Driver/Interface/ChatFunctions.html","kind":"module","full_name":"PlaceOS::Driver::Interface::ChatFunctions","name":"ChatFunctions","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/chat_functions.cr","line_number":5,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_functions.cr#L5"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface","kind":"module","full_name":"PlaceOS::Driver::Interface","name":"Interface"},"doc":"provides a discoverable interface for LLMs","summary":"<p>provides a discoverable interface for LLMs</p>","instance_methods":[{"html_id":"capabilities:String-instance-method","name":"capabilities","doc":"overall description of what this driver implements","summary":"<p>overall description of what this driver implements</p>","abstract":true,"location":{"filename":"src/placeos-driver/interface/chat_functions.cr","line_number":44,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_functions.cr#L44"},"def":{"name":"capabilities","return_type":"String","visibility":"Public","body":""},"external_var":false},{"html_id":"function_schemas:Array(NamedTuple(function:String,description:String,parameters:Hash(String,JSON::Any)))-instance-method","name":"function_schemas","doc":"returns function name => {param name => JSON Schema}","summary":"<p>returns function name =&gt; {param name =&gt; JSON Schema}</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/chat_functions.cr","line_number":47,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_functions.cr#L47"},"def":{"name":"function_schemas","return_type":"Array(NamedTuple(function: String, description: String, parameters: Hash(String, JSON::Any)))","visibility":"Public","body":"interface = Hash(String, Hash(String, JSON::Any)).from_json(self.class.driver_interface)\noutput = Array(NamedTuple(function: String, description: String, parameters: Hash(String, JSON::Any))).new(interface.size)\n\n\n\nfunction_descriptions.each do |function_name, function_description|\n  name = function_name.to_s\n  if schema = interface[name]?\n    output << {\n      function: name,\n      description: function_description,\n      parameters: schema,\n    }\n  else\n    logger.warn do \"described function not found: #{function_name}\" end\n  end\nend\n\noutput\n"},"external_var":false}],"macros":[{"html_id":"build_function_descriptions-macro","name":"build_function_descriptions","abstract":false,"location":{"filename":"src/placeos-driver/interface/chat_functions.cr","line_number":9,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_functions.cr#L9"},"def":{"name":"build_function_descriptions","visibility":"Public","body":"      def function_descriptions\n        \n{\n          \n{% for method in @type.methods %}\n            {% if method.annotation(Description) %}\n              {{ method.name }}: {{ (method.annotation(Description))[0] }},\n            {% end %}\n          {% end %}\n\n        }\n      \nend\n\n      def on_load\n        \n{% if @type.methods.find do |meth| meth.name.id.stringify == \"on_load\" end %}\n          previous_def\n        {% end %}\n\n        self[:capabilities] = capabilities\n        self[:function_schemas] = function_schemas\n      \nend\n\n      def on_update\n        \n{% if @type.methods.find do |meth| meth.name.id.stringify == \"on_update\" end %}\n          previous_def\n        {% end %}\n\n        self[:capabilities] = capabilities\n        self[:function_schemas] = function_schemas\n      \nend\n    \n"}}],"types":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/ChatFunctions/Description","path":"PlaceOS/Driver/Interface/ChatFunctions/Description.html","kind":"annotation","full_name":"PlaceOS::Driver::Interface::ChatFunctions::Description","name":"Description","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/chat_functions.cr","line_number":6,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/chat_functions.cr#L6"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/ChatFunctions","kind":"module","full_name":"PlaceOS::Driver::Interface::ChatFunctions","name":"ChatFunctions"}}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/DeskControl","path":"PlaceOS/Driver/Interface/DeskControl.html","kind":"module","full_name":"PlaceOS::Driver::Interface::DeskControl","name":"DeskControl","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/desk_control.cr","line_number":3,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/desk_control.cr#L3"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface","kind":"module","full_name":"PlaceOS::Driver::Interface","name":"Interface"},"doc":"Common desk control interface","summary":"<p>Common desk control interface</p>","instance_methods":[{"html_id":"get_desk_height(desk_key:String):Int32|Nil-instance-method","name":"get_desk_height","doc":"return nil on unknown height","summary":"<p>return nil on unknown height</p>","abstract":true,"args":[{"name":"desk_key","external_name":"desk_key","restriction":"String"}],"args_string":"(desk_key : String) : Int32 | Nil","args_html":"(desk_key : String) : Int32 | Nil","location":{"filename":"src/placeos-driver/interface/desk_control.cr","line_number":11,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/desk_control.cr#L11"},"def":{"name":"get_desk_height","args":[{"name":"desk_key","external_name":"desk_key","restriction":"String"}],"return_type":"Int32 | ::Nil","visibility":"Public","body":""},"external_var":false},{"html_id":"get_desk_power(desk_key:String):Bool|Nil-instance-method","name":"get_desk_power","abstract":true,"args":[{"name":"desk_key","external_name":"desk_key","restriction":"String"}],"args_string":"(desk_key : String) : Bool | Nil","args_html":"(desk_key : String) : Bool | Nil","location":{"filename":"src/placeos-driver/interface/desk_control.cr","line_number":19,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/desk_control.cr#L19"},"def":{"name":"get_desk_power","args":[{"name":"desk_key","external_name":"desk_key","restriction":"String"}],"return_type":"Bool | ::Nil","visibility":"Public","body":""},"external_var":false},{"html_id":"set_desk_height(desk_key:String,desk_height:Int32)-instance-method","name":"set_desk_height","doc":"desk height is in mm","summary":"<p>desk height is in mm</p>","abstract":true,"args":[{"name":"desk_key","external_name":"desk_key","restriction":"String"},{"name":"desk_height","external_name":"desk_height","restriction":"Int32"}],"args_string":"(desk_key : String, desk_height : Int32)","args_html":"(desk_key : String, desk_height : Int32)","location":{"filename":"src/placeos-driver/interface/desk_control.cr","line_number":5,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/desk_control.cr#L5"},"def":{"name":"set_desk_height","args":[{"name":"desk_key","external_name":"desk_key","restriction":"String"},{"name":"desk_height","external_name":"desk_height","restriction":"Int32"}],"visibility":"Public","body":""},"external_var":false},{"html_id":"set_desk_power(desk_key:String,desk_power:Bool|Nil)-instance-method","name":"set_desk_power","doc":"desk_power on / off / nil == auto","summary":"<p>desk_power on / off / nil == auto</p>","abstract":true,"args":[{"name":"desk_key","external_name":"desk_key","restriction":"String"},{"name":"desk_power","external_name":"desk_power","restriction":"Bool | ::Nil"}],"args_string":"(desk_key : String, desk_power : Bool | Nil)","args_html":"(desk_key : String, desk_power : Bool | Nil)","location":{"filename":"src/placeos-driver/interface/desk_control.cr","line_number":14,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/desk_control.cr#L14"},"def":{"name":"set_desk_power","args":[{"name":"desk_key","external_name":"desk_key","restriction":"String"},{"name":"desk_power","external_name":"desk_power","restriction":"Bool | ::Nil"}],"visibility":"Public","body":""},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/DoorSecurity","path":"PlaceOS/Driver/Interface/DoorSecurity.html","kind":"module","full_name":"PlaceOS::Driver::Interface::DoorSecurity","name":"DoorSecurity","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/door_security.cr","line_number":2,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L2"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface","kind":"module","full_name":"PlaceOS::Driver::Interface","name":"Interface"},"instance_methods":[{"html_id":"door_list:Array(Door)-instance-method","name":"door_list","abstract":true,"location":{"filename":"src/placeos-driver/interface/door_security.cr","line_number":13,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L13"},"def":{"name":"door_list","return_type":"Array(Door)","visibility":"Public","body":""},"external_var":false},{"html_id":"unlock(door_id:String):Bool|Nil-instance-method","name":"unlock","doc":"true for success, false for failed, nil for not supported","summary":"<p>true for success, false for failed, nil for not supported</p>","abstract":true,"args":[{"name":"door_id","external_name":"door_id","restriction":"String"}],"args_string":"(door_id : String) : Bool | Nil","args_html":"(door_id : String) : Bool | Nil","location":{"filename":"src/placeos-driver/interface/door_security.cr","line_number":16,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L16"},"def":{"name":"unlock","args":[{"name":"door_id","external_name":"door_id","restriction":"String"}],"return_type":"Bool | ::Nil","visibility":"Public","body":""},"external_var":false}],"types":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/DoorSecurity/Action","path":"PlaceOS/Driver/Interface/DoorSecurity/Action.html","kind":"enum","full_name":"PlaceOS::Driver::Interface::DoorSecurity::Action","name":"Action","abstract":false,"ancestors":[{"html_id":"placeos-driver/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"placeos-driver/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/interface/door_security.cr","line_number":18,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L18"}],"repository_name":"placeos-driver","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"Granted","name":"Granted","value":"0"},{"id":"Denied","name":"Denied","value":"1"},{"id":"Tamper","name":"Tamper","value":"2"},{"id":"Duress","name":"Duress","value":"3"},{"id":"ForcedDoor","name":"ForcedDoor","value":"4"},{"id":"SecurityBreach","name":"SecurityBreach","value":"5"},{"id":"RequestToExit","name":"RequestToExit","value":"6"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/DoorSecurity","kind":"module","full_name":"PlaceOS::Driver::Interface::DoorSecurity","name":"DoorSecurity"},"instance_methods":[{"html_id":"denied?-instance-method","name":"denied?","doc":"Returns `true` if this enum value equals `Denied`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/DoorSecurity/Action.html#Denied\">Denied</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/door_security.cr","line_number":20,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L20"},"def":{"name":"denied?","visibility":"Public","body":"self == Denied"},"external_var":false},{"html_id":"duress?-instance-method","name":"duress?","doc":"Returns `true` if this enum value equals `Duress`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/DoorSecurity/Action.html#Duress\">Duress</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/door_security.cr","line_number":22,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L22"},"def":{"name":"duress?","visibility":"Public","body":"self == Duress"},"external_var":false},{"html_id":"forced_door?-instance-method","name":"forced_door?","doc":"Returns `true` if this enum value equals `ForcedDoor`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/DoorSecurity/Action.html#ForcedDoor\">ForcedDoor</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/door_security.cr","line_number":23,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L23"},"def":{"name":"forced_door?","visibility":"Public","body":"self == ForcedDoor"},"external_var":false},{"html_id":"granted?-instance-method","name":"granted?","doc":"Returns `true` if this enum value equals `Granted`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/DoorSecurity/Action.html#Granted\">Granted</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/door_security.cr","line_number":19,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L19"},"def":{"name":"granted?","visibility":"Public","body":"self == Granted"},"external_var":false},{"html_id":"request_to_exit?-instance-method","name":"request_to_exit?","doc":"Returns `true` if this enum value equals `RequestToExit`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/DoorSecurity/Action.html#RequestToExit\">RequestToExit</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/door_security.cr","line_number":25,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L25"},"def":{"name":"request_to_exit?","visibility":"Public","body":"self == RequestToExit"},"external_var":false},{"html_id":"security_breach?-instance-method","name":"security_breach?","doc":"Returns `true` if this enum value equals `SecurityBreach`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/DoorSecurity/Action.html#SecurityBreach\">SecurityBreach</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/door_security.cr","line_number":24,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L24"},"def":{"name":"security_breach?","visibility":"Public","body":"self == SecurityBreach"},"external_var":false},{"html_id":"tamper?-instance-method","name":"tamper?","doc":"Returns `true` if this enum value equals `Tamper`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/DoorSecurity/Action.html#Tamper\">Tamper</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/door_security.cr","line_number":21,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L21"},"def":{"name":"tamper?","visibility":"Public","body":"self == Tamper"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/DoorSecurity/Door","path":"PlaceOS/Driver/Interface/DoorSecurity/Door.html","kind":"class","full_name":"PlaceOS::Driver::Interface::DoorSecurity::Door","name":"Door","abstract":false,"superclass":{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"},{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/interface/door_security.cr","line_number":3,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L3"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"}],"extended_modules":[{"html_id":"placeos-driver/JSON/Schema","kind":"module","full_name":"JSON::Schema","name":"Schema"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/DoorSecurity","kind":"module","full_name":"PlaceOS::Driver::Interface::DoorSecurity","name":"DoorSecurity"},"constructors":[{"html_id":"new(pull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"args_string":"(pull : JSON::PullParser)","args_html":"(pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/door_security.cr","line_number":4,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L4"},"def":{"name":"new","args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"visibility":"Public","body":"new_from_json_pull_parser(pull)"},"external_var":false},{"html_id":"new(door_id:String,description:Nil|String=nil)-class-method","name":"new","abstract":false,"args":[{"name":"door_id","external_name":"door_id","restriction":"::String"},{"name":"description","default_value":"nil","external_name":"description","restriction":"::Nil | ::String"}],"args_string":"(door_id : String, description : Nil | String = nil)","args_html":"(door_id : String, description : Nil | String = <span class=\"n\">nil</span>)","location":{"filename":"src/placeos-driver/interface/door_security.cr","line_number":9,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L9"},"def":{"name":"new","args":[{"name":"door_id","external_name":"door_id","restriction":"::String"},{"name":"description","default_value":"nil","external_name":"description","restriction":"::Nil | ::String"}],"visibility":"Public","body":"_ = allocate\n_.initialize(door_id, description)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(*,__pull_for_json_serializablepull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"args_string":"(*, __pull_for_json_serializable pull : JSON::PullParser)","args_html":"(*, __pull_for_json_serializable pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/door_security.cr","line_number":4,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L4"},"def":{"name":"new","args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"splat_index":0,"visibility":"Public","body":"_ = allocate\n_.initialize(__pull_for_json_serializable: pull)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"description:String|Nil-instance-method","name":"description","abstract":false,"location":{"filename":"src/placeos-driver/interface/door_security.cr","line_number":7,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L7"},"def":{"name":"description","return_type":"String | ::Nil","visibility":"Public","body":"@description"},"external_var":false},{"html_id":"door_id:String-instance-method","name":"door_id","abstract":false,"location":{"filename":"src/placeos-driver/interface/door_security.cr","line_number":6,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L6"},"def":{"name":"door_id","return_type":"String","visibility":"Public","body":"@door_id"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/DoorSecurity/DoorEvent","path":"PlaceOS/Driver/Interface/DoorSecurity/DoorEvent.html","kind":"class","full_name":"PlaceOS::Driver::Interface::DoorSecurity::DoorEvent","name":"DoorEvent","abstract":false,"superclass":{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"},{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/interface/door_security.cr","line_number":30,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L30"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"}],"extended_modules":[{"html_id":"placeos-driver/JSON/Schema","kind":"module","full_name":"JSON::Schema","name":"Schema"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/DoorSecurity","kind":"module","full_name":"PlaceOS::Driver::Interface::DoorSecurity","name":"DoorSecurity"},"doc":"drivers are expected to emit door state events on\nchannel security/event/door","summary":"<p>drivers are expected to emit door state events on channel security/event/door</p>","constructors":[{"html_id":"new(module_id:String,security_system:String,door_id:String,action:PlaceOS::Driver::Interface::DoorSecurity::Action,card_id:Nil|String=nil,user_name:Nil|String=nil,user_email:Nil|String=nil,timestamp:Int64=Time.utc.to_unix)-class-method","name":"new","abstract":false,"args":[{"name":"module_id","external_name":"module_id","restriction":"::String"},{"name":"security_system","external_name":"security_system","restriction":"::String"},{"name":"door_id","external_name":"door_id","restriction":"::String"},{"name":"action","external_name":"action","restriction":"::PlaceOS::Driver::Interface::DoorSecurity::Action"},{"name":"card_id","default_value":"nil","external_name":"card_id","restriction":"::Nil | ::String"},{"name":"user_name","default_value":"nil","external_name":"user_name","restriction":"::Nil | ::String"},{"name":"user_email","default_value":"nil","external_name":"user_email","restriction":"::Nil | ::String"},{"name":"timestamp","default_value":"Time.utc.to_unix","external_name":"timestamp","restriction":"::Int64"}],"args_string":"(module_id : String, security_system : String, door_id : String, action : PlaceOS::Driver::Interface::DoorSecurity::Action, card_id : Nil | String = nil, user_name : Nil | String = nil, user_email : Nil | String = nil, timestamp : Int64 = Time.utc.to_unix)","args_html":"(module_id : String, security_system : String, door_id : String, action : <a href=\"../../../../PlaceOS/Driver/Interface/DoorSecurity/Action.html\">PlaceOS::Driver::Interface::DoorSecurity::Action</a>, card_id : Nil | String = <span class=\"n\">nil</span>, user_name : Nil | String = <span class=\"n\">nil</span>, user_email : Nil | String = <span class=\"n\">nil</span>, timestamp : Int64 = <span class=\"t\">Time</span>.utc.to_unix)","location":{"filename":"src/placeos-driver/interface/door_security.cr","line_number":43,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L43"},"def":{"name":"new","args":[{"name":"module_id","external_name":"module_id","restriction":"::String"},{"name":"security_system","external_name":"security_system","restriction":"::String"},{"name":"door_id","external_name":"door_id","restriction":"::String"},{"name":"action","external_name":"action","restriction":"::PlaceOS::Driver::Interface::DoorSecurity::Action"},{"name":"card_id","default_value":"nil","external_name":"card_id","restriction":"::Nil | ::String"},{"name":"user_name","default_value":"nil","external_name":"user_name","restriction":"::Nil | ::String"},{"name":"user_email","default_value":"nil","external_name":"user_email","restriction":"::Nil | ::String"},{"name":"timestamp","default_value":"Time.utc.to_unix","external_name":"timestamp","restriction":"::Int64"}],"visibility":"Public","body":"_ = allocate\n_.initialize(module_id, security_system, door_id, action, card_id, user_name, user_email, timestamp)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(pull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"args_string":"(pull : JSON::PullParser)","args_html":"(pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/door_security.cr","line_number":31,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L31"},"def":{"name":"new","args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"visibility":"Public","body":"new_from_json_pull_parser(pull)"},"external_var":false},{"html_id":"new(*,__pull_for_json_serializablepull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"args_string":"(*, __pull_for_json_serializable pull : JSON::PullParser)","args_html":"(*, __pull_for_json_serializable pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/door_security.cr","line_number":31,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L31"},"def":{"name":"new","args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"splat_index":0,"visibility":"Public","body":"_ = allocate\n_.initialize(__pull_for_json_serializable: pull)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"action:Action-instance-method","name":"action","abstract":false,"location":{"filename":"src/placeos-driver/interface/door_security.cr","line_number":38,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L38"},"def":{"name":"action","return_type":"Action","visibility":"Public","body":"@action"},"external_var":false},{"html_id":"card_id:String|Nil-instance-method","name":"card_id","abstract":false,"location":{"filename":"src/placeos-driver/interface/door_security.cr","line_number":39,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L39"},"def":{"name":"card_id","return_type":"String | ::Nil","visibility":"Public","body":"@card_id"},"external_var":false},{"html_id":"door_id:String-instance-method","name":"door_id","abstract":false,"location":{"filename":"src/placeos-driver/interface/door_security.cr","line_number":36,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L36"},"def":{"name":"door_id","return_type":"String","visibility":"Public","body":"@door_id"},"external_var":false},{"html_id":"module_id:String-instance-method","name":"module_id","abstract":false,"location":{"filename":"src/placeos-driver/interface/door_security.cr","line_number":33,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L33"},"def":{"name":"module_id","return_type":"String","visibility":"Public","body":"@module_id"},"external_var":false},{"html_id":"security_system:String-instance-method","name":"security_system","abstract":false,"location":{"filename":"src/placeos-driver/interface/door_security.cr","line_number":34,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L34"},"def":{"name":"security_system","return_type":"String","visibility":"Public","body":"@security_system"},"external_var":false},{"html_id":"timestamp:Int64-instance-method","name":"timestamp","abstract":false,"location":{"filename":"src/placeos-driver/interface/door_security.cr","line_number":37,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L37"},"def":{"name":"timestamp","return_type":"Int64","visibility":"Public","body":"@timestamp"},"external_var":false},{"html_id":"user_email:String|Nil-instance-method","name":"user_email","abstract":false,"location":{"filename":"src/placeos-driver/interface/door_security.cr","line_number":41,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L41"},"def":{"name":"user_email","return_type":"String | ::Nil","visibility":"Public","body":"@user_email"},"external_var":false},{"html_id":"user_name:String|Nil-instance-method","name":"user_name","abstract":false,"location":{"filename":"src/placeos-driver/interface/door_security.cr","line_number":40,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/door_security.cr#L40"},"def":{"name":"user_name","return_type":"String | ::Nil","visibility":"Public","body":"@user_name"},"external_var":false}]}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/ElectricalRelay","path":"PlaceOS/Driver/Interface/ElectricalRelay.html","kind":"module","full_name":"PlaceOS::Driver::Interface::ElectricalRelay","name":"ElectricalRelay","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/electrical_relay.cr","line_number":2,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/electrical_relay.cr#L2"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface","kind":"module","full_name":"PlaceOS::Driver::Interface","name":"Interface"},"instance_methods":[{"html_id":"pulse(period:Int32=1000,index:Int32=0,times:Int32=1,initial_state:Bool=false)-instance-method","name":"pulse","abstract":false,"args":[{"name":"period","default_value":"1000","external_name":"period","restriction":"Int32"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32"},{"name":"times","default_value":"1","external_name":"times","restriction":"Int32"},{"name":"initial_state","default_value":"false","external_name":"initial_state","restriction":"Bool"}],"args_string":"(period : Int32 = 1000, index : Int32 = 0, times : Int32 = 1, initial_state : Bool = false)","args_html":"(period : Int32 = <span class=\"n\">1000</span>, index : Int32 = <span class=\"n\">0</span>, times : Int32 = <span class=\"n\">1</span>, initial_state : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/placeos-driver/interface/electrical_relay.cr","line_number":6,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/electrical_relay.cr#L6"},"def":{"name":"pulse","args":[{"name":"period","default_value":"1000","external_name":"period","restriction":"Int32"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32"},{"name":"times","default_value":"1","external_name":"times","restriction":"Int32"},{"name":"initial_state","default_value":"false","external_name":"initial_state","restriction":"Bool"}],"visibility":"Public","body":"queue(name: \"pulse_#{index}\") do |task|\n\n  priority = queue.priority + 25\n  pause_for = period.milliseconds\n\n  times.times do\n    relay(!initial_state, index, delay: pause_for, priority: priority)\n    relay(initial_state, index, delay: pause_for, priority: priority)\n  end\n  task.success\nend"},"external_var":false},{"html_id":"relay(state:Bool,index:Int32=0,**options)-instance-method","name":"relay","doc":"`**options` here will be passed to the `task` to allow for different priorities","summary":"<p><code>**options</code> here will be passed to the <code>task</code> to allow for different priorities</p>","abstract":true,"args":[{"name":"state","external_name":"state","restriction":"Bool"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32"}],"args_string":"(state : Bool, index : Int32 = 0, **options)","args_html":"(state : Bool, index : Int32 = <span class=\"n\">0</span>, **options)","location":{"filename":"src/placeos-driver/interface/electrical_relay.cr","line_number":4,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/electrical_relay.cr#L4"},"def":{"name":"relay","args":[{"name":"state","external_name":"state","restriction":"Bool"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32"}],"double_splat":{"name":"options","external_name":"options","restriction":""},"visibility":"Public","body":""},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/GuestBuildingAccess","path":"PlaceOS/Driver/Interface/GuestBuildingAccess.html","kind":"module","full_name":"PlaceOS::Driver::Interface::GuestBuildingAccess","name":"GuestBuildingAccess","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/guest_building_access.cr","line_number":4,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/guest_building_access.cr#L4"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface","kind":"module","full_name":"PlaceOS::Driver::Interface","name":"Interface"},"instance_methods":[{"html_id":"grant_guest_access(name:String,email:String,starting:Int64,ending:Int64):AccessDetails-instance-method","name":"grant_guest_access","doc":"a function for granting guests access to a building\nshould return a payload that can be encoded into a QR code\nthe response is expected to be hexstring","summary":"<p>a function for granting guests access to a building should return a payload that can be encoded into a QR code the response is expected to be hexstring</p>","abstract":true,"args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"email","external_name":"email","restriction":"String"},{"name":"starting","external_name":"starting","restriction":"Int64"},{"name":"ending","external_name":"ending","restriction":"Int64"}],"args_string":"(name : String, email : String, starting : Int64, ending : Int64) : AccessDetails","args_html":"(name : String, email : String, starting : Int64, ending : Int64) : <a href=\"../../../PlaceOS/Driver/Interface/GuestBuildingAccess/AccessDetails.html\">AccessDetails</a>","location":{"filename":"src/placeos-driver/interface/guest_building_access.cr","line_number":19,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/guest_building_access.cr#L19"},"def":{"name":"grant_guest_access","args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"email","external_name":"email","restriction":"String"},{"name":"starting","external_name":"starting","restriction":"Int64"},{"name":"ending","external_name":"ending","restriction":"Int64"}],"return_type":"AccessDetails","visibility":"Public","body":""},"external_var":false},{"html_id":"guest_access_configured?:Bool-instance-method","name":"guest_access_configured?","doc":"return true if we can grant guest access","summary":"<p>return true if we can grant guest access</p>","abstract":true,"location":{"filename":"src/placeos-driver/interface/guest_building_access.cr","line_number":25,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/guest_building_access.cr#L25"},"def":{"name":"guest_access_configured?","return_type":"Bool","visibility":"Public","body":""},"external_var":false},{"html_id":"revoke_guest_access(details:JSON::Any)-instance-method","name":"revoke_guest_access","doc":"revoke access to a building","summary":"<p>revoke access to a building</p>","abstract":true,"args":[{"name":"details","external_name":"details","restriction":"JSON::Any"}],"args_string":"(details : JSON::Any)","args_html":"(details : JSON::Any)","location":{"filename":"src/placeos-driver/interface/guest_building_access.cr","line_number":22,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/guest_building_access.cr#L22"},"def":{"name":"revoke_guest_access","args":[{"name":"details","external_name":"details","restriction":"JSON::Any"}],"visibility":"Public","body":""},"external_var":false}],"types":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/GuestBuildingAccess/AccessDetails","path":"PlaceOS/Driver/Interface/GuestBuildingAccess/AccessDetails.html","kind":"class","full_name":"PlaceOS::Driver::Interface::GuestBuildingAccess::AccessDetails","name":"AccessDetails","abstract":true,"superclass":{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"placeos-driver/JSON/Serializable/Unmapped","kind":"module","full_name":"JSON::Serializable::Unmapped","name":"Unmapped"},{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"},{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/interface/guest_building_access.cr","line_number":6,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/guest_building_access.cr#L6"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"},{"html_id":"placeos-driver/JSON/Serializable/Unmapped","kind":"module","full_name":"JSON::Serializable::Unmapped","name":"Unmapped"}],"extended_modules":[{"html_id":"placeos-driver/JSON/Schema","kind":"module","full_name":"JSON::Schema","name":"Schema"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/GuestBuildingAccess","kind":"module","full_name":"PlaceOS::Driver::Interface::GuestBuildingAccess","name":"GuestBuildingAccess"},"doc":"use inheritance to provide additional details as required to revoke access","summary":"<p>use inheritance to provide additional details as required to revoke access</p>","constructors":[{"html_id":"new(pull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"args_string":"(pull : JSON::PullParser)","args_html":"(pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/guest_building_access.cr","line_number":7,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/guest_building_access.cr#L7"},"def":{"name":"new","args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"visibility":"Public","body":"new_from_json_pull_parser(pull)"},"external_var":false},{"html_id":"new(*,__pull_for_json_serializablepull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"args_string":"(*, __pull_for_json_serializable pull : JSON::PullParser)","args_html":"(*, __pull_for_json_serializable pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/guest_building_access.cr","line_number":7,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/guest_building_access.cr#L7"},"def":{"name":"new","args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"splat_index":0,"visibility":"Public","body":"_ = allocate\n_.initialize(__pull_for_json_serializable: pull)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"card_facility:Int64|Nil-instance-method","name":"card_facility","abstract":false,"location":{"filename":"src/placeos-driver/interface/guest_building_access.cr","line_number":13,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/guest_building_access.cr#L13"},"def":{"name":"card_facility","return_type":"Int64 | ::Nil","visibility":"Public","body":"@card_facility"},"external_var":false},{"html_id":"card_facility=(card_facility:Int64|Nil)-instance-method","name":"card_facility=","abstract":false,"args":[{"name":"card_facility","external_name":"card_facility","restriction":"Int64 | ::Nil"}],"args_string":"(card_facility : Int64 | Nil)","args_html":"(card_facility : Int64 | Nil)","location":{"filename":"src/placeos-driver/interface/guest_building_access.cr","line_number":13,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/guest_building_access.cr#L13"},"def":{"name":"card_facility=","args":[{"name":"card_facility","external_name":"card_facility","restriction":"Int64 | ::Nil"}],"visibility":"Public","body":"@card_facility = card_facility"},"external_var":false},{"html_id":"card_number:Int64|Nil-instance-method","name":"card_number","abstract":false,"location":{"filename":"src/placeos-driver/interface/guest_building_access.cr","line_number":12,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/guest_building_access.cr#L12"},"def":{"name":"card_number","return_type":"Int64 | ::Nil","visibility":"Public","body":"@card_number"},"external_var":false},{"html_id":"card_number=(card_number:Int64|Nil)-instance-method","name":"card_number=","abstract":false,"args":[{"name":"card_number","external_name":"card_number","restriction":"Int64 | ::Nil"}],"args_string":"(card_number : Int64 | Nil)","args_html":"(card_number : Int64 | Nil)","location":{"filename":"src/placeos-driver/interface/guest_building_access.cr","line_number":12,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/guest_building_access.cr#L12"},"def":{"name":"card_number=","args":[{"name":"card_number","external_name":"card_number","restriction":"Int64 | ::Nil"}],"visibility":"Public","body":"@card_number = card_number"},"external_var":false},{"html_id":"permission_id:String|Nil-instance-method","name":"permission_id","abstract":false,"location":{"filename":"src/placeos-driver/interface/guest_building_access.cr","line_number":11,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/guest_building_access.cr#L11"},"def":{"name":"permission_id","return_type":"String | ::Nil","visibility":"Public","body":"@permission_id"},"external_var":false},{"html_id":"permission_id=(permission_id:String|Nil)-instance-method","name":"permission_id=","abstract":false,"args":[{"name":"permission_id","external_name":"permission_id","restriction":"String | ::Nil"}],"args_string":"(permission_id : String | Nil)","args_html":"(permission_id : String | Nil)","location":{"filename":"src/placeos-driver/interface/guest_building_access.cr","line_number":11,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/guest_building_access.cr#L11"},"def":{"name":"permission_id=","args":[{"name":"permission_id","external_name":"permission_id","restriction":"String | ::Nil"}],"visibility":"Public","body":"@permission_id = permission_id"},"external_var":false},{"html_id":"user_id:String|Nil-instance-method","name":"user_id","abstract":false,"location":{"filename":"src/placeos-driver/interface/guest_building_access.cr","line_number":10,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/guest_building_access.cr#L10"},"def":{"name":"user_id","return_type":"String | ::Nil","visibility":"Public","body":"@user_id"},"external_var":false},{"html_id":"user_id=(user_id:String|Nil)-instance-method","name":"user_id=","abstract":false,"args":[{"name":"user_id","external_name":"user_id","restriction":"String | ::Nil"}],"args_string":"(user_id : String | Nil)","args_html":"(user_id : String | Nil)","location":{"filename":"src/placeos-driver/interface/guest_building_access.cr","line_number":10,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/guest_building_access.cr#L10"},"def":{"name":"user_id=","args":[{"name":"user_id","external_name":"user_id","restriction":"String | ::Nil"}],"visibility":"Public","body":"@user_id = user_id"},"external_var":false}]}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/InputSelection","path":"PlaceOS/Driver/Interface/InputSelection.html","kind":"module","full_name":"PlaceOS::Driver::Interface::InputSelection(Input)","name":"InputSelection","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/switchable.cr","line_number":2,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/switchable.cr#L2"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"including_types":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Switchable","kind":"module","full_name":"PlaceOS::Driver::Interface::Switchable(Input, Output)","name":"Switchable"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface","kind":"module","full_name":"PlaceOS::Driver::Interface","name":"Interface"},"instance_methods":[{"html_id":"switch_to(input:Input)-instance-method","name":"switch_to","doc":"Switches all outputs to the requested input\nSpecial case `switch_to 0` should mute all the outputs, if supported","summary":"<p>Switches all outputs to the requested input Special case <code>switch_to 0</code> should mute all the outputs, if supported</p>","abstract":true,"args":[{"name":"input","external_name":"input","restriction":"Input"}],"args_string":"(input : Input)","args_html":"(input : Input)","location":{"filename":"src/placeos-driver/interface/switchable.cr","line_number":5,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/switchable.cr#L5"},"def":{"name":"switch_to","args":[{"name":"input","external_name":"input","restriction":"Input"}],"visibility":"Public","body":""},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Lighting","path":"PlaceOS/Driver/Interface/Lighting.html","kind":"module","full_name":"PlaceOS::Driver::Interface::Lighting","name":"Lighting","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/lighting.cr","line_number":4,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lighting.cr#L4"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface","kind":"module","full_name":"PlaceOS::Driver::Interface","name":"Interface"},"types":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Lighting/Area","path":"PlaceOS/Driver/Interface/Lighting/Area.html","kind":"struct","full_name":"PlaceOS::Driver::Interface::Lighting::Area","name":"Area","abstract":false,"superclass":{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"},{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/interface/lighting.cr","line_number":5,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lighting.cr#L5"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"}],"extended_modules":[{"html_id":"placeos-driver/JSON/Schema","kind":"module","full_name":"JSON::Schema","name":"Schema"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Lighting","kind":"module","full_name":"PlaceOS::Driver::Interface::Lighting","name":"Lighting"},"constructors":[{"html_id":"new(pull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"args_string":"(pull : JSON::PullParser)","args_html":"(pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/lighting.cr","line_number":6,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lighting.cr#L6"},"def":{"name":"new","args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"visibility":"Public","body":"new_from_json_pull_parser(pull)"},"external_var":false},{"html_id":"new(id:String|UInt32|Nil=nil,channel:UInt32|Nil=nil,component:Nil|String=nil,join:UInt32|Nil=nil,append:Nil|String=nil)-class-method","name":"new","abstract":false,"args":[{"name":"id","default_value":"nil","external_name":"id","restriction":"::String | ::UInt32 | ::Nil"},{"name":"channel","default_value":"nil","external_name":"channel","restriction":"::UInt32 | ::Nil"},{"name":"component","default_value":"nil","external_name":"component","restriction":"::Nil | ::String"},{"name":"join","default_value":"nil","external_name":"join","restriction":"::UInt32 | ::Nil"},{"name":"append","default_value":"nil","external_name":"append","restriction":"::Nil | ::String"}],"args_string":"(id : String | UInt32 | Nil = nil, channel : UInt32 | Nil = nil, component : Nil | String = nil, join : UInt32 | Nil = nil, append : Nil | String = nil)","args_html":"(id : String | UInt32 | Nil = <span class=\"n\">nil</span>, channel : UInt32 | Nil = <span class=\"n\">nil</span>, component : Nil | String = <span class=\"n\">nil</span>, join : UInt32 | Nil = <span class=\"n\">nil</span>, append : Nil | String = <span class=\"n\">nil</span>)","location":{"filename":"src/placeos-driver/interface/lighting.cr","line_number":17,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lighting.cr#L17"},"def":{"name":"new","args":[{"name":"id","default_value":"nil","external_name":"id","restriction":"::String | ::UInt32 | ::Nil"},{"name":"channel","default_value":"nil","external_name":"channel","restriction":"::UInt32 | ::Nil"},{"name":"component","default_value":"nil","external_name":"component","restriction":"::Nil | ::String"},{"name":"join","default_value":"nil","external_name":"join","restriction":"::UInt32 | ::Nil"},{"name":"append","default_value":"nil","external_name":"append","restriction":"::Nil | ::String"}],"visibility":"Public","body":"_ = allocate\n_.initialize(id, channel, component, join, append)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(*,__pull_for_json_serializablepull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"args_string":"(*, __pull_for_json_serializable pull : JSON::PullParser)","args_html":"(*, __pull_for_json_serializable pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/lighting.cr","line_number":6,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lighting.cr#L6"},"def":{"name":"new","args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"splat_index":0,"visibility":"Public","body":"_ = allocate\n_.initialize(__pull_for_json_serializable: pull)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"append(append:String|Nil)-instance-method","name":"append","abstract":false,"args":[{"name":"append","external_name":"append","restriction":"String | ::Nil"}],"args_string":"(append : String | Nil)","args_html":"(append : String | Nil)","location":{"filename":"src/placeos-driver/interface/lighting.cr","line_number":31,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lighting.cr#L31"},"def":{"name":"append","args":[{"name":"append","external_name":"append","restriction":"String | ::Nil"}],"visibility":"Public","body":"@append = append\nself\n"},"external_var":false},{"html_id":"append:String|Nil-instance-method","name":"append","abstract":false,"location":{"filename":"src/placeos-driver/interface/lighting.cr","line_number":15,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lighting.cr#L15"},"def":{"name":"append","return_type":"String | ::Nil","visibility":"Public","body":"@append"},"external_var":false},{"html_id":"append=(append:String|Nil)-instance-method","name":"append=","abstract":false,"args":[{"name":"append","external_name":"append","restriction":"String | ::Nil"}],"args_string":"(append : String | Nil)","args_html":"(append : String | Nil)","location":{"filename":"src/placeos-driver/interface/lighting.cr","line_number":15,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lighting.cr#L15"},"def":{"name":"append=","args":[{"name":"append","external_name":"append","restriction":"String | ::Nil"}],"visibility":"Public","body":"@append = append"},"external_var":false},{"html_id":"channel:UInt32|Nil-instance-method","name":"channel","abstract":false,"location":{"filename":"src/placeos-driver/interface/lighting.cr","line_number":11,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lighting.cr#L11"},"def":{"name":"channel","return_type":"UInt32 | ::Nil","visibility":"Public","body":"@channel"},"external_var":false},{"html_id":"component:String|Nil-instance-method","name":"component","abstract":false,"location":{"filename":"src/placeos-driver/interface/lighting.cr","line_number":12,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lighting.cr#L12"},"def":{"name":"component","return_type":"String | ::Nil","visibility":"Public","body":"@component"},"external_var":false},{"html_id":"id:UInt32|String|Nil-instance-method","name":"id","doc":"Newer fields can be added if these don't meet requirements for newer lighting systems","summary":"<p>Newer fields can be added if these don't meet requirements for newer lighting systems</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/lighting.cr","line_number":9,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lighting.cr#L9"},"def":{"name":"id","return_type":"UInt32 | String | ::Nil","visibility":"Public","body":"@id"},"external_var":false},{"html_id":"join:UInt32|Nil-instance-method","name":"join","abstract":false,"location":{"filename":"src/placeos-driver/interface/lighting.cr","line_number":10,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lighting.cr#L10"},"def":{"name":"join","return_type":"UInt32 | ::Nil","visibility":"Public","body":"@join"},"external_var":false},{"html_id":"join_with(area:Area):Area-instance-method","name":"join_with","abstract":false,"args":[{"name":"area","external_name":"area","restriction":"Area"}],"args_string":"(area : Area) : Area","args_html":"(area : <a href=\"../../../../PlaceOS/Driver/Interface/Lighting/Area.html\">Area</a>) : <a href=\"../../../../PlaceOS/Driver/Interface/Lighting/Area.html\">Area</a>","location":{"filename":"src/placeos-driver/interface/lighting.cr","line_number":20,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lighting.cr#L20"},"def":{"name":"join_with","args":[{"name":"area","external_name":"area","restriction":"Area"}],"return_type":"Area","visibility":"Public","body":"local_join = join || area.join\nremote_join = area.join || local_join\n\nif local_join && remote_join\n  Area.new(id, channel, component, local_join | remote_join)\nelse\n  self\nend\n"},"external_var":false},{"html_id":"to_s-instance-method","name":"to_s","doc":"Returns a nicely readable and concise string representation of this object,\ntypically intended for users.\n\nThis method should usually **not** be overridden. It delegates to\n`#to_s(IO)` which can be overridden for custom implementations.\n\nAlso see `#inspect`.","summary":"<p>Returns a nicely readable and concise string representation of this object, typically intended for users.</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/lighting.cr","line_number":35,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lighting.cr#L35"},"def":{"name":"to_s","visibility":"Public","body":"[\"area#{id}\", channel, component, join, append].compact.join(\"_\")"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Lighting/Level","path":"PlaceOS/Driver/Interface/Lighting/Level.html","kind":"module","full_name":"PlaceOS::Driver::Interface::Lighting::Level","name":"Level","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/lighting.cr","line_number":47,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lighting.cr#L47"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Lighting","kind":"module","full_name":"PlaceOS::Driver::Interface::Lighting","name":"Lighting"},"doc":"Expects status is set as `self[area.append(\"level\")] = level`","summary":"<p>Expects status is set as <code>self[area.append(&quot;level&quot;)] = level</code></p>","instance_methods":[{"html_id":"lighting_level?(area:Area|Nil=nil)-instance-method","name":"lighting_level?","doc":"return the current level","summary":"<p>return the current level</p>","abstract":true,"args":[{"name":"area","default_value":"nil","external_name":"area","restriction":"Area | ::Nil"}],"args_string":"(area : Area | Nil = nil)","args_html":"(area : <a href=\"../../../../PlaceOS/Driver/Interface/Lighting/Area.html\">Area</a> | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/placeos-driver/interface/lighting.cr","line_number":52,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lighting.cr#L52"},"def":{"name":"lighting_level?","args":[{"name":"area","default_value":"nil","external_name":"area","restriction":"Area | ::Nil"}],"visibility":"Public","body":""},"external_var":false},{"html_id":"set_lighting(state:Bool,area:Area|Nil=nil,fade_time:UInt32=1000_u32)-instance-method","name":"set_lighting","abstract":false,"args":[{"name":"state","external_name":"state","restriction":"Bool"},{"name":"area","default_value":"nil","external_name":"area","restriction":"Area | ::Nil"},{"name":"fade_time","default_value":"1000_u32","external_name":"fade_time","restriction":"UInt32"}],"args_string":"(state : Bool, area : Area | Nil = nil, fade_time : UInt32 = 1000_u32)","args_html":"(state : Bool, area : <a href=\"../../../../PlaceOS/Driver/Interface/Lighting/Area.html\">Area</a> | Nil = <span class=\"n\">nil</span>, fade_time : UInt32 = <span class=\"n\">1000_u32</span>)","location":{"filename":"src/placeos-driver/interface/lighting.cr","line_number":54,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lighting.cr#L54"},"def":{"name":"set_lighting","args":[{"name":"state","external_name":"state","restriction":"Bool"},{"name":"area","default_value":"nil","external_name":"area","restriction":"Area | ::Nil"},{"name":"fade_time","default_value":"1000_u32","external_name":"fade_time","restriction":"UInt32"}],"visibility":"Public","body":"level = state ? 100.0 : 0.0\nset_lighting_level(level, area, fade_time)\n"},"external_var":false},{"html_id":"set_lighting_level(level:Float64,area:Area|Nil=nil,fade_time:UInt32=1000_u32)-instance-method","name":"set_lighting_level","doc":"level between 0.0 and 100.0, fade in milliseconds","summary":"<p>level between 0.0 and 100.0, fade in milliseconds</p>","abstract":true,"args":[{"name":"level","external_name":"level","restriction":"Float64"},{"name":"area","default_value":"nil","external_name":"area","restriction":"Area | ::Nil"},{"name":"fade_time","default_value":"1000_u32","external_name":"fade_time","restriction":"UInt32"}],"args_string":"(level : Float64, area : Area | Nil = nil, fade_time : UInt32 = 1000_u32)","args_html":"(level : Float64, area : <a href=\"../../../../PlaceOS/Driver/Interface/Lighting/Area.html\">Area</a> | Nil = <span class=\"n\">nil</span>, fade_time : UInt32 = <span class=\"n\">1000_u32</span>)","location":{"filename":"src/placeos-driver/interface/lighting.cr","line_number":49,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lighting.cr#L49"},"def":{"name":"set_lighting_level","args":[{"name":"level","external_name":"level","restriction":"Float64"},{"name":"area","default_value":"nil","external_name":"area","restriction":"Area | ::Nil"},{"name":"fade_time","default_value":"1000_u32","external_name":"fade_time","restriction":"UInt32"}],"visibility":"Public","body":""},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Lighting/Scene","path":"PlaceOS/Driver/Interface/Lighting/Scene.html","kind":"module","full_name":"PlaceOS::Driver::Interface::Lighting::Scene","name":"Scene","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/lighting.cr","line_number":41,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lighting.cr#L41"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Lighting","kind":"module","full_name":"PlaceOS::Driver::Interface::Lighting","name":"Lighting"},"doc":"Expects status is set as `self[area] = scene`","summary":"<p>Expects status is set as <code>self[area] = scene</code></p>","instance_methods":[{"html_id":"lighting_scene?(area:Area|Nil=nil)-instance-method","name":"lighting_scene?","abstract":true,"args":[{"name":"area","default_value":"nil","external_name":"area","restriction":"Area | ::Nil"}],"args_string":"(area : Area | Nil = nil)","args_html":"(area : <a href=\"../../../../PlaceOS/Driver/Interface/Lighting/Area.html\">Area</a> | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/placeos-driver/interface/lighting.cr","line_number":43,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lighting.cr#L43"},"def":{"name":"lighting_scene?","args":[{"name":"area","default_value":"nil","external_name":"area","restriction":"Area | ::Nil"}],"visibility":"Public","body":""},"external_var":false},{"html_id":"set_lighting_scene(scene:UInt32,area:Area|Nil=nil,fade_time:UInt32=1000_u32)-instance-method","name":"set_lighting_scene","abstract":true,"args":[{"name":"scene","external_name":"scene","restriction":"UInt32"},{"name":"area","default_value":"nil","external_name":"area","restriction":"Area | ::Nil"},{"name":"fade_time","default_value":"1000_u32","external_name":"fade_time","restriction":"UInt32"}],"args_string":"(scene : UInt32, area : Area | Nil = nil, fade_time : UInt32 = 1000_u32)","args_html":"(scene : UInt32, area : <a href=\"../../../../PlaceOS/Driver/Interface/Lighting/Area.html\">Area</a> | Nil = <span class=\"n\">nil</span>, fade_time : UInt32 = <span class=\"n\">1000_u32</span>)","location":{"filename":"src/placeos-driver/interface/lighting.cr","line_number":42,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lighting.cr#L42"},"def":{"name":"set_lighting_scene","args":[{"name":"scene","external_name":"scene","restriction":"UInt32"},{"name":"area","default_value":"nil","external_name":"area","restriction":"Area | ::Nil"},{"name":"fade_time","default_value":"1000_u32","external_name":"fade_time","restriction":"UInt32"}],"visibility":"Public","body":""},"external_var":false}]}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Locatable","path":"PlaceOS/Driver/Interface/Locatable.html","kind":"module","full_name":"PlaceOS::Driver::Interface::Locatable","name":"Locatable","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/locatable.cr","line_number":3,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/locatable.cr#L3"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"including_types":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Lockers","kind":"module","full_name":"PlaceOS::Driver::Interface::Lockers","name":"Lockers"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface","kind":"module","full_name":"PlaceOS::Driver::Interface","name":"Interface"},"doc":"a driver or service that can provide location information for people","summary":"<p>a driver or service that can provide location information for people</p>","instance_methods":[{"html_id":"check_ownership_of(mac_address:String):OwnershipMAC|Nil-instance-method","name":"check_ownership_of","doc":"return `nil` or `{\"location\": \"wireless\", \"assigned_to\": \"bob123\", \"mac_address\": \"abcd\"}`","summary":"<p>return <code>nil</code> or <code>{&quot;location&quot;: &quot;wireless&quot;, &quot;assigned_to&quot;: &quot;bob123&quot;, &quot;mac_address&quot;: &quot;abcd&quot;}</code></p>","abstract":true,"args":[{"name":"mac_address","external_name":"mac_address","restriction":"String"}],"args_string":"(mac_address : String) : OwnershipMAC | Nil","args_html":"(mac_address : String) : <a href=\"../../../PlaceOS/Driver/Interface/Locatable/OwnershipMAC.html\">OwnershipMAC</a> | Nil","location":{"filename":"src/placeos-driver/interface/locatable.cr","line_number":18,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/locatable.cr#L18"},"def":{"name":"check_ownership_of","args":[{"name":"mac_address","external_name":"mac_address","restriction":"String"}],"return_type":"OwnershipMAC | ::Nil","visibility":"Public","body":""},"external_var":false},{"html_id":"device_locations(zone_id:String,location:String|Nil=nil)-instance-method","name":"device_locations","doc":"array of devices and their x, y coordinates","summary":"<p>array of devices and their x, y coordinates</p>","abstract":true,"args":[{"name":"zone_id","external_name":"zone_id","restriction":"String"},{"name":"location","default_value":"nil","external_name":"location","restriction":"String | ::Nil"}],"args_string":"(zone_id : String, location : String | Nil = nil)","args_html":"(zone_id : String, location : String | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/placeos-driver/interface/locatable.cr","line_number":21,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/locatable.cr#L21"},"def":{"name":"device_locations","args":[{"name":"zone_id","external_name":"zone_id","restriction":"String"},{"name":"location","default_value":"nil","external_name":"location","restriction":"String | ::Nil"}],"visibility":"Public","body":""},"external_var":false},{"html_id":"locate_user(email:String|Nil=nil,username:String|Nil=nil)-instance-method","name":"locate_user","doc":"array of devices and their x, y coordinates, that are associated with this user","summary":"<p>array of devices and their x, y coordinates, that are associated with this user</p>","abstract":true,"args":[{"name":"email","default_value":"nil","external_name":"email","restriction":"String | ::Nil"},{"name":"username","default_value":"nil","external_name":"username","restriction":"String | ::Nil"}],"args_string":"(email : String | Nil = nil, username : String | Nil = nil)","args_html":"(email : String | Nil = <span class=\"n\">nil</span>, username : String | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/placeos-driver/interface/locatable.cr","line_number":5,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/locatable.cr#L5"},"def":{"name":"locate_user","args":[{"name":"email","default_value":"nil","external_name":"email","restriction":"String | ::Nil"},{"name":"username","default_value":"nil","external_name":"username","restriction":"String | ::Nil"}],"visibility":"Public","body":""},"external_var":false},{"html_id":"macs_assigned_to(email:String|Nil=nil,username:String|Nil=nil):Array(String)-instance-method","name":"macs_assigned_to","doc":"return an array of MAC address strings\nlowercase with no seperation characters abcdeffd1234 etc","summary":"<p>return an array of MAC address strings lowercase with no seperation characters abcdeffd1234 etc</p>","abstract":true,"args":[{"name":"email","default_value":"nil","external_name":"email","restriction":"String | ::Nil"},{"name":"username","default_value":"nil","external_name":"username","restriction":"String | ::Nil"}],"args_string":"(email : String | Nil = nil, username : String | Nil = nil) : Array(String)","args_html":"(email : String | Nil = <span class=\"n\">nil</span>, username : String | Nil = <span class=\"n\">nil</span>) : Array(String)","location":{"filename":"src/placeos-driver/interface/locatable.cr","line_number":9,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/locatable.cr#L9"},"def":{"name":"macs_assigned_to","args":[{"name":"email","default_value":"nil","external_name":"email","restriction":"String | ::Nil"},{"name":"username","default_value":"nil","external_name":"username","restriction":"String | ::Nil"}],"return_type":"Array(String)","visibility":"Public","body":""},"external_var":false}],"types":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Locatable/OwnershipMAC","path":"PlaceOS/Driver/Interface/Locatable/OwnershipMAC.html","kind":"alias","full_name":"PlaceOS::Driver::Interface::Locatable::OwnershipMAC","name":"OwnershipMAC","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/locatable.cr","line_number":11,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/locatable.cr#L11"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":true,"aliased":"NamedTuple(location: String, assigned_to: String, mac_address: String)","aliased_html":"{location: String, assigned_to: String, mac_address: String}","const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Locatable","kind":"module","full_name":"PlaceOS::Driver::Interface::Locatable","name":"Locatable"}}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Lockers","path":"PlaceOS/Driver/Interface/Lockers.html","kind":"module","full_name":"PlaceOS::Driver::Interface::Lockers","name":"Lockers","abstract":false,"ancestors":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Locatable","kind":"module","full_name":"PlaceOS::Driver::Interface::Locatable","name":"Locatable"}],"locations":[{"filename":"src/placeos-driver/interface/lockers.cr","line_number":5,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L5"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Locatable","kind":"module","full_name":"PlaceOS::Driver::Interface::Locatable","name":"Locatable"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface","kind":"module","full_name":"PlaceOS::Driver::Interface","name":"Interface"},"instance_methods":[{"html_id":"locker_allocate(user_id:String,bank_id:String|Int64,locker_id:String|Int64|Nil=nil,expires_at:Int64|Nil=nil):PlaceLocker-instance-method","name":"locker_allocate","doc":"allocates a locker now, the allocation may expire","summary":"<p>allocates a locker now, the allocation may expire</p>","abstract":true,"args":[{"name":"user_id","external_name":"user_id","restriction":"String"},{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"},{"name":"locker_id","default_value":"nil","external_name":"locker_id","restriction":"String | Int64 | ::Nil"},{"name":"expires_at","default_value":"nil","external_name":"expires_at","restriction":"Int64 | ::Nil"}],"args_string":"(user_id : String, bank_id : String | Int64, locker_id : String | Int64 | Nil = nil, expires_at : Int64 | Nil = nil) : PlaceLocker","args_html":"(user_id : String, bank_id : String | Int64, locker_id : String | Int64 | Nil = <span class=\"n\">nil</span>, expires_at : Int64 | Nil = <span class=\"n\">nil</span>) : <a href=\"../../../PlaceOS/Driver/Interface/Lockers/PlaceLocker.html\">PlaceLocker</a>","location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":44,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L44"},"def":{"name":"locker_allocate","args":[{"name":"user_id","external_name":"user_id","restriction":"String"},{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"},{"name":"locker_id","default_value":"nil","external_name":"locker_id","restriction":"String | Int64 | ::Nil"},{"name":"expires_at","default_value":"nil","external_name":"expires_at","restriction":"Int64 | ::Nil"}],"return_type":"PlaceLocker","visibility":"Public","body":""},"external_var":false},{"html_id":"locker_allocate_me(bank_id:String|Int64,locker_id:String|Int64|Nil=nil,expires_at:Int64|Nil=nil)-instance-method","name":"locker_allocate_me","abstract":false,"args":[{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"},{"name":"locker_id","default_value":"nil","external_name":"locker_id","restriction":"String | Int64 | ::Nil"},{"name":"expires_at","default_value":"nil","external_name":"expires_at","restriction":"Int64 | ::Nil"}],"args_string":"(bank_id : String | Int64, locker_id : String | Int64 | Nil = nil, expires_at : Int64 | Nil = nil)","args_html":"(bank_id : String | Int64, locker_id : String | Int64 | Nil = <span class=\"n\">nil</span>, expires_at : Int64 | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":115,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L115"},"def":{"name":"locker_allocate_me","args":[{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"},{"name":"locker_id","default_value":"nil","external_name":"locker_id","restriction":"String | Int64 | ::Nil"},{"name":"expires_at","default_value":"nil","external_name":"expires_at","restriction":"Int64 | ::Nil"}],"visibility":"Public","body":"locker_allocate(__ensure_user_id__, bank_id, locker_id, expires_at)"},"external_var":false},{"html_id":"locker_release(bank_id:String|Int64,locker_id:String|Int64,owner_id:String|Nil=nil):Nil-instance-method","name":"locker_release","doc":"return the locker to the pool","summary":"<p>return the locker to the pool</p>","abstract":true,"args":[{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"},{"name":"locker_id","external_name":"locker_id","restriction":"String | Int64"},{"name":"owner_id","default_value":"nil","external_name":"owner_id","restriction":"String | ::Nil"}],"args_string":"(bank_id : String | Int64, locker_id : String | Int64, owner_id : String | Nil = nil) : Nil","args_html":"(bank_id : String | Int64, locker_id : String | Int64, owner_id : String | Nil = <span class=\"n\">nil</span>) : Nil","location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":59,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L59"},"def":{"name":"locker_release","args":[{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"},{"name":"locker_id","external_name":"locker_id","restriction":"String | Int64"},{"name":"owner_id","default_value":"nil","external_name":"owner_id","restriction":"String | ::Nil"}],"return_type":"Nil","visibility":"Public","body":""},"external_var":false},{"html_id":"locker_release_mine(bank_id:String|Int64,locker_id:String|Int64)-instance-method","name":"locker_release_mine","abstract":false,"args":[{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"},{"name":"locker_id","external_name":"locker_id","restriction":"String | Int64"}],"args_string":"(bank_id : String | Int64, locker_id : String | Int64)","args_html":"(bank_id : String | Int64, locker_id : String | Int64)","location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":123,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L123"},"def":{"name":"locker_release_mine","args":[{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"},{"name":"locker_id","external_name":"locker_id","restriction":"String | Int64"}],"visibility":"Public","body":"locker_release(bank_id, locker_id, __ensure_user_id__)"},"external_var":false},{"html_id":"locker_share(bank_id:String|Int64,locker_id:String|Int64,owner_id:String,share_with:String):Nil-instance-method","name":"locker_share","abstract":true,"args":[{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"},{"name":"locker_id","external_name":"locker_id","restriction":"String | Int64"},{"name":"owner_id","external_name":"owner_id","restriction":"String"},{"name":"share_with","external_name":"share_with","restriction":"String"}],"args_string":"(bank_id : String | Int64, locker_id : String | Int64, owner_id : String, share_with : String) : Nil","args_html":"(bank_id : String | Int64, locker_id : String | Int64, owner_id : String, share_with : String) : Nil","location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":70,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L70"},"def":{"name":"locker_share","args":[{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"},{"name":"locker_id","external_name":"locker_id","restriction":"String | Int64"},{"name":"owner_id","external_name":"owner_id","restriction":"String"},{"name":"share_with","external_name":"share_with","restriction":"String"}],"return_type":"Nil","visibility":"Public","body":""},"external_var":false},{"html_id":"locker_share_mine(bank_id:String|Int64,locker_id:String|Int64,share_with:String)-instance-method","name":"locker_share_mine","abstract":false,"args":[{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"},{"name":"locker_id","external_name":"locker_id","restriction":"String | Int64"},{"name":"share_with","external_name":"share_with","restriction":"String"}],"args_string":"(bank_id : String | Int64, locker_id : String | Int64, share_with : String)","args_html":"(bank_id : String | Int64, locker_id : String | Int64, share_with : String)","location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":134,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L134"},"def":{"name":"locker_share_mine","args":[{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"},{"name":"locker_id","external_name":"locker_id","restriction":"String | Int64"},{"name":"share_with","external_name":"share_with","restriction":"String"}],"visibility":"Public","body":"locker_share(bank_id, locker_id, __ensure_user_id__, share_with)"},"external_var":false},{"html_id":"locker_shared_with(bank_id:String|Int64,locker_id:String|Int64,owner_id:String):Array(String)-instance-method","name":"locker_shared_with","doc":"a list of user-ids that the locker is shared with.\nthis can be placeos user ids or emails","summary":"<p>a list of user-ids that the locker is shared with.</p>","abstract":true,"args":[{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"},{"name":"locker_id","external_name":"locker_id","restriction":"String | Int64"},{"name":"owner_id","external_name":"owner_id","restriction":"String"}],"args_string":"(bank_id : String | Int64, locker_id : String | Int64, owner_id : String) : Array(String)","args_html":"(bank_id : String | Int64, locker_id : String | Int64, owner_id : String) : Array(String)","location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":87,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L87"},"def":{"name":"locker_shared_with","args":[{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"},{"name":"locker_id","external_name":"locker_id","restriction":"String | Int64"},{"name":"owner_id","external_name":"owner_id","restriction":"String"}],"return_type":"Array(String)","visibility":"Public","body":""},"external_var":false},{"html_id":"locker_shared_with_others(bank_id:String|Int64,locker_id:String|Int64)-instance-method","name":"locker_shared_with_others","abstract":false,"args":[{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"},{"name":"locker_id","external_name":"locker_id","restriction":"String | Int64"}],"args_string":"(bank_id : String | Int64, locker_id : String | Int64)","args_html":"(bank_id : String | Int64, locker_id : String | Int64)","location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":150,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L150"},"def":{"name":"locker_shared_with_others","args":[{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"},{"name":"locker_id","external_name":"locker_id","restriction":"String | Int64"}],"visibility":"Public","body":"locker_shared_with(bank_id, locker_id, __ensure_user_id__)"},"external_var":false},{"html_id":"locker_unlock(bank_id:String|Int64,locker_id:String|Int64,owner_id:String|Nil=nil,open_time:Int32=60):Nil-instance-method","name":"locker_unlock","abstract":true,"args":[{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"},{"name":"locker_id","external_name":"locker_id","restriction":"String | Int64"},{"name":"owner_id","default_value":"nil","external_name":"owner_id","restriction":"String | ::Nil"},{"name":"open_time","default_value":"60","external_name":"open_time","restriction":"Int32"}],"args_string":"(bank_id : String | Int64, locker_id : String | Int64, owner_id : String | Nil = nil, open_time : Int32 = 60) : Nil","args_html":"(bank_id : String | Int64, locker_id : String | Int64, owner_id : String | Nil = <span class=\"n\">nil</span>, open_time : Int32 = <span class=\"n\">60</span>) : Nil","location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":93,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L93"},"def":{"name":"locker_unlock","args":[{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"},{"name":"locker_id","external_name":"locker_id","restriction":"String | Int64"},{"name":"owner_id","default_value":"nil","external_name":"owner_id","restriction":"String | ::Nil"},{"name":"open_time","default_value":"60","external_name":"open_time","restriction":"Int32"}],"return_type":"Nil","visibility":"Public","body":""},"external_var":false},{"html_id":"locker_unlock_mine(bank_id:String|Int64,locker_id:String|Int64,open_time:Int32=60)-instance-method","name":"locker_unlock_mine","abstract":false,"args":[{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"},{"name":"locker_id","external_name":"locker_id","restriction":"String | Int64"},{"name":"open_time","default_value":"60","external_name":"open_time","restriction":"Int32"}],"args_string":"(bank_id : String | Int64, locker_id : String | Int64, open_time : Int32 = 60)","args_html":"(bank_id : String | Int64, locker_id : String | Int64, open_time : Int32 = <span class=\"n\">60</span>)","location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":157,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L157"},"def":{"name":"locker_unlock_mine","args":[{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"},{"name":"locker_id","external_name":"locker_id","restriction":"String | Int64"},{"name":"open_time","default_value":"60","external_name":"open_time","restriction":"Int32"}],"visibility":"Public","body":"locker_unlock(bank_id, locker_id, __ensure_user_id__, open_time)"},"external_var":false},{"html_id":"locker_unshare(bank_id:String|Int64,locker_id:String|Int64,owner_id:String,shared_with_id:String|Nil=nil):Nil-instance-method","name":"locker_unshare","abstract":true,"args":[{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"},{"name":"locker_id","external_name":"locker_id","restriction":"String | Int64"},{"name":"owner_id","external_name":"owner_id","restriction":"String"},{"name":"shared_with_id","default_value":"nil","external_name":"shared_with_id","restriction":"String | ::Nil"}],"args_string":"(bank_id : String | Int64, locker_id : String | Int64, owner_id : String, shared_with_id : String | Nil = nil) : Nil","args_html":"(bank_id : String | Int64, locker_id : String | Int64, owner_id : String, shared_with_id : String | Nil = <span class=\"n\">nil</span>) : Nil","location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":77,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L77"},"def":{"name":"locker_unshare","args":[{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"},{"name":"locker_id","external_name":"locker_id","restriction":"String | Int64"},{"name":"owner_id","external_name":"owner_id","restriction":"String"},{"name":"shared_with_id","default_value":"nil","external_name":"shared_with_id","restriction":"String | ::Nil"}],"return_type":"Nil","visibility":"Public","body":""},"external_var":false},{"html_id":"locker_unshare_mine(bank_id:String|Int64,locker_id:String|Int64,shared_with_id:String|Nil=nil)-instance-method","name":"locker_unshare_mine","abstract":false,"args":[{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"},{"name":"locker_id","external_name":"locker_id","restriction":"String | Int64"},{"name":"shared_with_id","default_value":"nil","external_name":"shared_with_id","restriction":"String | ::Nil"}],"args_string":"(bank_id : String | Int64, locker_id : String | Int64, shared_with_id : String | Nil = nil)","args_html":"(bank_id : String | Int64, locker_id : String | Int64, shared_with_id : String | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":142,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L142"},"def":{"name":"locker_unshare_mine","args":[{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"},{"name":"locker_id","external_name":"locker_id","restriction":"String | Int64"},{"name":"shared_with_id","default_value":"nil","external_name":"shared_with_id","restriction":"String | ::Nil"}],"visibility":"Public","body":"locker_unshare(bank_id, locker_id, __ensure_user_id__, shared_with_id)"},"external_var":false},{"html_id":"lockers_allocated_to(user_id:String):Array(PlaceLocker)-instance-method","name":"lockers_allocated_to","doc":"a list of lockers that are allocated to the user","summary":"<p>a list of lockers that are allocated to the user</p>","abstract":true,"args":[{"name":"user_id","external_name":"user_id","restriction":"String"}],"args_string":"(user_id : String) : Array(PlaceLocker)","args_html":"(user_id : String) : Array(<a href=\"../../../PlaceOS/Driver/Interface/Lockers/PlaceLocker.html\">PlaceLocker</a>)","location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":68,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L68"},"def":{"name":"lockers_allocated_to","args":[{"name":"user_id","external_name":"user_id","restriction":"String"}],"return_type":"Array(PlaceLocker)","visibility":"Public","body":""},"external_var":false},{"html_id":"lockers_allocated_to_me-instance-method","name":"lockers_allocated_to_me","abstract":false,"location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":130,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L130"},"def":{"name":"lockers_allocated_to_me","visibility":"Public","body":"lockers_allocated_to(__ensure_user_id__)"},"external_var":false}],"types":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Lockers/PlaceLocker","path":"PlaceOS/Driver/Interface/Lockers/PlaceLocker.html","kind":"class","full_name":"PlaceOS::Driver::Interface::Lockers::PlaceLocker","name":"PlaceLocker","abstract":false,"superclass":{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"},{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/interface/lockers.cr","line_number":9,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L9"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"}],"extended_modules":[{"html_id":"placeos-driver/JSON/Schema","kind":"module","full_name":"JSON::Schema","name":"Schema"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Lockers","kind":"module","full_name":"PlaceOS::Driver::Interface::Lockers","name":"Lockers"},"doc":"inherit this to extend with additional locker information","summary":"<p>inherit this to extend with additional locker information</p>","constructors":[{"html_id":"new(pull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"args_string":"(pull : JSON::PullParser)","args_html":"(pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":10,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L10"},"def":{"name":"new","args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"visibility":"Public","body":"new_from_json_pull_parser(pull)"},"external_var":false},{"html_id":"new(*,__pull_for_json_serializablepull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"args_string":"(*, __pull_for_json_serializable pull : JSON::PullParser)","args_html":"(*, __pull_for_json_serializable pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":10,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L10"},"def":{"name":"new","args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"splat_index":0,"visibility":"Public","body":"_ = allocate\n_.initialize(__pull_for_json_serializable: pull)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"allocated=(allocated:Bool|Nil)-instance-method","name":"allocated=","doc":"is the current locker allocated","summary":"<p>is the current locker allocated</p>","abstract":false,"args":[{"name":"allocated","external_name":"allocated","restriction":"Bool | ::Nil"}],"args_string":"(allocated : Bool | Nil)","args_html":"(allocated : Bool | Nil)","location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":23,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L23"},"def":{"name":"allocated=","args":[{"name":"allocated","external_name":"allocated","restriction":"Bool | ::Nil"}],"visibility":"Public","body":"@allocated = allocated"},"external_var":false},{"html_id":"allocated?:Bool|Nil-instance-method","name":"allocated?","doc":"is the current locker allocated","summary":"<p>is the current locker allocated</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":23,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L23"},"def":{"name":"allocated?","return_type":"Bool | ::Nil","visibility":"Public","body":"@allocated"},"external_var":false},{"html_id":"allocation_id:String|Int64|Nil-instance-method","name":"allocation_id","doc":"an indicator that can be synced with PlaceOS bookings\ncould be the locker system user id or a booking id","summary":"<p>an indicator that can be synced with PlaceOS bookings could be the locker system user id or a booking id</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":27,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L27"},"def":{"name":"allocation_id","return_type":"String | Int64 | ::Nil","visibility":"Public","body":"@allocation_id"},"external_var":false},{"html_id":"allocation_id=(allocation_id:String|Int64|Nil)-instance-method","name":"allocation_id=","doc":"an indicator that can be synced with PlaceOS bookings\ncould be the locker system user id or a booking id","summary":"<p>an indicator that can be synced with PlaceOS bookings could be the locker system user id or a booking id</p>","abstract":false,"args":[{"name":"allocation_id","external_name":"allocation_id","restriction":"String | Int64 | ::Nil"}],"args_string":"(allocation_id : String | Int64 | Nil)","args_html":"(allocation_id : String | Int64 | Nil)","location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":27,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L27"},"def":{"name":"allocation_id=","args":[{"name":"allocation_id","external_name":"allocation_id","restriction":"String | Int64 | ::Nil"}],"visibility":"Public","body":"@allocation_id = allocation_id"},"external_var":false},{"html_id":"bank_id:String|Int64-instance-method","name":"bank_id","doc":"the locker system ids","summary":"<p>the locker system ids</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":16,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L16"},"def":{"name":"bank_id","return_type":"String | Int64","visibility":"Public","body":"@bank_id"},"external_var":false},{"html_id":"bank_id=(bank_id:String|Int64)-instance-method","name":"bank_id=","doc":"the locker system ids","summary":"<p>the locker system ids</p>","abstract":false,"args":[{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"}],"args_string":"(bank_id : String | Int64)","args_html":"(bank_id : String | Int64)","location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":16,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L16"},"def":{"name":"bank_id=","args":[{"name":"bank_id","external_name":"bank_id","restriction":"String | Int64"}],"visibility":"Public","body":"@bank_id = bank_id"},"external_var":false},{"html_id":"building:String|Nil-instance-method","name":"building","doc":"metadata for locating the locker (if known) - placeos zone ids","summary":"<p>metadata for locating the locker (if known) - placeos zone ids</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":39,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L39"},"def":{"name":"building","return_type":"String | ::Nil","visibility":"Public","body":"@building"},"external_var":false},{"html_id":"building=(building:String|Nil)-instance-method","name":"building=","doc":"metadata for locating the locker (if known) - placeos zone ids","summary":"<p>metadata for locating the locker (if known) - placeos zone ids</p>","abstract":false,"args":[{"name":"building","external_name":"building","restriction":"String | ::Nil"}],"args_string":"(building : String | Nil)","args_html":"(building : String | Nil)","location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":39,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L39"},"def":{"name":"building=","args":[{"name":"building","external_name":"building","restriction":"String | ::Nil"}],"visibility":"Public","body":"@building = building"},"external_var":false},{"html_id":"expires_at:Time|Nil-instance-method","name":"expires_at","doc":"when the locker is released if known / enabled in the locker system","summary":"<p>when the locker is released if known / enabled in the locker system</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":31,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L31"},"def":{"name":"expires_at","return_type":"Time | ::Nil","visibility":"Public","body":"@expires_at"},"external_var":false},{"html_id":"expires_at=(expires_at:Time|Nil)-instance-method","name":"expires_at=","doc":"when the locker is released if known / enabled in the locker system","summary":"<p>when the locker is released if known / enabled in the locker system</p>","abstract":false,"args":[{"name":"expires_at","external_name":"expires_at","restriction":"Time | ::Nil"}],"args_string":"(expires_at : Time | Nil)","args_html":"(expires_at : Time | Nil)","location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":31,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L31"},"def":{"name":"expires_at=","args":[{"name":"expires_at","external_name":"expires_at","restriction":"Time | ::Nil"}],"visibility":"Public","body":"@expires_at = expires_at"},"external_var":false},{"html_id":"level:String|Nil-instance-method","name":"level","abstract":false,"location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":40,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L40"},"def":{"name":"level","return_type":"String | ::Nil","visibility":"Public","body":"@level"},"external_var":false},{"html_id":"level=(level:String|Nil)-instance-method","name":"level=","abstract":false,"args":[{"name":"level","external_name":"level","restriction":"String | ::Nil"}],"args_string":"(level : String | Nil)","args_html":"(level : String | Nil)","location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":40,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L40"},"def":{"name":"level=","args":[{"name":"level","external_name":"level","restriction":"String | ::Nil"}],"visibility":"Public","body":"@level = level"},"external_var":false},{"html_id":"location:String-instance-method","name":"location","doc":"identifier for location services","summary":"<p>identifier for location services</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":13,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L13"},"def":{"name":"location","return_type":"String","visibility":"Public","body":"@location"},"external_var":false},{"html_id":"locker_id:String|Int64-instance-method","name":"locker_id","abstract":false,"location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":17,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L17"},"def":{"name":"locker_id","return_type":"String | Int64","visibility":"Public","body":"@locker_id"},"external_var":false},{"html_id":"locker_id=(locker_id:String|Int64)-instance-method","name":"locker_id=","abstract":false,"args":[{"name":"locker_id","external_name":"locker_id","restriction":"String | Int64"}],"args_string":"(locker_id : String | Int64)","args_html":"(locker_id : String | Int64)","location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":17,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L17"},"def":{"name":"locker_id=","args":[{"name":"locker_id","external_name":"locker_id","restriction":"String | Int64"}],"visibility":"Public","body":"@locker_id = locker_id"},"external_var":false},{"html_id":"locker_name:String-instance-method","name":"locker_name","doc":"the text on the outside of the locker","summary":"<p>the text on the outside of the locker</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":20,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L20"},"def":{"name":"locker_name","return_type":"String","visibility":"Public","body":"@locker_name"},"external_var":false},{"html_id":"locker_name=(locker_name:String)-instance-method","name":"locker_name=","doc":"the text on the outside of the locker","summary":"<p>the text on the outside of the locker</p>","abstract":false,"args":[{"name":"locker_name","external_name":"locker_name","restriction":"String"}],"args_string":"(locker_name : String)","args_html":"(locker_name : String)","location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":20,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L20"},"def":{"name":"locker_name=","args":[{"name":"locker_name","external_name":"locker_name","restriction":"String"}],"visibility":"Public","body":"@locker_name = locker_name"},"external_var":false},{"html_id":"mac:String|Nil-instance-method","name":"mac","doc":"a single field that can be used to uniquely identify a locker\nshould not clash with other systems and ideally be usable to\nidentify the user who is allocated to the locker (via a lookup function)","summary":"<p>a single field that can be used to uniquely identify a locker should not clash with other systems and ideally be usable to identify the user who is allocated to the locker (via a lookup function)</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":36,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L36"},"def":{"name":"mac","return_type":"String | ::Nil","visibility":"Public","body":"@mac"},"external_var":false},{"html_id":"mac=(mac:String|Nil)-instance-method","name":"mac=","doc":"a single field that can be used to uniquely identify a locker\nshould not clash with other systems and ideally be usable to\nidentify the user who is allocated to the locker (via a lookup function)","summary":"<p>a single field that can be used to uniquely identify a locker should not clash with other systems and ideally be usable to identify the user who is allocated to the locker (via a lookup function)</p>","abstract":false,"args":[{"name":"mac","external_name":"mac","restriction":"String | ::Nil"}],"args_string":"(mac : String | Nil)","args_html":"(mac : String | Nil)","location":{"filename":"src/placeos-driver/interface/lockers.cr","line_number":36,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/lockers.cr#L36"},"def":{"name":"mac=","args":[{"name":"mac","external_name":"mac","restriction":"String | ::Nil"}],"visibility":"Public","body":"@mac = mac"},"external_var":false}]}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Mailer","path":"PlaceOS/Driver/Interface/Mailer.html","kind":"module","full_name":"PlaceOS::Driver::Interface::Mailer","name":"Mailer","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/mailer.cr","line_number":7,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/mailer.cr#L7"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface","kind":"module","full_name":"PlaceOS::Driver::Interface","name":"Interface"},"doc":"Common Email interface","summary":"<p>Common Email interface</p>","instance_methods":[{"html_id":"build_template(string:String|Nil,args:TemplateItems)-instance-method","name":"build_template","abstract":false,"args":[{"name":"string","external_name":"string","restriction":"String | ::Nil"},{"name":"args","external_name":"args","restriction":"TemplateItems"}],"args_string":"(string : String | Nil, args : TemplateItems)","args_html":"(string : String | Nil, args : <a href=\"../../../PlaceOS/Driver/Interface/Mailer/TemplateItems.html\">TemplateItems</a>)","location":{"filename":"src/placeos-driver/interface/mailer.cr","line_number":56,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/mailer.cr#L56"},"def":{"name":"build_template","args":[{"name":"string","external_name":"string","restriction":"String | ::Nil"},{"name":"args","external_name":"args","restriction":"TemplateItems"}],"visibility":"Public","body":"if string\n  args.each do |key, value| string = string.gsub(\"%{#{key}}\", value) end\nend\nstring\n"},"external_var":false},{"html_id":"send_mail(to:String|Array(String),subject:String,message_plaintext:String|Nil=nil,message_html:String|Nil=nil,resource_attachments:Array(ResourceAttachment)=[]ofResourceAttachment,attachments:Array(Attachment)=[]ofAttachment,cc:String|Array(String)=[]ofString,bcc:String|Array(String)=[]ofString,from:String|Array(String)|Nil=nil,reply_to:String|Array(String)|Nil=nil)-instance-method","name":"send_mail","abstract":true,"args":[{"name":"to","external_name":"to","restriction":"String | Array(String)"},{"name":"subject","external_name":"subject","restriction":"String"},{"name":"message_plaintext","default_value":"nil","external_name":"message_plaintext","restriction":"String | ::Nil"},{"name":"message_html","default_value":"nil","external_name":"message_html","restriction":"String | ::Nil"},{"name":"resource_attachments","default_value":"[] of ResourceAttachment","external_name":"resource_attachments","restriction":"Array(ResourceAttachment)"},{"name":"attachments","default_value":"[] of Attachment","external_name":"attachments","restriction":"Array(Attachment)"},{"name":"cc","default_value":"[] of String","external_name":"cc","restriction":"String | Array(String)"},{"name":"bcc","default_value":"[] of String","external_name":"bcc","restriction":"String | Array(String)"},{"name":"from","default_value":"nil","external_name":"from","restriction":"String | Array(String) | Nil"},{"name":"reply_to","default_value":"nil","external_name":"reply_to","restriction":"String | Array(String) | Nil"}],"args_string":"(to : String | Array(String), subject : String, message_plaintext : String | Nil = nil, message_html : String | Nil = nil, resource_attachments : Array(ResourceAttachment) = [] of ResourceAttachment, attachments : Array(Attachment) = [] of Attachment, cc : String | Array(String) = [] of String, bcc : String | Array(String) = [] of String, from : String | Array(String) | Nil = nil, reply_to : String | Array(String) | Nil = nil)","args_html":"(to : String | Array(String), subject : String, message_plaintext : String | Nil = <span class=\"n\">nil</span>, message_html : String | Nil = <span class=\"n\">nil</span>, resource_attachments : Array(<a href=\"../../../PlaceOS/Driver/Interface/Mailer/ResourceAttachment.html\">ResourceAttachment</a>) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">ResourceAttachment</span>, attachments : Array(<a href=\"../../../PlaceOS/Driver/Interface/Mailer/Attachment.html\">Attachment</a>) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Attachment</span>, cc : String | Array(String) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>, bcc : String | Array(String) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>, from : String | Array(String) | Nil = <span class=\"n\">nil</span>, reply_to : String | Array(String) | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/placeos-driver/interface/mailer.cr","line_number":12,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/mailer.cr#L12"},"def":{"name":"send_mail","args":[{"name":"to","external_name":"to","restriction":"String | Array(String)"},{"name":"subject","external_name":"subject","restriction":"String"},{"name":"message_plaintext","default_value":"nil","external_name":"message_plaintext","restriction":"String | ::Nil"},{"name":"message_html","default_value":"nil","external_name":"message_html","restriction":"String | ::Nil"},{"name":"resource_attachments","default_value":"[] of ResourceAttachment","external_name":"resource_attachments","restriction":"Array(ResourceAttachment)"},{"name":"attachments","default_value":"[] of Attachment","external_name":"attachments","restriction":"Array(Attachment)"},{"name":"cc","default_value":"[] of String","external_name":"cc","restriction":"String | Array(String)"},{"name":"bcc","default_value":"[] of String","external_name":"bcc","restriction":"String | Array(String)"},{"name":"from","default_value":"nil","external_name":"from","restriction":"String | Array(String) | Nil"},{"name":"reply_to","default_value":"nil","external_name":"reply_to","restriction":"String | Array(String) | Nil"}],"visibility":"Public","body":""},"external_var":false},{"html_id":"send_template(to:String|Array(String),template:Tuple(String,String),args:TemplateItems,resource_attachments:Array(ResourceAttachment)=[]ofResourceAttachment,attachments:Array(Attachment)=[]ofAttachment,cc:String|Array(String)=[]ofString,bcc:String|Array(String)=[]ofString,from:String|Array(String)|Nil=nil,reply_to:String|Array(String)|Nil=nil)-instance-method","name":"send_template","abstract":false,"args":[{"name":"to","external_name":"to","restriction":"String | Array(String)"},{"name":"template","external_name":"template","restriction":"Tuple(String, String)"},{"name":"args","external_name":"args","restriction":"TemplateItems"},{"name":"resource_attachments","default_value":"[] of ResourceAttachment","external_name":"resource_attachments","restriction":"Array(ResourceAttachment)"},{"name":"attachments","default_value":"[] of Attachment","external_name":"attachments","restriction":"Array(Attachment)"},{"name":"cc","default_value":"[] of String","external_name":"cc","restriction":"String | Array(String)"},{"name":"bcc","default_value":"[] of String","external_name":"bcc","restriction":"String | Array(String)"},{"name":"from","default_value":"nil","external_name":"from","restriction":"String | Array(String) | Nil"},{"name":"reply_to","default_value":"nil","external_name":"reply_to","restriction":"String | Array(String) | Nil"}],"args_string":"(to : String | Array(String), template : Tuple(String, String), args : TemplateItems, resource_attachments : Array(ResourceAttachment) = [] of ResourceAttachment, attachments : Array(Attachment) = [] of Attachment, cc : String | Array(String) = [] of String, bcc : String | Array(String) = [] of String, from : String | Array(String) | Nil = nil, reply_to : String | Array(String) | Nil = nil)","args_html":"(to : String | Array(String), template : Tuple(String, String), args : <a href=\"../../../PlaceOS/Driver/Interface/Mailer/TemplateItems.html\">TemplateItems</a>, resource_attachments : Array(<a href=\"../../../PlaceOS/Driver/Interface/Mailer/ResourceAttachment.html\">ResourceAttachment</a>) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">ResourceAttachment</span>, attachments : Array(<a href=\"../../../PlaceOS/Driver/Interface/Mailer/Attachment.html\">Attachment</a>) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Attachment</span>, cc : String | Array(String) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>, bcc : String | Array(String) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>, from : String | Array(String) | Nil = <span class=\"n\">nil</span>, reply_to : String | Array(String) | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/placeos-driver/interface/mailer.cr","line_number":31,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/mailer.cr#L31"},"def":{"name":"send_template","args":[{"name":"to","external_name":"to","restriction":"String | Array(String)"},{"name":"template","external_name":"template","restriction":"Tuple(String, String)"},{"name":"args","external_name":"args","restriction":"TemplateItems"},{"name":"resource_attachments","default_value":"[] of ResourceAttachment","external_name":"resource_attachments","restriction":"Array(ResourceAttachment)"},{"name":"attachments","default_value":"[] of Attachment","external_name":"attachments","restriction":"Array(Attachment)"},{"name":"cc","default_value":"[] of String","external_name":"cc","restriction":"String | Array(String)"},{"name":"bcc","default_value":"[] of String","external_name":"bcc","restriction":"String | Array(String)"},{"name":"from","default_value":"nil","external_name":"from","restriction":"String | Array(String) | Nil"},{"name":"reply_to","default_value":"nil","external_name":"reply_to","restriction":"String | Array(String) | Nil"}],"visibility":"Public","body":"template = begin\n  @templates[template[0]][template[1]]\nrescue\n  logger.warn do \"no template found with: #{template}\" end\n  return\nend\n\nsubject = build_template(template[\"subject\"], args)\ntext = build_template(template[\"text\"]?, args)\nhtml = build_template(template[\"html\"]?, args)\n\nsend_mail(to, subject, text || \"\", html || \"\", resource_attachments, attachments, cc, bcc, from, reply_to)\n"},"external_var":false}],"types":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Mailer/Attachment","path":"PlaceOS/Driver/Interface/Mailer/Attachment.html","kind":"alias","full_name":"PlaceOS::Driver::Interface::Mailer::Attachment","name":"Attachment","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/mailer.cr","line_number":9,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/mailer.cr#L9"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":true,"aliased":"NamedTuple(file_name: String, content: String)","aliased_html":"{file_name: String, content: String}","const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Mailer","kind":"module","full_name":"PlaceOS::Driver::Interface::Mailer","name":"Mailer"},"doc":"Where `content` is Base64 encoded.","summary":"<p>Where <code>content</code> is Base64 encoded.</p>"},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Mailer/ResourceAttachment","path":"PlaceOS/Driver/Interface/Mailer/ResourceAttachment.html","kind":"alias","full_name":"PlaceOS::Driver::Interface::Mailer::ResourceAttachment","name":"ResourceAttachment","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/mailer.cr","line_number":10,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/mailer.cr#L10"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":true,"aliased":"NamedTuple(file_name: String, content: String, content_id: String)","aliased_html":"{file_name: String, content: String, content_id: String}","const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Mailer","kind":"module","full_name":"PlaceOS::Driver::Interface::Mailer","name":"Mailer"}},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Mailer/TemplateItems","path":"PlaceOS/Driver/Interface/Mailer/TemplateItems.html","kind":"alias","full_name":"PlaceOS::Driver::Interface::Mailer::TemplateItems","name":"TemplateItems","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/mailer.cr","line_number":29,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/mailer.cr#L29"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":true,"aliased":"Hash(String, Bool | Float64 | Int64 | String | Nil)","aliased_html":"Hash(String, Bool | Float64 | Int64 | String | Nil)","const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Mailer","kind":"module","full_name":"PlaceOS::Driver::Interface::Mailer","name":"Mailer"}},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Mailer/Templates","path":"PlaceOS/Driver/Interface/Mailer/Templates.html","kind":"alias","full_name":"PlaceOS::Driver::Interface::Mailer::Templates","name":"Templates","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/mailer.cr","line_number":26,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/mailer.cr#L26"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":true,"aliased":"Hash(String, Hash(String, Hash(String, String)))","aliased_html":"Hash(String, Hash(String, Hash(String, String)))","const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Mailer","kind":"module","full_name":"PlaceOS::Driver::Interface::Mailer","name":"Mailer"},"doc":"                  event_name => notify_who => html => template","summary":"<p>event_name =&gt; notify_who =&gt; html =&gt; template</p>"}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/MailerTemplates","path":"PlaceOS/Driver/Interface/MailerTemplates.html","kind":"module","full_name":"PlaceOS::Driver::Interface::MailerTemplates","name":"MailerTemplates","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/mailer_templates.cr","line_number":7,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/mailer_templates.cr#L7"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface","kind":"module","full_name":"PlaceOS::Driver::Interface","name":"Interface"},"doc":"Common Email templates interface","summary":"<p>Common Email templates interface</p>","instance_methods":[{"html_id":"template_fields:Array(TemplateFields)-instance-method","name":"template_fields","doc":"[\n    TemplateFields.new(\n      trigger: {\"bookings\", \"booked_by_notify\"},\n      name: \"Booking booked by notification\",\n      description: nil,\n      fields: common_fields\n    ),\n    TemplateFields.new(\n      trigger: {\"bookings\", \"booking_notify\"},\n      name: \"Booking notification\",\n      description: \"This template is used for booking notifications\",\n      fields: common_fields + [\n        {name: \"start_time\", description: \"The start time of the booking\"},\n      ]\n    ),\n  ]\nend","summary":"<p>[     TemplateFields.new(       trigger: {&quot;bookings&quot;, &quot;booked_by_notify&quot;},       name: &quot;Booking booked by notification&quot;,       description: nil,       fields: common_fields     ),     TemplateFields.new(       trigger: {&quot;bookings&quot;, &quot;booking_notify&quot;},       name: &quot;Booking notification&quot;,       description: &quot;This template is used for booking notifications&quot;,       fields: common_fields + [         {name: &quot;start_time&quot;, description: &quot;The start time of the booking&quot;},       ]     ),   ] end</p>","abstract":true,"location":{"filename":"src/placeos-driver/interface/mailer_templates.cr","line_number":34,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/mailer_templates.cr#L34"},"def":{"name":"template_fields","return_type":"Array(TemplateFields)","visibility":"Public","body":""},"external_var":false}],"types":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/MailerTemplates/TemplateFields","path":"PlaceOS/Driver/Interface/MailerTemplates/TemplateFields.html","kind":"alias","full_name":"PlaceOS::Driver::Interface::MailerTemplates::TemplateFields","name":"TemplateFields","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/mailer_templates.cr","line_number":36,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/mailer_templates.cr#L36"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":true,"aliased":"NamedTuple(trigger: Tuple(String, String), name: String, description: String | Nil, fields: Array(NamedTuple(name: String, description: String)))","aliased_html":"{trigger: {String, String}, name: String, description: String?, fields: Array({name: String, description: String})}","const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/MailerTemplates","kind":"module","full_name":"PlaceOS::Driver::Interface::MailerTemplates","name":"MailerTemplates"}}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Moveable","path":"PlaceOS/Driver/Interface/Moveable.html","kind":"module","full_name":"PlaceOS::Driver::Interface::Moveable","name":"Moveable","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/moveable.cr","line_number":6,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/moveable.cr#L6"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"including_types":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Camera","kind":"module","full_name":"PlaceOS::Driver::Interface::Camera","name":"Camera"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface","kind":"module","full_name":"PlaceOS::Driver::Interface","name":"Interface"},"doc":"Expects status of the movable object to be defined as\nposition{index} = Open / Close / Up / Down etc\ni.e. self[:position0] = MoveablePosition::Open\n(optional) self[moving0] = true / false","summary":"<p>Expects status of the movable object to be defined as position{index} = Open / Close / Up / Down etc i.e.</p>","instance_methods":[{"html_id":"move(position:MoveablePosition,index:Int32|String=0)-instance-method","name":"move","abstract":true,"args":[{"name":"position","external_name":"position","restriction":"MoveablePosition"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"args_string":"(position : MoveablePosition, index : Int32 | String = 0)","args_html":"(position : <a href=\"../../../PlaceOS/Driver/Interface/Moveable/MoveablePosition.html\">MoveablePosition</a>, index : Int32 | String = <span class=\"n\">0</span>)","location":{"filename":"src/placeos-driver/interface/moveable.cr","line_number":18,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/moveable.cr#L18"},"def":{"name":"move","args":[{"name":"position","external_name":"position","restriction":"MoveablePosition"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"visibility":"Public","body":""},"external_var":false}],"types":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Moveable/MoveablePosition","path":"PlaceOS/Driver/Interface/Moveable/MoveablePosition.html","kind":"enum","full_name":"PlaceOS::Driver::Interface::Moveable::MoveablePosition","name":"MoveablePosition","abstract":false,"ancestors":[{"html_id":"placeos-driver/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"placeos-driver/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/interface/moveable.cr","line_number":7,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/moveable.cr#L7"}],"repository_name":"placeos-driver","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"Open","name":"Open","value":"0"},{"id":"Close","name":"Close","value":"1"},{"id":"Up","name":"Up","value":"2"},{"id":"Down","name":"Down","value":"3"},{"id":"Left","name":"Left","value":"4"},{"id":"Right","name":"Right","value":"5"},{"id":"In","name":"In","value":"6"},{"id":"Out","name":"Out","value":"7"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Moveable","kind":"module","full_name":"PlaceOS::Driver::Interface::Moveable","name":"Moveable"},"instance_methods":[{"html_id":"close?-instance-method","name":"close?","doc":"Returns `true` if this enum value equals `Close`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Moveable/MoveablePosition.html#Close\">Close</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/moveable.cr","line_number":9,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/moveable.cr#L9"},"def":{"name":"close?","visibility":"Public","body":"self == Close"},"external_var":false},{"html_id":"down?-instance-method","name":"down?","doc":"Returns `true` if this enum value equals `Down`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Moveable/MoveablePosition.html#Down\">Down</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/moveable.cr","line_number":11,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/moveable.cr#L11"},"def":{"name":"down?","visibility":"Public","body":"self == Down"},"external_var":false},{"html_id":"in?-instance-method","name":"in?","doc":"Returns `true` if this enum value equals `In`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Moveable/MoveablePosition.html#In\">In</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/moveable.cr","line_number":14,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/moveable.cr#L14"},"def":{"name":"in?","visibility":"Public","body":"self == In"},"external_var":false},{"html_id":"left?-instance-method","name":"left?","doc":"Returns `true` if this enum value equals `Left`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Moveable/MoveablePosition.html#Left\">Left</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/moveable.cr","line_number":12,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/moveable.cr#L12"},"def":{"name":"left?","visibility":"Public","body":"self == Left"},"external_var":false},{"html_id":"open?-instance-method","name":"open?","doc":"Returns `true` if this enum value equals `Open`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Moveable/MoveablePosition.html#Open\">Open</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/moveable.cr","line_number":8,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/moveable.cr#L8"},"def":{"name":"open?","visibility":"Public","body":"self == Open"},"external_var":false},{"html_id":"out?-instance-method","name":"out?","doc":"Returns `true` if this enum value equals `Out`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Moveable/MoveablePosition.html#Out\">Out</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/moveable.cr","line_number":15,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/moveable.cr#L15"},"def":{"name":"out?","visibility":"Public","body":"self == Out"},"external_var":false},{"html_id":"right?-instance-method","name":"right?","doc":"Returns `true` if this enum value equals `Right`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Moveable/MoveablePosition.html#Right\">Right</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/moveable.cr","line_number":13,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/moveable.cr#L13"},"def":{"name":"right?","visibility":"Public","body":"self == Right"},"external_var":false},{"html_id":"up?-instance-method","name":"up?","doc":"Returns `true` if this enum value equals `Up`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Moveable/MoveablePosition.html#Up\">Up</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/moveable.cr","line_number":10,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/moveable.cr#L10"},"def":{"name":"up?","visibility":"Public","body":"self == Up"},"external_var":false}]}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Muteable","path":"PlaceOS/Driver/Interface/Muteable.html","kind":"module","full_name":"PlaceOS::Driver::Interface::Muteable","name":"Muteable","abstract":false,"ancestors":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/VideoMuteable","kind":"module","full_name":"PlaceOS::Driver::Interface::VideoMuteable","name":"VideoMuteable"},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/AudioMuteable","kind":"module","full_name":"PlaceOS::Driver::Interface::AudioMuteable","name":"AudioMuteable"}],"locations":[{"filename":"src/placeos-driver/interface/muteable.cr","line_number":24,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/muteable.cr#L24"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/AudioMuteable","kind":"module","full_name":"PlaceOS::Driver::Interface::AudioMuteable","name":"AudioMuteable"},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/VideoMuteable","kind":"module","full_name":"PlaceOS::Driver::Interface::VideoMuteable","name":"VideoMuteable"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface","kind":"module","full_name":"PlaceOS::Driver::Interface","name":"Interface"},"instance_methods":[{"html_id":"mute(state:Bool=true,index:Int32|String=0,layer:MuteLayer=MuteLayer::AudioVideo)-instance-method","name":"mute","doc":"When implementing muteable, these should be the preferred defaults","summary":"<p>When implementing muteable, these should be the preferred defaults</p>","abstract":true,"args":[{"name":"state","default_value":"true","external_name":"state","restriction":"Bool"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"},{"name":"layer","default_value":"MuteLayer::AudioVideo","external_name":"layer","restriction":"MuteLayer"}],"args_string":"(state : Bool = true, index : Int32 | String = 0, layer : MuteLayer = MuteLayer::AudioVideo)","args_html":"(state : Bool = <span class=\"n\">true</span>, index : Int32 | String = <span class=\"n\">0</span>, layer : <a href=\"../../../PlaceOS/Driver/Interface/Muteable/MuteLayer.html\">MuteLayer</a> = <span class=\"t\">MuteLayer</span><span class=\"t\">::</span><span class=\"t\">AudioVideo</span>)","location":{"filename":"src/placeos-driver/interface/muteable.cr","line_number":35,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/muteable.cr#L35"},"def":{"name":"mute","args":[{"name":"state","default_value":"true","external_name":"state","restriction":"Bool"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"},{"name":"layer","default_value":"MuteLayer::AudioVideo","external_name":"layer","restriction":"MuteLayer"}],"visibility":"Public","body":""},"external_var":false},{"html_id":"mute_audio(state:Bool=true,index:Int32|String=0)-instance-method","name":"mute_audio","abstract":false,"args":[{"name":"state","default_value":"true","external_name":"state","restriction":"Bool"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"args_string":"(state : Bool = true, index : Int32 | String = 0)","args_html":"(state : Bool = <span class=\"n\">true</span>, index : Int32 | String = <span class=\"n\">0</span>)","location":{"filename":"src/placeos-driver/interface/muteable.cr","line_number":49,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/muteable.cr#L49"},"def":{"name":"mute_audio","args":[{"name":"state","default_value":"true","external_name":"state","restriction":"Bool"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"visibility":"Public","body":"mute(state, index, MuteLayer::Audio)"},"external_var":false},{"html_id":"mute_video(state:Bool=true,index:Int32|String=0)-instance-method","name":"mute_video","abstract":false,"args":[{"name":"state","default_value":"true","external_name":"state","restriction":"Bool"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"args_string":"(state : Bool = true, index : Int32 | String = 0)","args_html":"(state : Bool = <span class=\"n\">true</span>, index : Int32 | String = <span class=\"n\">0</span>)","location":{"filename":"src/placeos-driver/interface/muteable.cr","line_number":45,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/muteable.cr#L45"},"def":{"name":"mute_video","args":[{"name":"state","default_value":"true","external_name":"state","restriction":"Bool"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"visibility":"Public","body":"mute(state, index, MuteLayer::Video)"},"external_var":false},{"html_id":"unmute(index:Int32|String=0,layer:MuteLayer=MuteLayer::AudioVideo)-instance-method","name":"unmute","abstract":false,"args":[{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"},{"name":"layer","default_value":"MuteLayer::AudioVideo","external_name":"layer","restriction":"MuteLayer"}],"args_string":"(index : Int32 | String = 0, layer : MuteLayer = MuteLayer::AudioVideo)","args_html":"(index : Int32 | String = <span class=\"n\">0</span>, layer : <a href=\"../../../PlaceOS/Driver/Interface/Muteable/MuteLayer.html\">MuteLayer</a> = <span class=\"t\">MuteLayer</span><span class=\"t\">::</span><span class=\"t\">AudioVideo</span>)","location":{"filename":"src/placeos-driver/interface/muteable.cr","line_number":41,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/muteable.cr#L41"},"def":{"name":"unmute","args":[{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"},{"name":"layer","default_value":"MuteLayer::AudioVideo","external_name":"layer","restriction":"MuteLayer"}],"visibility":"Public","body":"mute(false, index, layer)"},"external_var":false}],"types":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Muteable/MuteLayer","path":"PlaceOS/Driver/Interface/Muteable/MuteLayer.html","kind":"enum","full_name":"PlaceOS::Driver::Interface::Muteable::MuteLayer","name":"MuteLayer","abstract":false,"ancestors":[{"html_id":"placeos-driver/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"placeos-driver/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/interface/muteable.cr","line_number":28,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/muteable.cr#L28"}],"repository_name":"placeos-driver","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"Audio","name":"Audio","value":"0"},{"id":"Video","name":"Video","value":"1"},{"id":"AudioVideo","name":"AudioVideo","value":"2"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Muteable","kind":"module","full_name":"PlaceOS::Driver::Interface::Muteable","name":"Muteable"},"instance_methods":[{"html_id":"audio?-instance-method","name":"audio?","doc":"Returns `true` if this enum value equals `Audio`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Muteable/MuteLayer.html#Audio\">Audio</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/muteable.cr","line_number":29,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/muteable.cr#L29"},"def":{"name":"audio?","visibility":"Public","body":"self == Audio"},"external_var":false},{"html_id":"audio_video?-instance-method","name":"audio_video?","doc":"Returns `true` if this enum value equals `AudioVideo`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Muteable/MuteLayer.html#AudioVideo\">AudioVideo</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/muteable.cr","line_number":31,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/muteable.cr#L31"},"def":{"name":"audio_video?","visibility":"Public","body":"self == AudioVideo"},"external_var":false},{"html_id":"video?-instance-method","name":"video?","doc":"Returns `true` if this enum value equals `Video`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Muteable/MuteLayer.html#Video\">Video</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/muteable.cr","line_number":30,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/muteable.cr#L30"},"def":{"name":"video?","visibility":"Public","body":"self == Video"},"external_var":false}]}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Powerable","path":"PlaceOS/Driver/Interface/Powerable.html","kind":"module","full_name":"PlaceOS::Driver::Interface::Powerable","name":"Powerable","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/powerable.cr","line_number":8,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/powerable.cr#L8"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface","kind":"module","full_name":"PlaceOS::Driver::Interface","name":"Interface"},"doc":"Compatible drivers will expose a status variable:\n```\nself[:power] # `true` / `false`\n```\nThe power state function allows one to sepecify a preferred level of off if\nsupported by the device","summary":"<p>Compatible drivers will expose a status variable: <code>self[:power] # `true` / `false`</code> The power state function allows one to sepecify a preferred level of off if supported by the device</p>","instance_methods":[{"html_id":"power(state:Bool)-instance-method","name":"power","abstract":true,"args":[{"name":"state","external_name":"state","restriction":"Bool"}],"args_string":"(state : Bool)","args_html":"(state : Bool)","location":{"filename":"src/placeos-driver/interface/powerable.cr","line_number":9,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/powerable.cr#L9"},"def":{"name":"power","args":[{"name":"state","external_name":"state","restriction":"Bool"}],"visibility":"Public","body":""},"external_var":false},{"html_id":"power_state(state:PowerState)-instance-method","name":"power_state","doc":"override this to implement `PowerState::FullOff` if it is available for the device","summary":"<p>override this to implement <code><a href=\"../../../PlaceOS/Driver/Interface/Powerable/PowerState.html#FullOff\">PowerState::FullOff</a></code> if it is available for the device</p>","abstract":false,"args":[{"name":"state","external_name":"state","restriction":"PowerState"}],"args_string":"(state : PowerState)","args_html":"(state : <a href=\"../../../PlaceOS/Driver/Interface/Powerable/PowerState.html\">PowerState</a>)","location":{"filename":"src/placeos-driver/interface/powerable.cr","line_number":18,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/powerable.cr#L18"},"def":{"name":"power_state","args":[{"name":"state","external_name":"state","restriction":"PowerState"}],"visibility":"Public","body":"power(case state\nin .on?\n  true\nin .off?, .full_off?\n  false\nend)"},"external_var":false}],"types":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Powerable/PowerState","path":"PlaceOS/Driver/Interface/Powerable/PowerState.html","kind":"enum","full_name":"PlaceOS::Driver::Interface::Powerable::PowerState","name":"PowerState","abstract":false,"ancestors":[{"html_id":"placeos-driver/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"placeos-driver/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/interface/powerable.cr","line_number":11,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/powerable.cr#L11"}],"repository_name":"placeos-driver","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"On","name":"On","value":"0"},{"id":"Off","name":"Off","value":"1"},{"id":"FullOff","name":"FullOff","value":"2"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Powerable","kind":"module","full_name":"PlaceOS::Driver::Interface::Powerable","name":"Powerable"},"instance_methods":[{"html_id":"full_off?-instance-method","name":"full_off?","doc":"Returns `true` if this enum value equals `FullOff`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Powerable/PowerState.html#FullOff\">FullOff</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/powerable.cr","line_number":14,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/powerable.cr#L14"},"def":{"name":"full_off?","visibility":"Public","body":"self == FullOff"},"external_var":false},{"html_id":"off?-instance-method","name":"off?","doc":"Returns `true` if this enum value equals `Off`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Powerable/PowerState.html#Off\">Off</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/powerable.cr","line_number":13,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/powerable.cr#L13"},"def":{"name":"off?","visibility":"Public","body":"self == Off"},"external_var":false},{"html_id":"on?-instance-method","name":"on?","doc":"Returns `true` if this enum value equals `On`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Powerable/PowerState.html#On\">On</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/powerable.cr","line_number":12,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/powerable.cr#L12"},"def":{"name":"on?","visibility":"Public","body":"self == On"},"external_var":false}]}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Sensor","path":"PlaceOS/Driver/Interface/Sensor.html","kind":"module","full_name":"PlaceOS::Driver::Interface::Sensor","name":"Sensor","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/sensor.cr","line_number":9,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L9"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface","kind":"module","full_name":"PlaceOS::Driver::Interface","name":"Interface"},"doc":"a device or service that provides sensor data, either singular or for multiple devices","summary":"<p>a device or service that provides sensor data, either singular or for multiple devices</p>","instance_methods":[{"html_id":"sensor(mac:String,id:String|Nil=nil):Detail|Nil-instance-method","name":"sensor","doc":"return the specified sensor details","summary":"<p>return the specified sensor details</p>","abstract":true,"args":[{"name":"mac","external_name":"mac","restriction":"String"},{"name":"id","default_value":"nil","external_name":"id","restriction":"String | ::Nil"}],"args_string":"(mac : String, id : String | Nil = nil) : Detail | Nil","args_html":"(mac : String, id : String | Nil = <span class=\"n\">nil</span>) : <a href=\"../../../PlaceOS/Driver/Interface/Sensor/Detail.html\">Detail</a> | Nil","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":66,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L66"},"def":{"name":"sensor","args":[{"name":"mac","external_name":"mac","restriction":"String"},{"name":"id","default_value":"nil","external_name":"id","restriction":"String | ::Nil"}],"return_type":"Detail | ::Nil","visibility":"Public","body":""},"external_var":false},{"html_id":"sensors(type:String|Nil=nil,mac:String|Nil=nil,zone_id:String|Nil=nil):Array(Detail)-instance-method","name":"sensors","doc":"return an array of sensor details\nzone_id can be ignored if location is unknown by the sensor provider\nmac_address can be used to grab data from a single device (basic grouping)","summary":"<p>return an array of sensor details zone_id can be ignored if location is unknown by the sensor provider mac_address can be used to grab data from a single device (basic grouping)</p>","abstract":true,"args":[{"name":"type","default_value":"nil","external_name":"type","restriction":"String | ::Nil"},{"name":"mac","default_value":"nil","external_name":"mac","restriction":"String | ::Nil"},{"name":"zone_id","default_value":"nil","external_name":"zone_id","restriction":"String | ::Nil"}],"args_string":"(type : String | Nil = nil, mac : String | Nil = nil, zone_id : String | Nil = nil) : Array(Detail)","args_html":"(type : String | Nil = <span class=\"n\">nil</span>, mac : String | Nil = <span class=\"n\">nil</span>, zone_id : String | Nil = <span class=\"n\">nil</span>) : Array(<a href=\"../../../PlaceOS/Driver/Interface/Sensor/Detail.html\">Detail</a>)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":71,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L71"},"def":{"name":"sensors","args":[{"name":"type","default_value":"nil","external_name":"type","restriction":"String | ::Nil"},{"name":"mac","default_value":"nil","external_name":"mac","restriction":"String | ::Nil"},{"name":"zone_id","default_value":"nil","external_name":"zone_id","restriction":"String | ::Nil"}],"return_type":"Array(Detail)","visibility":"Public","body":""},"external_var":false}],"macros":[{"html_id":"include_unit_conversions-macro","name":"include_unit_conversions","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":174,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L174"},"def":{"name":"include_unit_conversions","visibility":"Public","body":"      require \"crunits\"\n\n      class ::PlaceOS::Driver::Interface::Sensor::Detail\n        def convert_measurement_to(other_unit : String)\n          this_unit = self.unit\n          return self.value unless this_unit\n\n          Units::Measurement.new(self.value, this_unit).convert_to(other_unit).to_f\n        \nend\n      \nend\n    \n"}}],"types":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Sensor/Detail","path":"PlaceOS/Driver/Interface/Sensor/Detail.html","kind":"class","full_name":"PlaceOS::Driver::Interface::Sensor::Detail","name":"Detail","abstract":false,"superclass":{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"placeos-driver/JSON/Serializable/Unmapped","kind":"module","full_name":"JSON::Serializable::Unmapped","name":"Unmapped"},{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"},{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/interface/sensor.cr","line_number":107,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L107"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"},{"html_id":"placeos-driver/JSON/Serializable/Unmapped","kind":"module","full_name":"JSON::Serializable::Unmapped","name":"Unmapped"}],"extended_modules":[{"html_id":"placeos-driver/JSON/Schema","kind":"module","full_name":"JSON::Schema","name":"Schema"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Sensor","kind":"module","full_name":"PlaceOS::Driver::Interface::Sensor","name":"Sensor"},"constructors":[{"html_id":"new(type:PlaceOS::Driver::Interface::Sensor::SensorType,value:Float64,last_seen:Int64,mac:String,id:Nil|String,name:Nil|String,raw:Nil|String=nil,loc:PlaceOS::Driver::Interface::Sensor::Location|Nil=nil,status:PlaceOS::Driver::Interface::Sensor::Status=Status::Normal,limit_high:Float64|Nil=nil,limit_low:Float64|Nil=nil,resolution:Float64|Nil=nil,module_id:Nil|String=nil,binding:Nil|String=nil,unit:Nil|String=nil,modifier:Nil|String=nil,building:Nil|String=nil,level:Nil|String=nil)-class-method","name":"new","abstract":false,"args":[{"name":"type","external_name":"type","restriction":"::PlaceOS::Driver::Interface::Sensor::SensorType"},{"name":"value","external_name":"value","restriction":"::Float64"},{"name":"last_seen","external_name":"last_seen","restriction":"::Int64"},{"name":"mac","external_name":"mac","restriction":"::String"},{"name":"id","external_name":"id","restriction":"::Nil | ::String"},{"name":"name","external_name":"name","restriction":"::Nil | ::String"},{"name":"raw","default_value":"nil","external_name":"raw","restriction":"::Nil | ::String"},{"name":"loc","default_value":"nil","external_name":"loc","restriction":"::PlaceOS::Driver::Interface::Sensor::Location | ::Nil"},{"name":"status","default_value":"Status::Normal","external_name":"status","restriction":"::PlaceOS::Driver::Interface::Sensor::Status"},{"name":"limit_high","default_value":"nil","external_name":"limit_high","restriction":"::Float64 | ::Nil"},{"name":"limit_low","default_value":"nil","external_name":"limit_low","restriction":"::Float64 | ::Nil"},{"name":"resolution","default_value":"nil","external_name":"resolution","restriction":"::Float64 | ::Nil"},{"name":"module_id","default_value":"nil","external_name":"module_id","restriction":"::Nil | ::String"},{"name":"binding","default_value":"nil","external_name":"binding","restriction":"::Nil | ::String"},{"name":"unit","default_value":"nil","external_name":"unit","restriction":"::Nil | ::String"},{"name":"modifier","default_value":"nil","external_name":"modifier","restriction":"::Nil | ::String"},{"name":"building","default_value":"nil","external_name":"building","restriction":"::Nil | ::String"},{"name":"level","default_value":"nil","external_name":"level","restriction":"::Nil | ::String"}],"args_string":"(type : PlaceOS::Driver::Interface::Sensor::SensorType, value : Float64, last_seen : Int64, mac : String, id : Nil | String, name : Nil | String, raw : Nil | String = nil, loc : PlaceOS::Driver::Interface::Sensor::Location | Nil = nil, status : PlaceOS::Driver::Interface::Sensor::Status = Status::Normal, limit_high : Float64 | Nil = nil, limit_low : Float64 | Nil = nil, resolution : Float64 | Nil = nil, module_id : Nil | String = nil, binding : Nil | String = nil, unit : Nil | String = nil, modifier : Nil | String = nil, building : Nil | String = nil, level : Nil | String = nil)","args_html":"(type : <a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html\">PlaceOS::Driver::Interface::Sensor::SensorType</a>, value : Float64, last_seen : Int64, mac : String, id : Nil | String, name : Nil | String, raw : Nil | String = <span class=\"n\">nil</span>, loc : <a href=\"../../../../PlaceOS/Driver/Interface/Sensor/Location.html\">PlaceOS::Driver::Interface::Sensor::Location</a> | Nil = <span class=\"n\">nil</span>, status : <a href=\"../../../../PlaceOS/Driver/Interface/Sensor/Status.html\">PlaceOS::Driver::Interface::Sensor::Status</a> = <span class=\"t\">Status</span><span class=\"t\">::</span><span class=\"t\">Normal</span>, limit_high : Float64 | Nil = <span class=\"n\">nil</span>, limit_low : Float64 | Nil = <span class=\"n\">nil</span>, resolution : Float64 | Nil = <span class=\"n\">nil</span>, module_id : Nil | String = <span class=\"n\">nil</span>, binding : Nil | String = <span class=\"n\">nil</span>, unit : Nil | String = <span class=\"n\">nil</span>, modifier : Nil | String = <span class=\"n\">nil</span>, building : Nil | String = <span class=\"n\">nil</span>, level : Nil | String = <span class=\"n\">nil</span>)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":111,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L111"},"def":{"name":"new","args":[{"name":"type","external_name":"type","restriction":"::PlaceOS::Driver::Interface::Sensor::SensorType"},{"name":"value","external_name":"value","restriction":"::Float64"},{"name":"last_seen","external_name":"last_seen","restriction":"::Int64"},{"name":"mac","external_name":"mac","restriction":"::String"},{"name":"id","external_name":"id","restriction":"::Nil | ::String"},{"name":"name","external_name":"name","restriction":"::Nil | ::String"},{"name":"raw","default_value":"nil","external_name":"raw","restriction":"::Nil | ::String"},{"name":"loc","default_value":"nil","external_name":"loc","restriction":"::PlaceOS::Driver::Interface::Sensor::Location | ::Nil"},{"name":"status","default_value":"Status::Normal","external_name":"status","restriction":"::PlaceOS::Driver::Interface::Sensor::Status"},{"name":"limit_high","default_value":"nil","external_name":"limit_high","restriction":"::Float64 | ::Nil"},{"name":"limit_low","default_value":"nil","external_name":"limit_low","restriction":"::Float64 | ::Nil"},{"name":"resolution","default_value":"nil","external_name":"resolution","restriction":"::Float64 | ::Nil"},{"name":"module_id","default_value":"nil","external_name":"module_id","restriction":"::Nil | ::String"},{"name":"binding","default_value":"nil","external_name":"binding","restriction":"::Nil | ::String"},{"name":"unit","default_value":"nil","external_name":"unit","restriction":"::Nil | ::String"},{"name":"modifier","default_value":"nil","external_name":"modifier","restriction":"::Nil | ::String"},{"name":"building","default_value":"nil","external_name":"building","restriction":"::Nil | ::String"},{"name":"level","default_value":"nil","external_name":"level","restriction":"::Nil | ::String"}],"visibility":"Public","body":"_ = allocate\n_.initialize(type, value, last_seen, mac, id, name, raw, loc, status, limit_high, limit_low, resolution, module_id, binding, unit, modifier, building, level)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(pull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"args_string":"(pull : JSON::PullParser)","args_html":"(pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":108,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L108"},"def":{"name":"new","args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"visibility":"Public","body":"new_from_json_pull_parser(pull)"},"external_var":false},{"html_id":"new(*,__pull_for_json_serializablepull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"args_string":"(*, __pull_for_json_serializable pull : JSON::PullParser)","args_html":"(*, __pull_for_json_serializable pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":108,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L108"},"def":{"name":"new","args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"splat_index":0,"visibility":"Public","body":"_ = allocate\n_.initialize(__pull_for_json_serializable: pull)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"binding:String|Nil-instance-method","name":"binding","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":148,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L148"},"def":{"name":"binding","return_type":"String | ::Nil","visibility":"Public","body":"@binding"},"external_var":false},{"html_id":"binding=(binding:String|Nil)-instance-method","name":"binding=","abstract":false,"args":[{"name":"binding","external_name":"binding","restriction":"String | ::Nil"}],"args_string":"(binding : String | Nil)","args_html":"(binding : String | Nil)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":148,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L148"},"def":{"name":"binding=","args":[{"name":"binding","external_name":"binding","restriction":"String | ::Nil"}],"visibility":"Public","body":"@binding = binding"},"external_var":false},{"html_id":"building:String|Nil-instance-method","name":"building","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":161,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L161"},"def":{"name":"building","return_type":"String | ::Nil","visibility":"Public","body":"@building"},"external_var":false},{"html_id":"building=(building:String|Nil)-instance-method","name":"building=","abstract":false,"args":[{"name":"building","external_name":"building","restriction":"String | ::Nil"}],"args_string":"(building : String | Nil)","args_html":"(building : String | Nil)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":161,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L161"},"def":{"name":"building=","args":[{"name":"building","external_name":"building","restriction":"String | ::Nil"}],"visibility":"Public","body":"@building = building"},"external_var":false},{"html_id":"id:String|Nil-instance-method","name":"id","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":132,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L132"},"def":{"name":"id","return_type":"String | ::Nil","visibility":"Public","body":"@id"},"external_var":false},{"html_id":"id=(id:String|Nil)-instance-method","name":"id=","abstract":false,"args":[{"name":"id","external_name":"id","restriction":"String | ::Nil"}],"args_string":"(id : String | Nil)","args_html":"(id : String | Nil)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":132,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L132"},"def":{"name":"id=","args":[{"name":"id","external_name":"id","restriction":"String | ::Nil"}],"visibility":"Public","body":"@id = id"},"external_var":false},{"html_id":"last_seen:Int64-instance-method","name":"last_seen","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":124,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L124"},"def":{"name":"last_seen","return_type":"Int64","visibility":"Public","body":"@last_seen"},"external_var":false},{"html_id":"last_seen=(last_seen:Int64)-instance-method","name":"last_seen=","abstract":false,"args":[{"name":"last_seen","external_name":"last_seen","restriction":"Int64"}],"args_string":"(last_seen : Int64)","args_html":"(last_seen : Int64)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":124,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L124"},"def":{"name":"last_seen=","args":[{"name":"last_seen","external_name":"last_seen","restriction":"Int64"}],"visibility":"Public","body":"@last_seen = last_seen"},"external_var":false},{"html_id":"lat:Float64|Nil-instance-method","name":"lat","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":158,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L158"},"def":{"name":"lat","return_type":"Float64 | ::Nil","visibility":"Public","body":"@lat"},"external_var":false},{"html_id":"lat=(lat:Float64|Nil)-instance-method","name":"lat=","abstract":false,"args":[{"name":"lat","external_name":"lat","restriction":"Float64 | ::Nil"}],"args_string":"(lat : Float64 | Nil)","args_html":"(lat : Float64 | Nil)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":158,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L158"},"def":{"name":"lat=","args":[{"name":"lat","external_name":"lat","restriction":"Float64 | ::Nil"}],"visibility":"Public","body":"@lat = lat"},"external_var":false},{"html_id":"level:String|Nil-instance-method","name":"level","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":162,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L162"},"def":{"name":"level","return_type":"String | ::Nil","visibility":"Public","body":"@level"},"external_var":false},{"html_id":"level=(level:String|Nil)-instance-method","name":"level=","abstract":false,"args":[{"name":"level","external_name":"level","restriction":"String | ::Nil"}],"args_string":"(level : String | Nil)","args_html":"(level : String | Nil)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":162,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L162"},"def":{"name":"level=","args":[{"name":"level","external_name":"level","restriction":"String | ::Nil"}],"visibility":"Public","body":"@level = level"},"external_var":false},{"html_id":"limit_high:Float64|Nil-instance-method","name":"limit_high","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":126,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L126"},"def":{"name":"limit_high","return_type":"Float64 | ::Nil","visibility":"Public","body":"@limit_high"},"external_var":false},{"html_id":"limit_high=(limit_high:Float64|Nil)-instance-method","name":"limit_high=","abstract":false,"args":[{"name":"limit_high","external_name":"limit_high","restriction":"Float64 | ::Nil"}],"args_string":"(limit_high : Float64 | Nil)","args_html":"(limit_high : Float64 | Nil)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":126,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L126"},"def":{"name":"limit_high=","args":[{"name":"limit_high","external_name":"limit_high","restriction":"Float64 | ::Nil"}],"visibility":"Public","body":"@limit_high = limit_high"},"external_var":false},{"html_id":"limit_low:Float64|Nil-instance-method","name":"limit_low","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":127,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L127"},"def":{"name":"limit_low","return_type":"Float64 | ::Nil","visibility":"Public","body":"@limit_low"},"external_var":false},{"html_id":"limit_low=(limit_low:Float64|Nil)-instance-method","name":"limit_low=","abstract":false,"args":[{"name":"limit_low","external_name":"limit_low","restriction":"Float64 | ::Nil"}],"args_string":"(limit_low : Float64 | Nil)","args_html":"(limit_low : Float64 | Nil)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":127,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L127"},"def":{"name":"limit_low=","args":[{"name":"limit_low","external_name":"limit_low","restriction":"Float64 | ::Nil"}],"visibility":"Public","body":"@limit_low = limit_low"},"external_var":false},{"html_id":"loc:Location|Nil-instance-method","name":"loc","doc":"unadjusted location if the sensor platform has this information","summary":"<p>unadjusted location if the sensor platform has this information</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":144,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L144"},"def":{"name":"loc","return_type":"Location | ::Nil","visibility":"Public","body":"@loc"},"external_var":false},{"html_id":"loc=(loc:Location|Nil)-instance-method","name":"loc=","doc":"unadjusted location if the sensor platform has this information","summary":"<p>unadjusted location if the sensor platform has this information</p>","abstract":false,"args":[{"name":"loc","external_name":"loc","restriction":"Location | ::Nil"}],"args_string":"(loc : Location | Nil)","args_html":"(loc : <a href=\"../../../../PlaceOS/Driver/Interface/Sensor/Location.html\">Location</a> | Nil)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":144,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L144"},"def":{"name":"loc=","args":[{"name":"loc","external_name":"loc","restriction":"Location | ::Nil"}],"visibility":"Public","body":"@loc = loc"},"external_var":false},{"html_id":"location:String-instance-method","name":"location","doc":"Resolved location data, generated by Area Management:","summary":"<p>Resolved location data, generated by Area Management:</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":154,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L154"},"def":{"name":"location","return_type":"String","visibility":"Public","body":"@location"},"external_var":false},{"html_id":"lon:Float64|Nil-instance-method","name":"lon","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":159,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L159"},"def":{"name":"lon","return_type":"Float64 | ::Nil","visibility":"Public","body":"@lon"},"external_var":false},{"html_id":"lon=(lon:Float64|Nil)-instance-method","name":"lon=","abstract":false,"args":[{"name":"lon","external_name":"lon","restriction":"Float64 | ::Nil"}],"args_string":"(lon : Float64 | Nil)","args_html":"(lon : Float64 | Nil)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":159,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L159"},"def":{"name":"lon=","args":[{"name":"lon","external_name":"lon","restriction":"Float64 | ::Nil"}],"visibility":"Public","body":"@lon = lon"},"external_var":false},{"html_id":"mac:String-instance-method","name":"mac","doc":"the id can be optional if the mac address represents a single value","summary":"<p>the id can be optional if the mac address represents a single value</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":131,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L131"},"def":{"name":"mac","return_type":"String","visibility":"Public","body":"@mac"},"external_var":false},{"html_id":"mac=(mac:String)-instance-method","name":"mac=","doc":"the id can be optional if the mac address represents a single value","summary":"<p>the id can be optional if the mac address represents a single value</p>","abstract":false,"args":[{"name":"mac","external_name":"mac","restriction":"String"}],"args_string":"(mac : String)","args_html":"(mac : String)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":131,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L131"},"def":{"name":"mac=","args":[{"name":"mac","external_name":"mac","restriction":"String"}],"visibility":"Public","body":"@mac = mac"},"external_var":false},{"html_id":"modified_type:String-instance-method","name":"modified_type","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":168,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L168"},"def":{"name":"modified_type","return_type":"String","visibility":"Public","body":"if @modifier.presence\n  return \"#{@modifier} #{@type}\"\nend\n@type.to_s\n"},"external_var":false},{"html_id":"modifier:String|Nil-instance-method","name":"modifier","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":120,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L120"},"def":{"name":"modifier","return_type":"String | ::Nil","visibility":"Public","body":"@modifier"},"external_var":false},{"html_id":"modifier=(modifier:String|Nil)-instance-method","name":"modifier=","abstract":false,"args":[{"name":"modifier","external_name":"modifier","restriction":"String | ::Nil"}],"args_string":"(modifier : String | Nil)","args_html":"(modifier : String | Nil)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":120,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L120"},"def":{"name":"modifier=","args":[{"name":"modifier","external_name":"modifier","restriction":"String | ::Nil"}],"visibility":"Public","body":"@modifier = modifier"},"external_var":false},{"html_id":"module_id:String|Nil-instance-method","name":"module_id","doc":"binding details if interested in live updates","summary":"<p>binding details if interested in live updates</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":147,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L147"},"def":{"name":"module_id","return_type":"String | ::Nil","visibility":"Public","body":"@module_id"},"external_var":false},{"html_id":"module_id=(module_id:String|Nil)-instance-method","name":"module_id=","doc":"binding details if interested in live updates","summary":"<p>binding details if interested in live updates</p>","abstract":false,"args":[{"name":"module_id","external_name":"module_id","restriction":"String | ::Nil"}],"args_string":"(module_id : String | Nil)","args_html":"(module_id : String | Nil)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":147,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L147"},"def":{"name":"module_id=","args":[{"name":"module_id","external_name":"module_id","restriction":"String | ::Nil"}],"visibility":"Public","body":"@module_id = module_id"},"external_var":false},{"html_id":"name:String|Nil-instance-method","name":"name","doc":"`name` is some useful human itentifying information about the sensor\ni.e. \"lobby motion detector\" or \"Globalsat LS-113P\"","summary":"<p><code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/Detail.html#name%3AString%7CNil-instance-method\">#name</a></code> is some useful human itentifying information about the sensor i.e.</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":136,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L136"},"def":{"name":"name","return_type":"String | ::Nil","visibility":"Public","body":"@name"},"external_var":false},{"html_id":"name=(name:String|Nil)-instance-method","name":"name=","doc":"`name` is some useful human itentifying information about the sensor\ni.e. \"lobby motion detector\" or \"Globalsat LS-113P\"","summary":"<p><code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/Detail.html#name%3AString%7CNil-instance-method\">#name</a></code> is some useful human itentifying information about the sensor i.e.</p>","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String | ::Nil"}],"args_string":"(name : String | Nil)","args_html":"(name : String | Nil)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":136,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L136"},"def":{"name":"name=","args":[{"name":"name","external_name":"name","restriction":"String | ::Nil"}],"visibility":"Public","body":"@name = name"},"external_var":false},{"html_id":"raw:String|Nil-instance-method","name":"raw","doc":"`raw` is a human readable original value\ni.e. Temperature is always celsius but the sensor may be reporting Fahrenheit\n     so an example raw string would be `\"88.2°F\"`","summary":"<p><code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/Detail.html#raw%3AString%7CNil-instance-method\">#raw</a></code> is a human readable original value i.e.</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":141,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L141"},"def":{"name":"raw","return_type":"String | ::Nil","visibility":"Public","body":"@raw"},"external_var":false},{"html_id":"raw=(raw:String|Nil)-instance-method","name":"raw=","doc":"`raw` is a human readable original value\ni.e. Temperature is always celsius but the sensor may be reporting Fahrenheit\n     so an example raw string would be `\"88.2°F\"`","summary":"<p><code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/Detail.html#raw%3AString%7CNil-instance-method\">#raw</a></code> is a human readable original value i.e.</p>","abstract":false,"args":[{"name":"raw","external_name":"raw","restriction":"String | ::Nil"}],"args_string":"(raw : String | Nil)","args_html":"(raw : String | Nil)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":141,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L141"},"def":{"name":"raw=","args":[{"name":"raw","external_name":"raw","restriction":"String | ::Nil"}],"visibility":"Public","body":"@raw = raw"},"external_var":false},{"html_id":"resolution:Float64|Nil-instance-method","name":"resolution","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":128,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L128"},"def":{"name":"resolution","return_type":"Float64 | ::Nil","visibility":"Public","body":"@resolution"},"external_var":false},{"html_id":"resolution=(resolution:Float64|Nil)-instance-method","name":"resolution=","abstract":false,"args":[{"name":"resolution","external_name":"resolution","restriction":"Float64 | ::Nil"}],"args_string":"(resolution : Float64 | Nil)","args_html":"(resolution : Float64 | Nil)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":128,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L128"},"def":{"name":"resolution=","args":[{"name":"resolution","external_name":"resolution","restriction":"Float64 | ::Nil"}],"visibility":"Public","body":"@resolution = resolution"},"external_var":false},{"html_id":"s2_cell_id:String|Nil-instance-method","name":"s2_cell_id","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":160,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L160"},"def":{"name":"s2_cell_id","return_type":"String | ::Nil","visibility":"Public","body":"@s2_cell_id"},"external_var":false},{"html_id":"s2_cell_id=(s2_cell_id:String|Nil)-instance-method","name":"s2_cell_id=","abstract":false,"args":[{"name":"s2_cell_id","external_name":"s2_cell_id","restriction":"String | ::Nil"}],"args_string":"(s2_cell_id : String | Nil)","args_html":"(s2_cell_id : String | Nil)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":160,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L160"},"def":{"name":"s2_cell_id=","args":[{"name":"s2_cell_id","external_name":"s2_cell_id","restriction":"String | ::Nil"}],"visibility":"Public","body":"@s2_cell_id = s2_cell_id"},"external_var":false},{"html_id":"seen_at:Time-instance-method","name":"seen_at","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":164,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L164"},"def":{"name":"seen_at","return_type":"Time","visibility":"Public","body":"Time.unix(last_seen)"},"external_var":false},{"html_id":"status:Status-instance-method","name":"status","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":119,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L119"},"def":{"name":"status","return_type":"Status","visibility":"Public","body":"@status"},"external_var":false},{"html_id":"status=(status:Status)-instance-method","name":"status=","abstract":false,"args":[{"name":"status","external_name":"status","restriction":"Status"}],"args_string":"(status : Status)","args_html":"(status : <a href=\"../../../../PlaceOS/Driver/Interface/Sensor/Status.html\">Status</a>)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":119,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L119"},"def":{"name":"status=","args":[{"name":"status","external_name":"status","restriction":"Status"}],"visibility":"Public","body":"@status = status"},"external_var":false},{"html_id":"type:SensorType-instance-method","name":"type","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":121,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L121"},"def":{"name":"type","return_type":"SensorType","visibility":"Public","body":"@type"},"external_var":false},{"html_id":"type=(type:SensorType)-instance-method","name":"type=","abstract":false,"args":[{"name":"type","external_name":"type","restriction":"SensorType"}],"args_string":"(type : SensorType)","args_html":"(type : <a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html\">SensorType</a>)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":121,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L121"},"def":{"name":"type=","args":[{"name":"type","external_name":"type","restriction":"SensorType"}],"visibility":"Public","body":"@type = type"},"external_var":false},{"html_id":"unit:String|Nil-instance-method","name":"unit","doc":"The unit type string as supported by crunits","summary":"<p>The unit type string as supported by crunits</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":151,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L151"},"def":{"name":"unit","return_type":"String | ::Nil","visibility":"Public","body":"@unit"},"external_var":false},{"html_id":"unit=(unit:String|Nil)-instance-method","name":"unit=","doc":"The unit type string as supported by crunits","summary":"<p>The unit type string as supported by crunits</p>","abstract":false,"args":[{"name":"unit","external_name":"unit","restriction":"String | ::Nil"}],"args_string":"(unit : String | Nil)","args_html":"(unit : String | Nil)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":151,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L151"},"def":{"name":"unit=","args":[{"name":"unit","external_name":"unit","restriction":"String | ::Nil"}],"visibility":"Public","body":"@unit = unit"},"external_var":false},{"html_id":"value:Float64-instance-method","name":"value","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":123,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L123"},"def":{"name":"value","return_type":"Float64","visibility":"Public","body":"@value"},"external_var":false},{"html_id":"value=(value:Float64)-instance-method","name":"value=","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"Float64"}],"args_string":"(value : Float64)","args_html":"(value : Float64)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":123,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L123"},"def":{"name":"value=","args":[{"name":"value","external_name":"value","restriction":"Float64"}],"visibility":"Public","body":"@value = value"},"external_var":false},{"html_id":"x:Float64|Nil-instance-method","name":"x","doc":"percentage coordinates from top-left when coordinates_from == nil","summary":"<p>percentage coordinates from top-left when coordinates_from == nil</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":156,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L156"},"def":{"name":"x","return_type":"Float64 | ::Nil","visibility":"Public","body":"@x"},"external_var":false},{"html_id":"x=(x:Float64|Nil)-instance-method","name":"x=","doc":"percentage coordinates from top-left when coordinates_from == nil","summary":"<p>percentage coordinates from top-left when coordinates_from == nil</p>","abstract":false,"args":[{"name":"x","external_name":"x","restriction":"Float64 | ::Nil"}],"args_string":"(x : Float64 | Nil)","args_html":"(x : Float64 | Nil)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":156,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L156"},"def":{"name":"x=","args":[{"name":"x","external_name":"x","restriction":"Float64 | ::Nil"}],"visibility":"Public","body":"@x = x"},"external_var":false},{"html_id":"y:Float64|Nil-instance-method","name":"y","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":157,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L157"},"def":{"name":"y","return_type":"Float64 | ::Nil","visibility":"Public","body":"@y"},"external_var":false},{"html_id":"y=(y:Float64|Nil)-instance-method","name":"y=","abstract":false,"args":[{"name":"y","external_name":"y","restriction":"Float64 | ::Nil"}],"args_string":"(y : Float64 | Nil)","args_html":"(y : Float64 | Nil)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":157,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L157"},"def":{"name":"y=","args":[{"name":"y","external_name":"y","restriction":"Float64 | ::Nil"}],"visibility":"Public","body":"@y = y"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Sensor/GeoLocation","path":"PlaceOS/Driver/Interface/Sensor/GeoLocation.html","kind":"struct","full_name":"PlaceOS::Driver::Interface::Sensor::GeoLocation","name":"GeoLocation","abstract":false,"superclass":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Sensor/Location","kind":"struct","full_name":"PlaceOS::Driver::Interface::Sensor::Location","name":"Location"},"ancestors":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Sensor/Location","kind":"struct","full_name":"PlaceOS::Driver::Interface::Sensor::Location","name":"Location"},{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"},{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/interface/sensor.cr","line_number":82,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L82"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Sensor","kind":"module","full_name":"PlaceOS::Driver::Interface::Sensor","name":"Sensor"},"constructors":[{"html_id":"new(lat:Float64,lon:Float64)-class-method","name":"new","abstract":false,"args":[{"name":"lat","external_name":"lat","restriction":"::Float64"},{"name":"lon","external_name":"lon","restriction":"::Float64"}],"args_string":"(lat : Float64, lon : Float64)","args_html":"(lat : Float64, lon : Float64)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":85,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L85"},"def":{"name":"new","args":[{"name":"lat","external_name":"lat","restriction":"::Float64"},{"name":"lon","external_name":"lon","restriction":"::Float64"}],"visibility":"Public","body":"_ = allocate\n_.initialize(lat, lon)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(pull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"args_string":"(pull : JSON::PullParser)","args_html":"(pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":82,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L82"},"def":{"name":"new","args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"visibility":"Public","body":"new_from_json_pull_parser(pull)"},"external_var":false}],"instance_methods":[{"html_id":"lat:Float64-instance-method","name":"lat","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":88,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L88"},"def":{"name":"lat","return_type":"Float64","visibility":"Public","body":"@lat"},"external_var":false},{"html_id":"lat=(lat:Float64)-instance-method","name":"lat=","abstract":false,"args":[{"name":"lat","external_name":"lat","restriction":"Float64"}],"args_string":"(lat : Float64)","args_html":"(lat : Float64)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":88,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L88"},"def":{"name":"lat=","args":[{"name":"lat","external_name":"lat","restriction":"Float64"}],"visibility":"Public","body":"@lat = lat"},"external_var":false},{"html_id":"lon:Float64-instance-method","name":"lon","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":89,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L89"},"def":{"name":"lon","return_type":"Float64","visibility":"Public","body":"@lon"},"external_var":false},{"html_id":"lon=(lon:Float64)-instance-method","name":"lon=","abstract":false,"args":[{"name":"lon","external_name":"lon","restriction":"Float64"}],"args_string":"(lon : Float64)","args_html":"(lon : Float64)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":89,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L89"},"def":{"name":"lon=","args":[{"name":"lon","external_name":"lon","restriction":"Float64"}],"visibility":"Public","body":"@lon = lon"},"external_var":false},{"html_id":"s2_cell_id(s2_level:Int32=21)-instance-method","name":"s2_cell_id","abstract":false,"args":[{"name":"s2_level","default_value":"21","external_name":"s2_level","restriction":"Int32"}],"args_string":"(s2_level : Int32 = 21)","args_html":"(s2_level : Int32 = <span class=\"n\">21</span>)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":91,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L91"},"def":{"name":"s2_cell_id","args":[{"name":"s2_level","default_value":"21","external_name":"s2_level","restriction":"Int32"}],"visibility":"Public","body":"(S2Cells::LatLon.new(lat, lon)).to_token(s2_level)"},"external_var":false},{"html_id":"type:String-instance-method","name":"type","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":83,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L83"},"def":{"name":"type","return_type":"String","visibility":"Public","body":"@type"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Sensor/Location","path":"PlaceOS/Driver/Interface/Sensor/Location.html","kind":"struct","full_name":"PlaceOS::Driver::Interface::Sensor::Location","name":"Location","abstract":true,"superclass":{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"},{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/interface/sensor.cr","line_number":73,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L73"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"}],"extended_modules":[{"html_id":"placeos-driver/JSON/Schema","kind":"module","full_name":"JSON::Schema","name":"Schema"}],"subclasses":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Sensor/GeoLocation","kind":"struct","full_name":"PlaceOS::Driver::Interface::Sensor::GeoLocation","name":"GeoLocation"},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Sensor/MapLocation","kind":"struct","full_name":"PlaceOS::Driver::Interface::Sensor::MapLocation","name":"MapLocation"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Sensor","kind":"module","full_name":"PlaceOS::Driver::Interface::Sensor","name":"Sensor"},"constructors":[{"html_id":"new(pull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"args_string":"(pull : JSON::PullParser)","args_html":"(pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":76,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L76"},"def":{"name":"new","args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"visibility":"Public","body":"location = pull.location\n\ndiscriminator_value = nil\n\n\n\n\njson = ::String.build do |io|\n  ::JSON.build(io) do |builder|\n    builder.start_object\n    pull.read_object do |key|\n      if key == \"type\"\n        value_kind = pull.kind\n        case value_kind\n        when .string?\n          discriminator_value = pull.string_value\n        when .int?\n          discriminator_value = pull.int_value\n        when .bool?\n          discriminator_value = pull.bool_value\n        else\n          raise(::JSON::SerializableError.new(\"JSON discriminator field 'type' has an invalid value type of #{value_kind.to_s}\", to_s, nil, *location, nil))\n        end\n        builder.field(key, discriminator_value)\n        pull.read_next\n      else\n        builder.field(key) do pull.read_raw(builder) end\n      end\n    end\n    builder.end_object\n  end\nend\n\nif discriminator_value.nil?\n  raise(::JSON::SerializableError.new(\"Missing JSON discriminator field 'type'\", to_s, nil, *location, nil))\nend\n\ncase discriminator_value\nwhen \"geo\"\n  GeoLocation.from_json(json)\nwhen \"map\"\n  MapLocation.from_json(json)\nelse\n  raise(::JSON::SerializableError.new(\"Unknown 'type' discriminator value: #{discriminator_value.inspect}\", to_s, nil, *location, nil))\nend\n"},"external_var":false},{"html_id":"new(*,__pull_for_json_serializablepull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"args_string":"(*, __pull_for_json_serializable pull : JSON::PullParser)","args_html":"(*, __pull_for_json_serializable pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":74,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L74"},"def":{"name":"new","args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"splat_index":0,"visibility":"Public","body":"_ = allocate\n_.initialize(__pull_for_json_serializable: pull)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Sensor/MapLocation","path":"PlaceOS/Driver/Interface/Sensor/MapLocation.html","kind":"struct","full_name":"PlaceOS::Driver::Interface::Sensor::MapLocation","name":"MapLocation","abstract":false,"superclass":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Sensor/Location","kind":"struct","full_name":"PlaceOS::Driver::Interface::Sensor::Location","name":"Location"},"ancestors":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Sensor/Location","kind":"struct","full_name":"PlaceOS::Driver::Interface::Sensor::Location","name":"Location"},{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"},{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/interface/sensor.cr","line_number":96,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L96"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Sensor","kind":"module","full_name":"PlaceOS::Driver::Interface::Sensor","name":"Sensor"},"constructors":[{"html_id":"new(x:Float64,y:Float64)-class-method","name":"new","abstract":false,"args":[{"name":"x","external_name":"x","restriction":"::Float64"},{"name":"y","external_name":"y","restriction":"::Float64"}],"args_string":"(x : Float64, y : Float64)","args_html":"(x : Float64, y : Float64)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":99,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L99"},"def":{"name":"new","args":[{"name":"x","external_name":"x","restriction":"::Float64"},{"name":"y","external_name":"y","restriction":"::Float64"}],"visibility":"Public","body":"_ = allocate\n_.initialize(x, y)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(pull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"args_string":"(pull : JSON::PullParser)","args_html":"(pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":96,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L96"},"def":{"name":"new","args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"visibility":"Public","body":"new_from_json_pull_parser(pull)"},"external_var":false}],"instance_methods":[{"html_id":"type:String-instance-method","name":"type","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":97,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L97"},"def":{"name":"type","return_type":"String","visibility":"Public","body":"@type"},"external_var":false},{"html_id":"x:Float64-instance-method","name":"x","doc":"this is expected to be the raw unadjusted values","summary":"<p>this is expected to be the raw unadjusted values</p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":103,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L103"},"def":{"name":"x","return_type":"Float64","visibility":"Public","body":"@x"},"external_var":false},{"html_id":"x=(x:Float64)-instance-method","name":"x=","doc":"this is expected to be the raw unadjusted values","summary":"<p>this is expected to be the raw unadjusted values</p>","abstract":false,"args":[{"name":"x","external_name":"x","restriction":"Float64"}],"args_string":"(x : Float64)","args_html":"(x : Float64)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":103,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L103"},"def":{"name":"x=","args":[{"name":"x","external_name":"x","restriction":"Float64"}],"visibility":"Public","body":"@x = x"},"external_var":false},{"html_id":"y:Float64-instance-method","name":"y","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":104,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L104"},"def":{"name":"y","return_type":"Float64","visibility":"Public","body":"@y"},"external_var":false},{"html_id":"y=(y:Float64)-instance-method","name":"y=","abstract":false,"args":[{"name":"y","external_name":"y","restriction":"Float64"}],"args_string":"(y : Float64)","args_html":"(y : Float64)","location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":104,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L104"},"def":{"name":"y=","args":[{"name":"y","external_name":"y","restriction":"Float64"}],"visibility":"Public","body":"@y = y"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Sensor/SensorType","path":"PlaceOS/Driver/Interface/Sensor/SensorType.html","kind":"enum","full_name":"PlaceOS::Driver::Interface::Sensor::SensorType","name":"SensorType","abstract":false,"ancestors":[{"html_id":"placeos-driver/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"placeos-driver/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/interface/sensor.cr","line_number":10,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L10"}],"repository_name":"placeos-driver","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"Temperature","name":"Temperature","value":"0"},{"id":"DeviceTemp","name":"DeviceTemp","value":"1"},{"id":"Humidity","name":"Humidity","value":"2"},{"id":"Illuminance","name":"Illuminance","value":"3"},{"id":"Pressure","name":"Pressure","value":"4"},{"id":"Trigger","name":"Trigger","value":"5"},{"id":"Presence","name":"Presence","value":"6"},{"id":"Switch","name":"Switch","value":"7"},{"id":"Level","name":"Level","value":"8"},{"id":"Flow","name":"Flow","value":"9"},{"id":"Counter","name":"Counter","value":"10"},{"id":"PeopleCount","name":"PeopleCount","value":"11"},{"id":"QueueSize","name":"QueueSize","value":"12"},{"id":"Acceleration","name":"Acceleration","value":"13"},{"id":"Speed","name":"Speed","value":"14"},{"id":"Roll","name":"Roll","value":"15","doc":"Gyroscope: roll, pitch, yaw - Angle","summary":"<p>Gyroscope: roll, pitch, yaw - Angle</p>"},{"id":"Pitch","name":"Pitch","value":"16"},{"id":"Yaw","name":"Yaw","value":"17"},{"id":"Compass","name":"Compass","value":"18"},{"id":"Current","name":"Current","value":"19"},{"id":"Voltage","name":"Voltage","value":"20"},{"id":"ElectricalResistance","name":"ElectricalResistance","value":"21"},{"id":"Power","name":"Power","value":"22"},{"id":"Energy","name":"Energy","value":"23"},{"id":"Capacitance","name":"Capacitance","value":"24"},{"id":"Inductance","name":"Inductance","value":"25"},{"id":"Conductance","name":"Conductance","value":"26"},{"id":"MagneticFlux","name":"MagneticFlux","value":"27"},{"id":"MagneticFluxDensity","name":"MagneticFluxDensity","value":"28"},{"id":"Radiation","name":"Radiation","value":"29"},{"id":"Distance","name":"Distance","value":"30"},{"id":"Area","name":"Area","value":"31"},{"id":"SoundPressure","name":"SoundPressure","value":"32"},{"id":"Force","name":"Force","value":"33"},{"id":"Frequency","name":"Frequency","value":"34"},{"id":"Mass","name":"Mass","value":"35"},{"id":"Momentum","name":"Momentum","value":"36"},{"id":"TimePeriod","name":"TimePeriod","value":"37"},{"id":"Volume","name":"Volume","value":"38"},{"id":"Acidity","name":"Acidity","value":"39"},{"id":"AirQuality","name":"AirQuality","value":"40","doc":"this could be UBA or AQI values, not sure if there is good way to convert between these","summary":"<p>this could be UBA or AQI values, not sure if there is good way to convert between these</p>"},{"id":"PPM","name":"PPM","value":"41"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Sensor","kind":"module","full_name":"PlaceOS::Driver::Interface::Sensor","name":"Sensor"},"instance_methods":[{"html_id":"acceleration?-instance-method","name":"acceleration?","doc":"Returns `true` if this enum value equals `Acceleration`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Acceleration\">Acceleration</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":24,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L24"},"def":{"name":"acceleration?","visibility":"Public","body":"self == Acceleration"},"external_var":false},{"html_id":"acidity?-instance-method","name":"acidity?","doc":"Returns `true` if this enum value equals `Acidity`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Acidity\">Acidity</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":51,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L51"},"def":{"name":"acidity?","visibility":"Public","body":"self == Acidity"},"external_var":false},{"html_id":"air_quality?-instance-method","name":"air_quality?","doc":"Returns `true` if this enum value equals `AirQuality`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#AirQuality\">AirQuality</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":54,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L54"},"def":{"name":"air_quality?","visibility":"Public","body":"self == AirQuality"},"external_var":false},{"html_id":"area?-instance-method","name":"area?","doc":"Returns `true` if this enum value equals `Area`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Area\">Area</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":43,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L43"},"def":{"name":"area?","visibility":"Public","body":"self == Area"},"external_var":false},{"html_id":"capacitance?-instance-method","name":"capacitance?","doc":"Returns `true` if this enum value equals `Capacitance`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Capacitance\">Capacitance</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":36,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L36"},"def":{"name":"capacitance?","visibility":"Public","body":"self == Capacitance"},"external_var":false},{"html_id":"compass?-instance-method","name":"compass?","doc":"Returns `true` if this enum value equals `Compass`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Compass\">Compass</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":30,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L30"},"def":{"name":"compass?","visibility":"Public","body":"self == Compass"},"external_var":false},{"html_id":"conductance?-instance-method","name":"conductance?","doc":"Returns `true` if this enum value equals `Conductance`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Conductance\">Conductance</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":38,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L38"},"def":{"name":"conductance?","visibility":"Public","body":"self == Conductance"},"external_var":false},{"html_id":"counter?-instance-method","name":"counter?","doc":"Returns `true` if this enum value equals `Counter`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Counter\">Counter</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":21,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L21"},"def":{"name":"counter?","visibility":"Public","body":"self == Counter"},"external_var":false},{"html_id":"current?-instance-method","name":"current?","doc":"Returns `true` if this enum value equals `Current`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Current\">Current</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":31,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L31"},"def":{"name":"current?","visibility":"Public","body":"self == Current"},"external_var":false},{"html_id":"device_temp?-instance-method","name":"device_temp?","doc":"Returns `true` if this enum value equals `DeviceTemp`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#DeviceTemp\">DeviceTemp</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":12,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L12"},"def":{"name":"device_temp?","visibility":"Public","body":"self == DeviceTemp"},"external_var":false},{"html_id":"distance?-instance-method","name":"distance?","doc":"Returns `true` if this enum value equals `Distance`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Distance\">Distance</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":42,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L42"},"def":{"name":"distance?","visibility":"Public","body":"self == Distance"},"external_var":false},{"html_id":"electrical_resistance?-instance-method","name":"electrical_resistance?","doc":"Returns `true` if this enum value equals `ElectricalResistance`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#ElectricalResistance\">ElectricalResistance</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":33,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L33"},"def":{"name":"electrical_resistance?","visibility":"Public","body":"self == ElectricalResistance"},"external_var":false},{"html_id":"energy?-instance-method","name":"energy?","doc":"Returns `true` if this enum value equals `Energy`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Energy\">Energy</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":35,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L35"},"def":{"name":"energy?","visibility":"Public","body":"self == Energy"},"external_var":false},{"html_id":"flow?-instance-method","name":"flow?","doc":"Returns `true` if this enum value equals `Flow`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Flow\">Flow</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":20,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L20"},"def":{"name":"flow?","visibility":"Public","body":"self == Flow"},"external_var":false},{"html_id":"force?-instance-method","name":"force?","doc":"Returns `true` if this enum value equals `Force`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Force\">Force</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":45,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L45"},"def":{"name":"force?","visibility":"Public","body":"self == Force"},"external_var":false},{"html_id":"frequency?-instance-method","name":"frequency?","doc":"Returns `true` if this enum value equals `Frequency`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Frequency\">Frequency</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":46,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L46"},"def":{"name":"frequency?","visibility":"Public","body":"self == Frequency"},"external_var":false},{"html_id":"humidity?-instance-method","name":"humidity?","doc":"Returns `true` if this enum value equals `Humidity`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Humidity\">Humidity</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":13,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L13"},"def":{"name":"humidity?","visibility":"Public","body":"self == Humidity"},"external_var":false},{"html_id":"illuminance?-instance-method","name":"illuminance?","doc":"Returns `true` if this enum value equals `Illuminance`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Illuminance\">Illuminance</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":14,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L14"},"def":{"name":"illuminance?","visibility":"Public","body":"self == Illuminance"},"external_var":false},{"html_id":"inductance?-instance-method","name":"inductance?","doc":"Returns `true` if this enum value equals `Inductance`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Inductance\">Inductance</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":37,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L37"},"def":{"name":"inductance?","visibility":"Public","body":"self == Inductance"},"external_var":false},{"html_id":"level?-instance-method","name":"level?","doc":"Returns `true` if this enum value equals `Level`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Level\">Level</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":19,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L19"},"def":{"name":"level?","visibility":"Public","body":"self == Level"},"external_var":false},{"html_id":"magnetic_flux?-instance-method","name":"magnetic_flux?","doc":"Returns `true` if this enum value equals `MagneticFlux`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#MagneticFlux\">MagneticFlux</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":39,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L39"},"def":{"name":"magnetic_flux?","visibility":"Public","body":"self == MagneticFlux"},"external_var":false},{"html_id":"magnetic_flux_density?-instance-method","name":"magnetic_flux_density?","doc":"Returns `true` if this enum value equals `MagneticFluxDensity`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#MagneticFluxDensity\">MagneticFluxDensity</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":40,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L40"},"def":{"name":"magnetic_flux_density?","visibility":"Public","body":"self == MagneticFluxDensity"},"external_var":false},{"html_id":"mass?-instance-method","name":"mass?","doc":"Returns `true` if this enum value equals `Mass`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Mass\">Mass</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":47,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L47"},"def":{"name":"mass?","visibility":"Public","body":"self == Mass"},"external_var":false},{"html_id":"momentum?-instance-method","name":"momentum?","doc":"Returns `true` if this enum value equals `Momentum`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Momentum\">Momentum</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":48,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L48"},"def":{"name":"momentum?","visibility":"Public","body":"self == Momentum"},"external_var":false},{"html_id":"people_count?-instance-method","name":"people_count?","doc":"Returns `true` if this enum value equals `PeopleCount`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#PeopleCount\">PeopleCount</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":22,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L22"},"def":{"name":"people_count?","visibility":"Public","body":"self == PeopleCount"},"external_var":false},{"html_id":"pitch?-instance-method","name":"pitch?","doc":"Returns `true` if this enum value equals `Pitch`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Pitch\">Pitch</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":28,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L28"},"def":{"name":"pitch?","visibility":"Public","body":"self == Pitch"},"external_var":false},{"html_id":"power?-instance-method","name":"power?","doc":"Returns `true` if this enum value equals `Power`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Power\">Power</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":34,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L34"},"def":{"name":"power?","visibility":"Public","body":"self == Power"},"external_var":false},{"html_id":"ppm?-instance-method","name":"ppm?","doc":"Returns `true` if this enum value equals `PPM`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#PPM\">PPM</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":55,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L55"},"def":{"name":"ppm?","visibility":"Public","body":"self == PPM"},"external_var":false},{"html_id":"presence?-instance-method","name":"presence?","doc":"Returns `true` if this enum value equals `Presence`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Presence\">Presence</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":17,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L17"},"def":{"name":"presence?","visibility":"Public","body":"self == Presence"},"external_var":false},{"html_id":"pressure?-instance-method","name":"pressure?","doc":"Returns `true` if this enum value equals `Pressure`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Pressure\">Pressure</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":15,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L15"},"def":{"name":"pressure?","visibility":"Public","body":"self == Pressure"},"external_var":false},{"html_id":"queue_size?-instance-method","name":"queue_size?","doc":"Returns `true` if this enum value equals `QueueSize`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#QueueSize\">QueueSize</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":23,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L23"},"def":{"name":"queue_size?","visibility":"Public","body":"self == QueueSize"},"external_var":false},{"html_id":"radiation?-instance-method","name":"radiation?","doc":"Returns `true` if this enum value equals `Radiation`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Radiation\">Radiation</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":41,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L41"},"def":{"name":"radiation?","visibility":"Public","body":"self == Radiation"},"external_var":false},{"html_id":"roll?-instance-method","name":"roll?","doc":"Returns `true` if this enum value equals `Roll`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Roll\">Roll</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":27,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L27"},"def":{"name":"roll?","visibility":"Public","body":"self == Roll"},"external_var":false},{"html_id":"sound_pressure?-instance-method","name":"sound_pressure?","doc":"Returns `true` if this enum value equals `SoundPressure`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#SoundPressure\">SoundPressure</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":44,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L44"},"def":{"name":"sound_pressure?","visibility":"Public","body":"self == SoundPressure"},"external_var":false},{"html_id":"speed?-instance-method","name":"speed?","doc":"Returns `true` if this enum value equals `Speed`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Speed\">Speed</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":25,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L25"},"def":{"name":"speed?","visibility":"Public","body":"self == Speed"},"external_var":false},{"html_id":"switch?-instance-method","name":"switch?","doc":"Returns `true` if this enum value equals `Switch`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Switch\">Switch</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":18,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L18"},"def":{"name":"switch?","visibility":"Public","body":"self == Switch"},"external_var":false},{"html_id":"temperature?-instance-method","name":"temperature?","doc":"Returns `true` if this enum value equals `Temperature`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Temperature\">Temperature</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":11,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L11"},"def":{"name":"temperature?","visibility":"Public","body":"self == Temperature"},"external_var":false},{"html_id":"time_period?-instance-method","name":"time_period?","doc":"Returns `true` if this enum value equals `TimePeriod`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#TimePeriod\">TimePeriod</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":49,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L49"},"def":{"name":"time_period?","visibility":"Public","body":"self == TimePeriod"},"external_var":false},{"html_id":"trigger?-instance-method","name":"trigger?","doc":"Returns `true` if this enum value equals `Trigger`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Trigger\">Trigger</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":16,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L16"},"def":{"name":"trigger?","visibility":"Public","body":"self == Trigger"},"external_var":false},{"html_id":"voltage?-instance-method","name":"voltage?","doc":"Returns `true` if this enum value equals `Voltage`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Voltage\">Voltage</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":32,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L32"},"def":{"name":"voltage?","visibility":"Public","body":"self == Voltage"},"external_var":false},{"html_id":"volume?-instance-method","name":"volume?","doc":"Returns `true` if this enum value equals `Volume`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Volume\">Volume</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":50,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L50"},"def":{"name":"volume?","visibility":"Public","body":"self == Volume"},"external_var":false},{"html_id":"yaw?-instance-method","name":"yaw?","doc":"Returns `true` if this enum value equals `Yaw`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/SensorType.html#Yaw\">Yaw</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":29,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L29"},"def":{"name":"yaw?","visibility":"Public","body":"self == Yaw"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Sensor/Status","path":"PlaceOS/Driver/Interface/Sensor/Status.html","kind":"enum","full_name":"PlaceOS::Driver::Interface::Sensor::Status","name":"Status","abstract":false,"ancestors":[{"html_id":"placeos-driver/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"placeos-driver/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/interface/sensor.cr","line_number":58,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L58"}],"repository_name":"placeos-driver","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"Normal","name":"Normal","value":"0"},{"id":"Alarm","name":"Alarm","value":"1"},{"id":"Fault","name":"Fault","value":"2"},{"id":"OutOfService","name":"OutOfService","value":"3"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Sensor","kind":"module","full_name":"PlaceOS::Driver::Interface::Sensor","name":"Sensor"},"instance_methods":[{"html_id":"alarm?-instance-method","name":"alarm?","doc":"Returns `true` if this enum value equals `Alarm`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/Status.html#Alarm\">Alarm</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":60,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L60"},"def":{"name":"alarm?","visibility":"Public","body":"self == Alarm"},"external_var":false},{"html_id":"fault?-instance-method","name":"fault?","doc":"Returns `true` if this enum value equals `Fault`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/Status.html#Fault\">Fault</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":61,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L61"},"def":{"name":"fault?","visibility":"Public","body":"self == Fault"},"external_var":false},{"html_id":"normal?-instance-method","name":"normal?","doc":"Returns `true` if this enum value equals `Normal`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/Status.html#Normal\">Normal</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":59,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L59"},"def":{"name":"normal?","visibility":"Public","body":"self == Normal"},"external_var":false},{"html_id":"out_of_service?-instance-method","name":"out_of_service?","doc":"Returns `true` if this enum value equals `OutOfService`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Sensor/Status.html#OutOfService\">OutOfService</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/sensor.cr","line_number":62,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sensor.cr#L62"},"def":{"name":"out_of_service?","visibility":"Public","body":"self == OutOfService"},"external_var":false}]}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/SMS","path":"PlaceOS/Driver/Interface/SMS.html","kind":"module","full_name":"PlaceOS::Driver::Interface::SMS","name":"SMS","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/sms.cr","line_number":3,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sms.cr#L3"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface","kind":"module","full_name":"PlaceOS::Driver::Interface","name":"Interface"},"doc":"Common SMS Gateway Interface","summary":"<p>Common SMS Gateway Interface</p>","instance_methods":[{"html_id":"send_sms(phone_numbers:String|Array(String),message:String,format:String|Nil=\"SMS\",source:String|Nil=nil)-instance-method","name":"send_sms","abstract":true,"args":[{"name":"phone_numbers","external_name":"phone_numbers","restriction":"String | Array(String)"},{"name":"message","external_name":"message","restriction":"String"},{"name":"format","default_value":"\"SMS\"","external_name":"format","restriction":"String | ::Nil"},{"name":"source","default_value":"nil","external_name":"source","restriction":"String | ::Nil"}],"args_string":"(phone_numbers : String | Array(String), message : String, format : String | Nil = \"SMS\", source : String | Nil = nil)","args_html":"(phone_numbers : String | Array(String), message : String, format : String | Nil = <span class=\"s\">&quot;SMS&quot;</span>, source : String | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/placeos-driver/interface/sms.cr","line_number":4,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/sms.cr#L4"},"def":{"name":"send_sms","args":[{"name":"phone_numbers","external_name":"phone_numbers","restriction":"String | Array(String)"},{"name":"message","external_name":"message","restriction":"String"},{"name":"format","default_value":"\"SMS\"","external_name":"format","restriction":"String | ::Nil"},{"name":"source","default_value":"nil","external_name":"source","restriction":"String | ::Nil"}],"visibility":"Public","body":""},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Stoppable","path":"PlaceOS/Driver/Interface/Stoppable.html","kind":"module","full_name":"PlaceOS::Driver::Interface::Stoppable","name":"Stoppable","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/stoppable.cr","line_number":3,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/stoppable.cr#L3"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"including_types":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Camera","kind":"module","full_name":"PlaceOS::Driver::Interface::Camera","name":"Camera"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface","kind":"module","full_name":"PlaceOS::Driver::Interface","name":"Interface"},"doc":"for a device that can be stopped","summary":"<p>for a device that can be stopped</p>","instance_methods":[{"html_id":"stop(index:Int32|String=0,emergency:Bool=false)-instance-method","name":"stop","abstract":true,"args":[{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"},{"name":"emergency","default_value":"false","external_name":"emergency","restriction":"Bool"}],"args_string":"(index : Int32 | String = 0, emergency : Bool = false)","args_html":"(index : Int32 | String = <span class=\"n\">0</span>, emergency : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/placeos-driver/interface/stoppable.cr","line_number":4,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/stoppable.cr#L4"},"def":{"name":"stop","args":[{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"},{"name":"emergency","default_value":"false","external_name":"emergency","restriction":"Bool"}],"visibility":"Public","body":""},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Switchable","path":"PlaceOS/Driver/Interface/Switchable.html","kind":"module","full_name":"PlaceOS::Driver::Interface::Switchable(Input, Output)","name":"Switchable","abstract":false,"ancestors":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/InputSelection","kind":"module","full_name":"PlaceOS::Driver::Interface::InputSelection","name":"InputSelection"}],"locations":[{"filename":"src/placeos-driver/interface/switchable.cr","line_number":8,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/switchable.cr#L8"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/InputSelection","kind":"module","full_name":"PlaceOS::Driver::Interface::InputSelection","name":"InputSelection"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface","kind":"module","full_name":"PlaceOS::Driver::Interface","name":"Interface"},"instance_methods":[{"html_id":"switch(map:Hash(Input,Array(Output)),layer:SwitchLayer|Nil=nil)-instance-method","name":"switch","abstract":true,"args":[{"name":"map","external_name":"map","restriction":"Hash(Input, Array(Output))"},{"name":"layer","default_value":"nil","external_name":"layer","restriction":"SwitchLayer | ::Nil"}],"args_string":"(map : Hash(Input, Array(Output)), layer : SwitchLayer | Nil = nil)","args_html":"(map : Hash(Input, Array(Output)), layer : <a href=\"../../../PlaceOS/Driver/Interface/Switchable/SwitchLayer.html\">SwitchLayer</a> | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/placeos-driver/interface/switchable.cr","line_number":19,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/switchable.cr#L19"},"def":{"name":"switch","args":[{"name":"map","external_name":"map","restriction":"Hash(Input, Array(Output))"},{"name":"layer","default_value":"nil","external_name":"layer","restriction":"SwitchLayer | ::Nil"}],"visibility":"Public","body":""},"external_var":false}],"types":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Switchable/SwitchLayer","path":"PlaceOS/Driver/Interface/Switchable/SwitchLayer.html","kind":"enum","full_name":"PlaceOS::Driver::Interface::Switchable::SwitchLayer","name":"SwitchLayer","abstract":false,"ancestors":[{"html_id":"placeos-driver/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"placeos-driver/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/interface/switchable.cr","line_number":11,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/switchable.cr#L11"}],"repository_name":"placeos-driver","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"All","name":"All","value":"0"},{"id":"Audio","name":"Audio","value":"1"},{"id":"Video","name":"Video","value":"2"},{"id":"Data","name":"Data","value":"3"},{"id":"Data2","name":"Data2","value":"4"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Switchable","kind":"module","full_name":"PlaceOS::Driver::Interface::Switchable(Input, Output)","name":"Switchable"},"instance_methods":[{"html_id":"all?-instance-method","name":"all?","doc":"Returns `true` if this enum value equals `All`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Switchable/SwitchLayer.html#All\">All</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/switchable.cr","line_number":12,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/switchable.cr#L12"},"def":{"name":"all?","visibility":"Public","body":"self == All"},"external_var":false},{"html_id":"audio?-instance-method","name":"audio?","doc":"Returns `true` if this enum value equals `Audio`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Switchable/SwitchLayer.html#Audio\">Audio</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/switchable.cr","line_number":13,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/switchable.cr#L13"},"def":{"name":"audio?","visibility":"Public","body":"self == Audio"},"external_var":false},{"html_id":"data2?-instance-method","name":"data2?","doc":"Returns `true` if this enum value equals `Data2`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Switchable/SwitchLayer.html#Data2\">Data2</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/switchable.cr","line_number":16,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/switchable.cr#L16"},"def":{"name":"data2?","visibility":"Public","body":"self == Data2"},"external_var":false},{"html_id":"data?-instance-method","name":"data?","doc":"Returns `true` if this enum value equals `Data`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Switchable/SwitchLayer.html#Data\">Data</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/switchable.cr","line_number":15,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/switchable.cr#L15"},"def":{"name":"data?","visibility":"Public","body":"self == Data"},"external_var":false},{"html_id":"video?-instance-method","name":"video?","doc":"Returns `true` if this enum value equals `Video`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Switchable/SwitchLayer.html#Video\">Video</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/switchable.cr","line_number":14,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/switchable.cr#L14"},"def":{"name":"video?","visibility":"Public","body":"self == Video"},"external_var":false}]}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/VideoMuteable","path":"PlaceOS/Driver/Interface/VideoMuteable.html","kind":"module","full_name":"PlaceOS::Driver::Interface::VideoMuteable","name":"VideoMuteable","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/muteable.cr","line_number":16,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/muteable.cr#L16"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"including_types":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Muteable","kind":"module","full_name":"PlaceOS::Driver::Interface::Muteable","name":"Muteable"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface","kind":"module","full_name":"PlaceOS::Driver::Interface","name":"Interface"},"instance_methods":[{"html_id":"mute_video(state:Bool=true,index:Int32|String=0)-instance-method","name":"mute_video","abstract":true,"args":[{"name":"state","default_value":"true","external_name":"state","restriction":"Bool"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"args_string":"(state : Bool = true, index : Int32 | String = 0)","args_html":"(state : Bool = <span class=\"n\">true</span>, index : Int32 | String = <span class=\"n\">0</span>)","location":{"filename":"src/placeos-driver/interface/muteable.cr","line_number":17,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/muteable.cr#L17"},"def":{"name":"mute_video","args":[{"name":"state","default_value":"true","external_name":"state","restriction":"Bool"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"visibility":"Public","body":""},"external_var":false},{"html_id":"unmute_video(index:Int32|String=0)-instance-method","name":"unmute_video","abstract":false,"args":[{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"args_string":"(index : Int32 | String = 0)","args_html":"(index : Int32 | String = <span class=\"n\">0</span>)","location":{"filename":"src/placeos-driver/interface/muteable.cr","line_number":19,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/muteable.cr#L19"},"def":{"name":"unmute_video","args":[{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"visibility":"Public","body":"mute_video(false, index)"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/ZoneAccessSecurity","path":"PlaceOS/Driver/Interface/ZoneAccessSecurity.html","kind":"module","full_name":"PlaceOS::Driver::Interface::ZoneAccessSecurity","name":"ZoneAccessSecurity","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/zone_access_security.cr","line_number":4,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zone_access_security.cr#L4"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface","kind":"module","full_name":"PlaceOS::Driver::Interface","name":"Interface"},"instance_methods":[{"html_id":"card_holder_id_lookup(email:String):String|Int64|Nil-instance-method","name":"card_holder_id_lookup","doc":"using an email address, lookup the security system id for a user","summary":"<p>using an email address, lookup the security system id for a user</p>","abstract":true,"args":[{"name":"email","external_name":"email","restriction":"String"}],"args_string":"(email : String) : String | Int64 | Nil","args_html":"(email : String) : String | Int64 | Nil","location":{"filename":"src/placeos-driver/interface/zone_access_security.cr","line_number":6,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zone_access_security.cr#L6"},"def":{"name":"card_holder_id_lookup","args":[{"name":"email","external_name":"email","restriction":"String"}],"return_type":"String | Int64 | Nil","visibility":"Public","body":""},"external_var":false},{"html_id":"card_holder_lookup(id:String|Int64):CardHolderDetails-instance-method","name":"card_holder_lookup","doc":"given a card holder id, lookup the details of the card holder","summary":"<p>given a card holder id, lookup the details of the card holder</p>","abstract":true,"args":[{"name":"id","external_name":"id","restriction":"String | Int64"}],"args_string":"(id : String | Int64) : CardHolderDetails","args_html":"(id : String | Int64) : <a href=\"../../../PlaceOS/Driver/Interface/ZoneAccessSecurity/CardHolderDetails.html\">CardHolderDetails</a>","location":{"filename":"src/placeos-driver/interface/zone_access_security.cr","line_number":17,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zone_access_security.cr#L17"},"def":{"name":"card_holder_lookup","args":[{"name":"id","external_name":"id","restriction":"String | Int64"}],"return_type":"CardHolderDetails","visibility":"Public","body":""},"external_var":false},{"html_id":"zone_access_add_member(zone_id:String|Int64,card_holder_id:String|Int64,from_unix:Int64|Nil=nil,until_unix:Int64|Nil=nil)-instance-method","name":"zone_access_add_member","doc":"add a member to the zone","summary":"<p>add a member to the zone</p>","abstract":true,"args":[{"name":"zone_id","external_name":"zone_id","restriction":"String | Int64"},{"name":"card_holder_id","external_name":"card_holder_id","restriction":"String | Int64"},{"name":"from_unix","default_value":"nil","external_name":"from_unix","restriction":"Int64 | ::Nil"},{"name":"until_unix","default_value":"nil","external_name":"until_unix","restriction":"Int64 | ::Nil"}],"args_string":"(zone_id : String | Int64, card_holder_id : String | Int64, from_unix : Int64 | Nil = nil, until_unix : Int64 | Nil = nil)","args_html":"(zone_id : String | Int64, card_holder_id : String | Int64, from_unix : Int64 | Nil = <span class=\"n\">nil</span>, until_unix : Int64 | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/placeos-driver/interface/zone_access_security.cr","line_number":37,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zone_access_security.cr#L37"},"def":{"name":"zone_access_add_member","args":[{"name":"zone_id","external_name":"zone_id","restriction":"String | Int64"},{"name":"card_holder_id","external_name":"card_holder_id","restriction":"String | Int64"},{"name":"from_unix","default_value":"nil","external_name":"from_unix","restriction":"Int64 | ::Nil"},{"name":"until_unix","default_value":"nil","external_name":"until_unix","restriction":"Int64 | ::Nil"}],"visibility":"Public","body":""},"external_var":false},{"html_id":"zone_access_id_lookup(name:String,exact_match:Bool=true):String|Int64|Nil-instance-method","name":"zone_access_id_lookup","doc":"using a name, lookup the access zone id","summary":"<p>using a name, lookup the access zone id</p>","abstract":true,"args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"exact_match","default_value":"true","external_name":"exact_match","restriction":"Bool"}],"args_string":"(name : String, exact_match : Bool = true) : String | Int64 | Nil","args_html":"(name : String, exact_match : Bool = <span class=\"n\">true</span>) : String | Int64 | Nil","location":{"filename":"src/placeos-driver/interface/zone_access_security.cr","line_number":20,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zone_access_security.cr#L20"},"def":{"name":"zone_access_id_lookup","args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"exact_match","default_value":"true","external_name":"exact_match","restriction":"Bool"}],"return_type":"String | Int64 | Nil","visibility":"Public","body":""},"external_var":false},{"html_id":"zone_access_lookup(id:String|Int64):ZoneDetails-instance-method","name":"zone_access_lookup","doc":"given an access zone id, lookup the details of the zone","summary":"<p>given an access zone id, lookup the details of the zone</p>","abstract":true,"args":[{"name":"id","external_name":"id","restriction":"String | Int64"}],"args_string":"(id : String | Int64) : ZoneDetails","args_html":"(id : String | Int64) : <a href=\"../../../PlaceOS/Driver/Interface/ZoneAccessSecurity/ZoneDetails.html\">ZoneDetails</a>","location":{"filename":"src/placeos-driver/interface/zone_access_security.cr","line_number":31,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zone_access_security.cr#L31"},"def":{"name":"zone_access_lookup","args":[{"name":"id","external_name":"id","restriction":"String | Int64"}],"return_type":"ZoneDetails","visibility":"Public","body":""},"external_var":false},{"html_id":"zone_access_member?(zone_id:String|Int64,card_holder_id:String|Int64):String|Int64|Nil-instance-method","name":"zone_access_member?","doc":"return the id that represents the access permission (truthy indicates access)","summary":"<p>return the id that represents the access permission (truthy indicates access)</p>","abstract":true,"args":[{"name":"zone_id","external_name":"zone_id","restriction":"String | Int64"},{"name":"card_holder_id","external_name":"card_holder_id","restriction":"String | Int64"}],"args_string":"(zone_id : String | Int64, card_holder_id : String | Int64) : String | Int64 | Nil","args_html":"(zone_id : String | Int64, card_holder_id : String | Int64) : String | Int64 | Nil","location":{"filename":"src/placeos-driver/interface/zone_access_security.cr","line_number":34,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zone_access_security.cr#L34"},"def":{"name":"zone_access_member?","args":[{"name":"zone_id","external_name":"zone_id","restriction":"String | Int64"},{"name":"card_holder_id","external_name":"card_holder_id","restriction":"String | Int64"}],"return_type":"String | Int64 | Nil","visibility":"Public","body":""},"external_var":false},{"html_id":"zone_access_remove_member(zone_id:String|Int64,card_holder_id:String|Int64)-instance-method","name":"zone_access_remove_member","doc":"remove a member from the zone","summary":"<p>remove a member from the zone</p>","abstract":true,"args":[{"name":"zone_id","external_name":"zone_id","restriction":"String | Int64"},{"name":"card_holder_id","external_name":"card_holder_id","restriction":"String | Int64"}],"args_string":"(zone_id : String | Int64, card_holder_id : String | Int64)","args_html":"(zone_id : String | Int64, card_holder_id : String | Int64)","location":{"filename":"src/placeos-driver/interface/zone_access_security.cr","line_number":40,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zone_access_security.cr#L40"},"def":{"name":"zone_access_remove_member","args":[{"name":"zone_id","external_name":"zone_id","restriction":"String | Int64"},{"name":"card_holder_id","external_name":"card_holder_id","restriction":"String | Int64"}],"visibility":"Public","body":""},"external_var":false}],"types":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/ZoneAccessSecurity/CardHolderDetails","path":"PlaceOS/Driver/Interface/ZoneAccessSecurity/CardHolderDetails.html","kind":"struct","full_name":"PlaceOS::Driver::Interface::ZoneAccessSecurity::CardHolderDetails","name":"CardHolderDetails","abstract":true,"superclass":{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"},{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/interface/zone_access_security.cr","line_number":8,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zone_access_security.cr#L8"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"}],"extended_modules":[{"html_id":"placeos-driver/JSON/Schema","kind":"module","full_name":"JSON::Schema","name":"Schema"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/ZoneAccessSecurity","kind":"module","full_name":"PlaceOS::Driver::Interface::ZoneAccessSecurity","name":"ZoneAccessSecurity"},"constructors":[{"html_id":"new(pull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"args_string":"(pull : JSON::PullParser)","args_html":"(pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/zone_access_security.cr","line_number":9,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zone_access_security.cr#L9"},"def":{"name":"new","args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"visibility":"Public","body":"new_from_json_pull_parser(pull)"},"external_var":false},{"html_id":"new(*,__pull_for_json_serializablepull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"args_string":"(*, __pull_for_json_serializable pull : JSON::PullParser)","args_html":"(*, __pull_for_json_serializable pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/zone_access_security.cr","line_number":9,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zone_access_security.cr#L9"},"def":{"name":"new","args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"splat_index":0,"visibility":"Public","body":"_ = allocate\n_.initialize(__pull_for_json_serializable: pull)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"email:String|Nil-instance-method","name":"email","abstract":false,"location":{"filename":"src/placeos-driver/interface/zone_access_security.cr","line_number":13,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zone_access_security.cr#L13"},"def":{"name":"email","return_type":"String | ::Nil","visibility":"Public","body":"@email"},"external_var":false},{"html_id":"id:String|Int64-instance-method","name":"id","abstract":false,"location":{"filename":"src/placeos-driver/interface/zone_access_security.cr","line_number":11,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zone_access_security.cr#L11"},"def":{"name":"id","return_type":"String | Int64","visibility":"Public","body":"@id"},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/placeos-driver/interface/zone_access_security.cr","line_number":12,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zone_access_security.cr#L12"},"def":{"name":"name","return_type":"String","visibility":"Public","body":"@name"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/ZoneAccessSecurity/ZoneDetails","path":"PlaceOS/Driver/Interface/ZoneAccessSecurity/ZoneDetails.html","kind":"struct","full_name":"PlaceOS::Driver::Interface::ZoneAccessSecurity::ZoneDetails","name":"ZoneDetails","abstract":true,"superclass":{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"},{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/interface/zone_access_security.cr","line_number":22,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zone_access_security.cr#L22"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"}],"extended_modules":[{"html_id":"placeos-driver/JSON/Schema","kind":"module","full_name":"JSON::Schema","name":"Schema"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/ZoneAccessSecurity","kind":"module","full_name":"PlaceOS::Driver::Interface::ZoneAccessSecurity","name":"ZoneAccessSecurity"},"constructors":[{"html_id":"new(pull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"args_string":"(pull : JSON::PullParser)","args_html":"(pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/zone_access_security.cr","line_number":23,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zone_access_security.cr#L23"},"def":{"name":"new","args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"visibility":"Public","body":"new_from_json_pull_parser(pull)"},"external_var":false},{"html_id":"new(*,__pull_for_json_serializablepull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"args_string":"(*, __pull_for_json_serializable pull : JSON::PullParser)","args_html":"(*, __pull_for_json_serializable pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/interface/zone_access_security.cr","line_number":23,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zone_access_security.cr#L23"},"def":{"name":"new","args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"splat_index":0,"visibility":"Public","body":"_ = allocate\n_.initialize(__pull_for_json_serializable: pull)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"description:String|Nil-instance-method","name":"description","abstract":false,"location":{"filename":"src/placeos-driver/interface/zone_access_security.cr","line_number":27,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zone_access_security.cr#L27"},"def":{"name":"description","return_type":"String | ::Nil","visibility":"Public","body":"@description"},"external_var":false},{"html_id":"id:String|Int64-instance-method","name":"id","abstract":false,"location":{"filename":"src/placeos-driver/interface/zone_access_security.cr","line_number":25,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zone_access_security.cr#L25"},"def":{"name":"id","return_type":"String | Int64","visibility":"Public","body":"@id"},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/placeos-driver/interface/zone_access_security.cr","line_number":26,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zone_access_security.cr#L26"},"def":{"name":"name","return_type":"String","visibility":"Public","body":"@name"},"external_var":false}]}]},{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Zoomable","path":"PlaceOS/Driver/Interface/Zoomable.html","kind":"module","full_name":"PlaceOS::Driver::Interface::Zoomable","name":"Zoomable","abstract":false,"locations":[{"filename":"src/placeos-driver/interface/zoomable.cr","line_number":5,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zoomable.cr#L5"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"including_types":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Camera","kind":"module","full_name":"PlaceOS::Driver::Interface::Camera","name":"Camera"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface","kind":"module","full_name":"PlaceOS::Driver::Interface","name":"Interface"},"doc":"Implements the direct `zoom_to` function\n\nif the device supports continuous zoom then you should overwrite the included `zoom` function","summary":"<p>Implements the direct <code><a href=\"../../../PlaceOS/Driver/Interface/Zoomable.html#zoom_to%28position%3AFloat64%2Cauto_focus%3ABool%3Dtrue%2Cindex%3AInt32%7CString%3D0%29-instance-method\">#zoom_to</a></code> function</p>","instance_methods":[{"html_id":"zoom(direction:ZoomDirection,index:Int32|String=0)-instance-method","name":"zoom","doc":"As zoom is typically discreet we manually implement the analogue version\nSimple enough to overwrite this as required","summary":"<p>As zoom is typically discreet we manually implement the analogue version Simple enough to overwrite this as required</p>","abstract":false,"args":[{"name":"direction","external_name":"direction","restriction":"ZoomDirection"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"args_string":"(direction : ZoomDirection, index : Int32 | String = 0)","args_html":"(direction : <a href=\"../../../PlaceOS/Driver/Interface/Zoomable/ZoomDirection.html\">ZoomDirection</a>, index : Int32 | String = <span class=\"n\">0</span>)","location":{"filename":"src/placeos-driver/interface/zoomable.cr","line_number":22,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zoomable.cr#L22"},"def":{"name":"zoom","args":[{"name":"direction","external_name":"direction","restriction":"ZoomDirection"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"visibility":"Public","body":"if zoom_timer = @zoom_timer\n  zoom_timer.cancel(reason: \"new request\", terminate: true)\n  @zoom_timer = nil\nend\n\nif direction == ZoomDirection::Stop\n  return\nend\nchange = direction == ZoomDirection::In ? @zoom_step : -@zoom_step\n\n@zoom_timer = schedule.every(250.milliseconds, immediate: true) do\n  zoom_to(@zoom + change, auto_focus: false)\nend\n"},"external_var":false},{"html_id":"zoom_to(position:Float64,auto_focus:Bool=true,index:Int32|String=0)-instance-method","name":"zoom_to","doc":"This a discrete level on most cameras","summary":"<p>This a discrete level on most cameras</p>","abstract":true,"args":[{"name":"position","external_name":"position","restriction":"Float64"},{"name":"auto_focus","default_value":"true","external_name":"auto_focus","restriction":"Bool"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"args_string":"(position : Float64, auto_focus : Bool = true, index : Int32 | String = 0)","args_html":"(position : Float64, auto_focus : Bool = <span class=\"n\">true</span>, index : Int32 | String = <span class=\"n\">0</span>)","location":{"filename":"src/placeos-driver/interface/zoomable.cr","line_number":9,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zoomable.cr#L9"},"def":{"name":"zoom_to","args":[{"name":"position","external_name":"position","restriction":"Float64"},{"name":"auto_focus","default_value":"true","external_name":"auto_focus","restriction":"Bool"},{"name":"index","default_value":"0","external_name":"index","restriction":"Int32 | String"}],"visibility":"Public","body":""},"external_var":false}],"types":[{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Zoomable/ZoomDirection","path":"PlaceOS/Driver/Interface/Zoomable/ZoomDirection.html","kind":"enum","full_name":"PlaceOS::Driver::Interface::Zoomable::ZoomDirection","name":"ZoomDirection","abstract":false,"ancestors":[{"html_id":"placeos-driver/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"placeos-driver/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/interface/zoomable.cr","line_number":11,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zoomable.cr#L11"}],"repository_name":"placeos-driver","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"In","name":"In","value":"0"},{"id":"Out","name":"Out","value":"1"},{"id":"Stop","name":"Stop","value":"2"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Interface/Zoomable","kind":"module","full_name":"PlaceOS::Driver::Interface::Zoomable","name":"Zoomable"},"instance_methods":[{"html_id":"in?-instance-method","name":"in?","doc":"Returns `true` if this enum value equals `In`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Zoomable/ZoomDirection.html#In\">In</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/zoomable.cr","line_number":12,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zoomable.cr#L12"},"def":{"name":"in?","visibility":"Public","body":"self == In"},"external_var":false},{"html_id":"out?-instance-method","name":"out?","doc":"Returns `true` if this enum value equals `Out`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Zoomable/ZoomDirection.html#Out\">Out</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/zoomable.cr","line_number":13,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zoomable.cr#L13"},"def":{"name":"out?","visibility":"Public","body":"self == Out"},"external_var":false},{"html_id":"stop?-instance-method","name":"stop?","doc":"Returns `true` if this enum value equals `Stop`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Interface/Zoomable/ZoomDirection.html#Stop\">Stop</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/interface/zoomable.cr","line_number":14,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/interface/zoomable.cr#L14"},"def":{"name":"stop?","visibility":"Public","body":"self == Stop"},"external_var":false}]}]}]},{"html_id":"placeos-driver/PlaceOS/Driver/Level","path":"PlaceOS/Driver/Level.html","kind":"enum","full_name":"PlaceOS::Driver::Level","name":"Level","abstract":false,"ancestors":[{"html_id":"placeos-driver/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"placeos-driver/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver.cr","line_number":75,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L75"}],"repository_name":"placeos-driver","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"Support","name":"Support","value":"0"},{"id":"Administrator","name":"Administrator","value":"1"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver","kind":"class","full_name":"PlaceOS::Driver","name":"Driver"},"doc":"the level of security a user must have to execute a function","summary":"<p>the level of security a user must have to execute a function</p>","instance_methods":[{"html_id":"administrator?-instance-method","name":"administrator?","doc":"Returns `true` if this enum value equals `Administrator`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../PlaceOS/Driver/Level.html#Administrator\">Administrator</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver.cr","line_number":77,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L77"},"def":{"name":"administrator?","visibility":"Public","body":"self == Administrator"},"external_var":false},{"html_id":"support?-instance-method","name":"support?","doc":"Returns `true` if this enum value equals `Support`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../PlaceOS/Driver/Level.html#Support\">Support</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver.cr","line_number":76,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L76"},"def":{"name":"support?","visibility":"Public","body":"self == Support"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/ProcessManagerInterface","path":"PlaceOS/Driver/ProcessManagerInterface.html","kind":"module","full_name":"PlaceOS::Driver::ProcessManagerInterface","name":"ProcessManagerInterface","abstract":false,"locations":[{"filename":"src/placeos-driver/process_manager.cr","line_number":4,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/process_manager.cr#L4"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver","kind":"class","full_name":"PlaceOS::Driver","name":"Driver"},"instance_methods":[{"html_id":"debug(request:Protocol::Request):Nil-instance-method","name":"debug","abstract":true,"args":[{"name":"request","external_name":"request","restriction":"Protocol::Request"}],"args_string":"(request : Protocol::Request) : Nil","args_html":"(request : Protocol::Request) : Nil","location":{"filename":"src/placeos-driver/process_manager.cr","line_number":9,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/process_manager.cr#L9"},"def":{"name":"debug","args":[{"name":"request","external_name":"request","restriction":"Protocol::Request"}],"return_type":"Nil","visibility":"Public","body":""},"external_var":false},{"html_id":"exec(request:Protocol::Request):Protocol::Request-instance-method","name":"exec","abstract":true,"args":[{"name":"request","external_name":"request","restriction":"Protocol::Request"}],"args_string":"(request : Protocol::Request) : Protocol::Request","args_html":"(request : Protocol::Request) : Protocol::Request","location":{"filename":"src/placeos-driver/process_manager.cr","line_number":8,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/process_manager.cr#L8"},"def":{"name":"exec","args":[{"name":"request","external_name":"request","restriction":"Protocol::Request"}],"return_type":"Protocol::Request","visibility":"Public","body":""},"external_var":false},{"html_id":"ignore(request:Protocol::Request):Nil-instance-method","name":"ignore","abstract":true,"args":[{"name":"request","external_name":"request","restriction":"Protocol::Request"}],"args_string":"(request : Protocol::Request) : Nil","args_html":"(request : Protocol::Request) : Nil","location":{"filename":"src/placeos-driver/process_manager.cr","line_number":10,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/process_manager.cr#L10"},"def":{"name":"ignore","args":[{"name":"request","external_name":"request","restriction":"Protocol::Request"}],"return_type":"Nil","visibility":"Public","body":""},"external_var":false},{"html_id":"info(request:Protocol::Request):Protocol::Request-instance-method","name":"info","abstract":true,"args":[{"name":"request","external_name":"request","restriction":"Protocol::Request"}],"args_string":"(request : Protocol::Request) : Protocol::Request","args_html":"(request : Protocol::Request) : Protocol::Request","location":{"filename":"src/placeos-driver/process_manager.cr","line_number":11,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/process_manager.cr#L11"},"def":{"name":"info","args":[{"name":"request","external_name":"request","restriction":"Protocol::Request"}],"return_type":"Protocol::Request","visibility":"Public","body":""},"external_var":false},{"html_id":"start(request:Protocol::Request,driver_model=nil):Protocol::Request-instance-method","name":"start","abstract":true,"args":[{"name":"request","external_name":"request","restriction":"Protocol::Request"},{"name":"driver_model","default_value":"nil","external_name":"driver_model","restriction":""}],"args_string":"(request : Protocol::Request, driver_model = nil) : Protocol::Request","args_html":"(request : Protocol::Request, driver_model = <span class=\"n\">nil</span>) : Protocol::Request","location":{"filename":"src/placeos-driver/process_manager.cr","line_number":5,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/process_manager.cr#L5"},"def":{"name":"start","args":[{"name":"request","external_name":"request","restriction":"Protocol::Request"},{"name":"driver_model","default_value":"nil","external_name":"driver_model","restriction":""}],"return_type":"Protocol::Request","visibility":"Public","body":""},"external_var":false},{"html_id":"stop(request:Protocol::Request):Nil-instance-method","name":"stop","abstract":true,"args":[{"name":"request","external_name":"request","restriction":"Protocol::Request"}],"args_string":"(request : Protocol::Request) : Nil","args_html":"(request : Protocol::Request) : Nil","location":{"filename":"src/placeos-driver/process_manager.cr","line_number":6,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/process_manager.cr#L6"},"def":{"name":"stop","args":[{"name":"request","external_name":"request","restriction":"Protocol::Request"}],"return_type":"Nil","visibility":"Public","body":""},"external_var":false},{"html_id":"terminate:Nil-instance-method","name":"terminate","abstract":true,"location":{"filename":"src/placeos-driver/process_manager.cr","line_number":12,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/process_manager.cr#L12"},"def":{"name":"terminate","return_type":"Nil","visibility":"Public","body":""},"external_var":false},{"html_id":"update(request:Protocol::Request):Nil-instance-method","name":"update","abstract":true,"args":[{"name":"request","external_name":"request","restriction":"Protocol::Request"}],"args_string":"(request : Protocol::Request) : Nil","args_html":"(request : Protocol::Request) : Nil","location":{"filename":"src/placeos-driver/process_manager.cr","line_number":7,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/process_manager.cr#L7"},"def":{"name":"update","args":[{"name":"request","external_name":"request","restriction":"Protocol::Request"}],"return_type":"Nil","visibility":"Public","body":""},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Proxy","path":"PlaceOS/Driver/Proxy.html","kind":"module","full_name":"PlaceOS::Driver::Proxy","name":"Proxy","abstract":false,"locations":[{"filename":"src/placeos-driver.cr","line_number":58,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L58"},{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":19,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L19"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver","kind":"class","full_name":"PlaceOS::Driver","name":"Driver"},"doc":"This is a helper class for integrating internal components that communicate\ndirectly to core but are external to core, such as the API or Triggers\n\nMetadata is cached for the lifetime of the object, so you should not cache\nthis object for extended periods. It should be considered disposable with a\ntime delta that is considered reasonable in the face of change.\ni.e eventual consistency","summary":"<p>This is a helper class for integrating internal components that communicate directly to core but are external to core, such as the API or Triggers</p>","types":[{"html_id":"placeos-driver/PlaceOS/Driver/Proxy/Driver","path":"PlaceOS/Driver/Proxy/Driver.html","kind":"struct","full_name":"PlaceOS::Driver::Proxy::Driver","name":"Driver","abstract":false,"superclass":{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/proxy/driver.cr","line_number":3,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/driver.cr#L3"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Proxy","kind":"module","full_name":"PlaceOS::Driver::Proxy","name":"Proxy"},"constructors":[{"html_id":"new(reply_id:String,module_name:String,index:Int32,module_id:String,system:PlaceOS::Driver::Proxy::System,metadata:PlaceOS::Driver::DriverModel::Metadata)-class-method","name":"new","abstract":false,"args":[{"name":"reply_id","external_name":"reply_id","restriction":"String"},{"name":"module_name","external_name":"module_name","restriction":"String"},{"name":"index","external_name":"index","restriction":"Int32"},{"name":"module_id","external_name":"module_id","restriction":"String"},{"name":"system","external_name":"system","restriction":"PlaceOS::Driver::Proxy::System"},{"name":"metadata","external_name":"metadata","restriction":"PlaceOS::Driver::DriverModel::Metadata"}],"args_string":"(reply_id : String, module_name : String, index : Int32, module_id : String, system : PlaceOS::Driver::Proxy::System, metadata : PlaceOS::Driver::DriverModel::Metadata)","args_html":"(reply_id : String, module_name : String, index : Int32, module_id : String, system : <a href=\"../../../PlaceOS/Driver/Proxy/System.html\">PlaceOS::Driver::Proxy::System</a>, metadata : <a href=\"../../../PlaceOS/Driver/DriverModel/Metadata.html\">PlaceOS::Driver::DriverModel::Metadata</a>)","location":{"filename":"src/placeos-driver/proxy/driver.cr","line_number":4,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/driver.cr#L4"},"def":{"name":"new","args":[{"name":"reply_id","external_name":"reply_id","restriction":"String"},{"name":"module_name","external_name":"module_name","restriction":"String"},{"name":"index","external_name":"index","restriction":"Int32"},{"name":"module_id","external_name":"module_id","restriction":"String"},{"name":"system","external_name":"system","restriction":"PlaceOS::Driver::Proxy::System"},{"name":"metadata","external_name":"metadata","restriction":"PlaceOS::Driver::DriverModel::Metadata"}],"visibility":"Public","body":"_ = allocate\n_.initialize(reply_id, module_name, index, module_id, system, metadata)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"[](status)-instance-method","name":"[]","abstract":false,"args":[{"name":"status","external_name":"status","restriction":""}],"args_string":"(status)","args_html":"(status)","location":{"filename":"src/placeos-driver/proxy/driver.cr","line_number":17,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/driver.cr#L17"},"def":{"name":"[]","args":[{"name":"status","external_name":"status","restriction":""}],"visibility":"Public","body":"value = @status[status]\nJSON.parse(value)\n"},"external_var":false},{"html_id":"[]=(status,value)-instance-method","name":"[]=","doc":"This deliberately prevents compilation if called from driver code","summary":"<p>This deliberately prevents compilation if called from driver code</p>","abstract":false,"args":[{"name":"status","external_name":"status","restriction":""},{"name":"value","external_name":"value","restriction":""}],"args_string":"(status, value)","args_html":"(status, value)","location":{"filename":"src/placeos-driver/proxy/driver.cr","line_number":49,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/driver.cr#L49"},"def":{"name":"[]=","args":[{"name":"status","external_name":"status","restriction":""},{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"{{ raise(\"Remote drivers are read only. Please use the public interface to modify state\") }}"},"external_var":false},{"html_id":"[]?(status)-instance-method","name":"[]?","abstract":false,"args":[{"name":"status","external_name":"status","restriction":""}],"args_string":"(status)","args_html":"(status)","location":{"filename":"src/placeos-driver/proxy/driver.cr","line_number":22,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/driver.cr#L22"},"def":{"name":"[]?","args":[{"name":"status","external_name":"status","restriction":""}],"visibility":"Public","body":"value = @status[status]?\nif value\n  JSON.parse(value)\nend\n"},"external_var":false},{"html_id":"__metadata__:PlaceOS::Driver::DriverModel::Metadata-instance-method","name":"__metadata__","abstract":false,"location":{"filename":"src/placeos-driver/proxy/driver.cr","line_number":36,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/driver.cr#L36"},"def":{"name":"__metadata__","visibility":"Public","body":"@metadata"},"external_var":false},{"html_id":"__send__(function_name:String|Symbol,arguments:Array|Tuple=Tuple.new,named_args:NamedTuple|Hash=NamedTuple.new)-instance-method","name":"__send__","doc":"provide a programatic way of calling a remote function similar to Ruby\narray and hash types required for dynamic invocation across drivers","summary":"<p>provide a programatic way of calling a remote function similar to Ruby array and hash types required for dynamic invocation across drivers</p>","abstract":false,"args":[{"name":"function_name","external_name":"function_name","restriction":"String | Symbol"},{"name":"arguments","default_value":"Tuple.new","external_name":"arguments","restriction":"Array | Tuple"},{"name":"named_args","default_value":"NamedTuple.new","external_name":"named_args","restriction":"NamedTuple | Hash"}],"args_string":"(function_name : String | Symbol, arguments : Array | Tuple = Tuple.new, named_args : NamedTuple | Hash = NamedTuple.new)","args_html":"(function_name : String | Symbol, arguments : Array | Tuple = <span class=\"t\">Tuple</span>.new, named_args : NamedTuple | Hash = <span class=\"t\">NamedTuple</span>.new)","location":{"filename":"src/placeos-driver/proxy/driver.cr","line_number":94,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/driver.cr#L94"},"def":{"name":"__send__","args":[{"name":"function_name","external_name":"function_name","restriction":"String | Symbol"},{"name":"arguments","default_value":"Tuple.new","external_name":"arguments","restriction":"Array | Tuple"},{"name":"named_args","default_value":"NamedTuple.new","external_name":"named_args","restriction":"NamedTuple | Hash"}],"visibility":"Public","body":"function_name = function_name.to_s\nfunction = @metadata.interface[function_name]?\n__exec_request__(function_name, function, arguments, named_args)\n"},"external_var":false},{"html_id":"__status__-instance-method","name":"__status__","abstract":false,"location":{"filename":"src/placeos-driver/proxy/driver.cr","line_number":40,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/driver.cr#L40"},"def":{"name":"__status__","visibility":"Public","body":"@status.to_h"},"external_var":false},{"html_id":"__status_keys__-instance-method","name":"__status_keys__","abstract":false,"location":{"filename":"src/placeos-driver/proxy/driver.cr","line_number":44,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/driver.cr#L44"},"def":{"name":"__status_keys__","visibility":"Public","body":"@status.keys"},"external_var":false},{"html_id":"implements?(interface):Bool-instance-method","name":"implements?","abstract":false,"args":[{"name":"interface","external_name":"interface","restriction":""}],"args_string":"(interface) : Bool","args_html":"(interface) : Bool","location":{"filename":"src/placeos-driver/proxy/driver.cr","line_number":53,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/driver.cr#L53"},"def":{"name":"implements?","args":[{"name":"interface","external_name":"interface","restriction":""}],"return_type":"Bool","visibility":"Public","body":"(@metadata.implements.includes?(interface.to_s)) || (!!@metadata.interface[interface.to_s]?)"},"external_var":false},{"html_id":"index:Int32-instance-method","name":"index","abstract":false,"location":{"filename":"src/placeos-driver/proxy/driver.cr","line_number":15,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/driver.cr#L15"},"def":{"name":"index","visibility":"Public","body":"@index"},"external_var":false},{"html_id":"module_id:String-instance-method","name":"module_id","abstract":false,"location":{"filename":"src/placeos-driver/proxy/driver.cr","line_number":15,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/driver.cr#L15"},"def":{"name":"module_id","visibility":"Public","body":"@module_id"},"external_var":false},{"html_id":"module_name:String-instance-method","name":"module_name","abstract":false,"location":{"filename":"src/placeos-driver/proxy/driver.cr","line_number":15,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/driver.cr#L15"},"def":{"name":"module_name","visibility":"Public","body":"@module_name"},"external_var":false},{"html_id":"status(klass,key)-instance-method","name":"status","abstract":false,"args":[{"name":"klass","external_name":"klass","restriction":""},{"name":"key","external_name":"key","restriction":""}],"args_string":"(klass, key)","args_html":"(klass, key)","location":{"filename":"src/placeos-driver/proxy/driver.cr","line_number":27,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/driver.cr#L27"},"def":{"name":"status","args":[{"name":"klass","external_name":"klass","restriction":""},{"name":"key","external_name":"key","restriction":""}],"visibility":"Public","body":"klass.from_json(@status[key.to_s])"},"external_var":false},{"html_id":"status?(klass,key)-instance-method","name":"status?","abstract":false,"args":[{"name":"klass","external_name":"klass","restriction":""},{"name":"key","external_name":"key","restriction":""}],"args_string":"(klass, key)","args_html":"(klass, key)","location":{"filename":"src/placeos-driver/proxy/driver.cr","line_number":31,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/driver.cr#L31"},"def":{"name":"status?","args":[{"name":"klass","external_name":"klass","restriction":""},{"name":"key","external_name":"key","restriction":""}],"visibility":"Public","body":"value = @status[key.to_s]?\nif value\n  klass.from_json(value)\nend\n"},"external_var":false},{"html_id":"subscribe(status,&callback:PlaceOS::Driver::Subscriptions::IndirectSubscription,String->Nil):PlaceOS::Driver::Subscriptions::IndirectSubscription-instance-method","name":"subscribe","doc":"All subscriptions to external drivers should be indirect as the driver might\nbe swapped into a completely different system - whilst we've looked up the id\nof this instance of a driver, it's expected that this object is short lived","summary":"<p>All subscriptions to external drivers should be indirect as the driver might be swapped into a completely different system - whilst we've looked up the id of this instance of a driver, it's expected that this object is short lived</p>","abstract":false,"args":[{"name":"status","external_name":"status","restriction":""}],"args_string":"(status, &callback : PlaceOS::Driver::Subscriptions::IndirectSubscription, String -> Nil) : PlaceOS::Driver::Subscriptions::IndirectSubscription","args_html":"(status, &callback : PlaceOS::Driver::Subscriptions::IndirectSubscription, String -> Nil) : PlaceOS::Driver::Subscriptions::IndirectSubscription","location":{"filename":"src/placeos-driver/proxy/driver.cr","line_number":60,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/driver.cr#L60"},"def":{"name":"subscribe","args":[{"name":"status","external_name":"status","restriction":""}],"yields":2,"block_arity":2,"block_arg":{"name":"callback","external_name":"callback","restriction":"(PlaceOS::Driver::Subscriptions::IndirectSubscription, String -> Nil)"},"return_type":"PlaceOS::Driver::Subscriptions::IndirectSubscription","visibility":"Public","body":"@system.subscribe(@module_name, @index, status, &callback)"},"external_var":false}],"macros":[{"html_id":"method_missing(call)-macro","name":"method_missing","doc":"Don't raise errors directly.\nEnsure they are logged and raise if the response is requested","summary":"<p>Don't raise errors directly.</p>","abstract":false,"args":[{"name":"call","external_name":"call","restriction":""}],"args_string":"(call)","args_html":"(call)","location":{"filename":"src/placeos-driver/proxy/driver.cr","line_number":66,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/driver.cr#L66"},"def":{"name":"method_missing","args":[{"name":"call","external_name":"call","restriction":""}],"visibility":"Public","body":"    \n{% if call.name.id.stringify == \"__send__\"\n  raise(\"error with dynamic cross module invocation. Types don't match __send__ interface: #{call.args.inspect}\")\nend %}\n\n    function_name = \n{{ call.name.id.stringify }}\n\n    function = @metadata.interface[function_name]?\n\n    \n# obtain the arguments provided\n\n    \n{% if call.args.size == 0 %}\n      arguments = Tuple.new\n    {% else %}\n      arguments = {{ call.args }}\n    {% end %}\n\n    \n{% if (!call.named_args.is_a?(Nop)) && call.named_args.size > 0 %}\n      named_args = {\n        {% for arg, index in call.named_args %}\n          {{ arg.name.stringify.id }}: {{ arg.value }},\n        {% end %}\n      }\n    {% else %}\n      named_args = NamedTuple.new\n    {% end %}\n\n\n    \n# Execute is deferred so execution flow isn't interruped. }\n\n    \n# Can use `.get` to syncronise\n\n    __exec_request__(function_name, function, arguments, named_args)\n  \n"}}]},{"html_id":"placeos-driver/PlaceOS/Driver/Proxy/Drivers","path":"PlaceOS/Driver/Proxy/Drivers.html","kind":"struct","full_name":"PlaceOS::Driver::Proxy::Drivers","name":"Drivers","abstract":false,"superclass":{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"placeos-driver/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/proxy/drivers.cr","line_number":5,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/drivers.cr#L5"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"placeos-driver/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Proxy","kind":"module","full_name":"PlaceOS::Driver::Proxy","name":"Proxy"},"constructors":[{"html_id":"new(drivers:Array(PlaceOS::Driver::Proxy::Driver))-class-method","name":"new","abstract":false,"args":[{"name":"drivers","external_name":"drivers","restriction":"Array(PlaceOS::Driver::Proxy::Driver)"}],"args_string":"(drivers : Array(PlaceOS::Driver::Proxy::Driver))","args_html":"(drivers : Array(<a href=\"../../../PlaceOS/Driver/Proxy/Driver.html\">PlaceOS::Driver::Proxy::Driver</a>))","location":{"filename":"src/placeos-driver/proxy/drivers.cr","line_number":8,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/drivers.cr#L8"},"def":{"name":"new","args":[{"name":"drivers","external_name":"drivers","restriction":"Array(PlaceOS::Driver::Proxy::Driver)"}],"visibility":"Public","body":"_ = allocate\n_.initialize(drivers)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"[](index:Int32):PlaceOS::Driver::Proxy::Driver-instance-method","name":"[]","abstract":false,"args":[{"name":"index","external_name":"index","restriction":"Int32"}],"args_string":"(index : Int32) : PlaceOS::Driver::Proxy::Driver","args_html":"(index : Int32) : <a href=\"../../../PlaceOS/Driver/Proxy/Driver.html\">PlaceOS::Driver::Proxy::Driver</a>","location":{"filename":"src/placeos-driver/proxy/drivers.cr","line_number":11,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/drivers.cr#L11"},"def":{"name":"[]","args":[{"name":"index","external_name":"index","restriction":"Int32"}],"return_type":"PlaceOS::Driver::Proxy::Driver","visibility":"Public","body":"@drivers[index]"},"external_var":false},{"html_id":"[]=(status,value)-instance-method","name":"[]=","doc":"This deliberately prevents compilation if called from driver code","summary":"<p>This deliberately prevents compilation if called from driver code</p>","abstract":false,"args":[{"name":"status","external_name":"status","restriction":""},{"name":"value","external_name":"value","restriction":""}],"args_string":"(status, value)","args_html":"(status, value)","location":{"filename":"src/placeos-driver/proxy/drivers.cr","line_number":30,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/drivers.cr#L30"},"def":{"name":"[]=","args":[{"name":"status","external_name":"status","restriction":""},{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"{{ raise(\"Remote drivers are read only. Please use the public interface to modify state\") }}"},"external_var":false},{"html_id":"[]?(index:Int32):PlaceOS::Driver::Proxy::Driver|Nil-instance-method","name":"[]?","abstract":false,"args":[{"name":"index","external_name":"index","restriction":"Int32"}],"args_string":"(index : Int32) : PlaceOS::Driver::Proxy::Driver | Nil","args_html":"(index : Int32) : <a href=\"../../../PlaceOS/Driver/Proxy/Driver.html\">PlaceOS::Driver::Proxy::Driver</a> | Nil","location":{"filename":"src/placeos-driver/proxy/drivers.cr","line_number":15,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/drivers.cr#L15"},"def":{"name":"[]?","args":[{"name":"index","external_name":"index","restriction":"Int32"}],"return_type":"PlaceOS::Driver::Proxy::Driver | ::Nil","visibility":"Public","body":"@drivers[index]?"},"external_var":false},{"html_id":"each(&)-instance-method","name":"each","doc":"Must yield this collection's elements to the block.","summary":"<p>Must yield this collection's elements to the block.</p>","abstract":false,"location":{"filename":"src/placeos-driver/proxy/drivers.cr","line_number":23,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/drivers.cr#L23"},"def":{"name":"each","yields":1,"block_arity":1,"visibility":"Public","body":"@drivers.each do |driver|\n  yield driver\nend"},"external_var":false},{"html_id":"implements?(interface):Bool-instance-method","name":"implements?","abstract":false,"args":[{"name":"interface","external_name":"interface","restriction":""}],"args_string":"(interface) : Bool","args_html":"(interface) : Bool","location":{"filename":"src/placeos-driver/proxy/drivers.cr","line_number":34,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/drivers.cr#L34"},"def":{"name":"implements?","args":[{"name":"interface","external_name":"interface","restriction":""}],"return_type":"Bool","visibility":"Public","body":"does = false\ninterface = interface.to_s\n@drivers.each do |driver|\n  if driver.implements?(interface)\n    does = true\n  else\n    does = false\n    break\n  end\nend\ndoes\n"},"external_var":false},{"html_id":"size-instance-method","name":"size","doc":"Returns the number of elements in the collection.\n\n```\n[1, 2, 3, 4].size # => 4\n```","summary":"<p>Returns the number of elements in the collection.</p>","abstract":false,"location":{"filename":"src/placeos-driver/proxy/drivers.cr","line_number":19,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/drivers.cr#L19"},"def":{"name":"size","visibility":"Public","body":"@drivers.size"},"external_var":false},{"html_id":"subscribe(status,&_callback:PlaceOS::Driver::Subscriptions::IndirectSubscription,String->Nil):PlaceOS::Driver::Subscriptions::IndirectSubscription-instance-method","name":"subscribe","doc":"This deliberately prevents compilation if called from driver code","summary":"<p>This deliberately prevents compilation if called from driver code</p>","abstract":false,"args":[{"name":"status","external_name":"status","restriction":""}],"args_string":"(status, &_callback : PlaceOS::Driver::Subscriptions::IndirectSubscription, String -> Nil) : PlaceOS::Driver::Subscriptions::IndirectSubscription","args_html":"(status, &_callback : PlaceOS::Driver::Subscriptions::IndirectSubscription, String -> Nil) : PlaceOS::Driver::Subscriptions::IndirectSubscription","location":{"filename":"src/placeos-driver/proxy/drivers.cr","line_number":50,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/drivers.cr#L50"},"def":{"name":"subscribe","args":[{"name":"status","external_name":"status","restriction":""}],"yields":2,"block_arity":2,"block_arg":{"name":"_callback","external_name":"_callback","restriction":"(PlaceOS::Driver::Subscriptions::IndirectSubscription, String -> Nil)"},"return_type":"PlaceOS::Driver::Subscriptions::IndirectSubscription","visibility":"Public","body":"{{ raise(\"Can't subscribe to state on a collection of drivers\") }}"},"external_var":false}],"macros":[{"html_id":"method_missing(call)-macro","name":"method_missing","doc":"Collect all the futures from the function calls and make them available to the user","summary":"<p>Collect all the futures from the function calls and make them available to the user</p>","abstract":false,"args":[{"name":"call","external_name":"call","restriction":""}],"args_string":"(call)","args_html":"(call)","location":{"filename":"src/placeos-driver/proxy/drivers.cr","line_number":76,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/drivers.cr#L76"},"def":{"name":"method_missing","args":[{"name":"call","external_name":"call","restriction":""}],"visibility":"Public","body":"    results = @drivers.map do |driver|\n      begin\n        driver.\n{{ call.name.id }}\n( \n{{ call.args.splat }}\n \n{% if (!call.named_args.is_a?(Nop)) && call.named_args.size > 0 %}, {{ call.named_args.double_splat }} {% end %}\n )\n      rescue \nerror\n        ::Future::Compute(JSON::Any).new(false) \n{ raise \nerror }\n      \nend\n    \nend\n\n    \n#}# TODO: at some point in the future use a future here. Currently blows up the compiler\n\n    Responses.new(results)\n  \n"}}],"types":[{"html_id":"placeos-driver/PlaceOS/Driver/Proxy/Drivers/Responses","path":"PlaceOS/Driver/Proxy/Drivers/Responses.html","kind":"class","full_name":"PlaceOS::Driver::Proxy::Drivers::Responses","name":"Responses","abstract":false,"superclass":{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/proxy/drivers.cr","line_number":54,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/drivers.cr#L54"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Proxy/Drivers","kind":"struct","full_name":"PlaceOS::Driver::Proxy::Drivers","name":"Drivers"},"constructors":[{"html_id":"new(results:Array(Future::Compute(JSON::Any)))-class-method","name":"new","abstract":false,"args":[{"name":"results","external_name":"results","restriction":"Array(::Future::Compute(JSON::Any))"}],"args_string":"(results : Array(Future::Compute(JSON::Any)))","args_html":"(results : Array(Future::Compute(JSON::Any)))","location":{"filename":"src/placeos-driver/proxy/drivers.cr","line_number":55,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/drivers.cr#L55"},"def":{"name":"new","args":[{"name":"results","external_name":"results","restriction":"Array(::Future::Compute(JSON::Any))"}],"visibility":"Public","body":"_ = allocate\n_.initialize(results)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"get(raise_on_error:Bool=false):Array(JSON::Any)-instance-method","name":"get","abstract":false,"args":[{"name":"raise_on_error","default_value":"false","external_name":"raise_on_error","restriction":"Bool"}],"args_string":"(raise_on_error : Bool = false) : Array(JSON::Any)","args_html":"(raise_on_error : Bool = <span class=\"n\">false</span>) : Array(JSON::Any)","location":{"filename":"src/placeos-driver/proxy/drivers.cr","line_number":60,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/drivers.cr#L60"},"def":{"name":"get","args":[{"name":"raise_on_error","default_value":"false","external_name":"raise_on_error","restriction":"Bool"}],"return_type":"Array(JSON::Any)","visibility":"Public","body":"computed = @computed\nif computed\n  return computed\nend\n@computed = computed = @results.compact_map do |result|\n  begin\n    result.get\n  rescue error\n    if raise_on_error\n      raise(error)\n    end\n    nil\n  end\nend\ncomputed\n"},"external_var":false}]}]},{"html_id":"placeos-driver/PlaceOS/Driver/Proxy/RemoteDriver","path":"PlaceOS/Driver/Proxy/RemoteDriver.html","kind":"class","full_name":"PlaceOS::Driver::Proxy::RemoteDriver","name":"RemoteDriver","abstract":false,"superclass":{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":20,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L20"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"CORE_NAMESPACE","name":"CORE_NAMESPACE","value":"\"core\""}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Proxy","kind":"module","full_name":"PlaceOS::Driver::Proxy","name":"Proxy"},"class_methods":[{"html_id":"default_discovery:Clustering::Discovery-class-method","name":"default_discovery","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":23,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L23"},"def":{"name":"default_discovery","return_type":"Clustering::Discovery","visibility":"Public","body":"if (__temp_154 = @@default_discovery).nil?\n  @@default_discovery = (begin\n    manager = RedisServiceManager.new(service: CORE_NAMESPACE, redis: Driver::RedisStorage.shared_redis_client, lock: Driver::RedisStorage.redis_lock)\n    Clustering::Discovery.new(manager)\n  end)\nelse\n  __temp_154\nend"},"external_var":false},{"html_id":"get_parts(module_id:String|Symbol):Tuple(String,Int32)-class-method","name":"get_parts","doc":"Extract module name and module id from string\ne.g. \"Display_3\" => {\"Display\", 3}\n\"Display\" => {\"Display\", 1}\n\"My_Display\" => {\"My_Display\", 1}","summary":"<p>Extract module name and module id from string e.g.</p>","abstract":false,"args":[{"name":"module_id","external_name":"module_id","restriction":"String | Symbol"}],"args_string":"(module_id : String | Symbol) : Tuple(String, Int32)","args_html":"(module_id : String | Symbol) : Tuple(String, Int32)","location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":266,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L266"},"def":{"name":"get_parts","args":[{"name":"module_id","external_name":"module_id","restriction":"String | Symbol"}],"return_type":"::Tuple(String, Int32)","visibility":"Public","body":"if module_id.is_a?(Symbol)\n  module_id = module_id.to_s\nend\nmod_name, match, index = module_id.rpartition('_')\nif match.empty?\n  {module_id, 1}\nelse\n  idx = index.to_i?\n  idx ? {mod_name, idx} : {module_id, 1}\nend\n"},"external_var":false}],"constructors":[{"html_id":"new(sys_id:String,module_name:String,index:Int32,discovery:Clustering::Discovery=RemoteDriver.default_discovery,user_id:String|Nil=nil,&edge_id:String->String)-class-method","name":"new","abstract":false,"args":[{"name":"sys_id","external_name":"sys_id","restriction":"String"},{"name":"module_name","external_name":"module_name","restriction":"String"},{"name":"index","external_name":"index","restriction":"Int32"},{"name":"discovery","default_value":"RemoteDriver.default_discovery","external_name":"discovery","restriction":"Clustering::Discovery"},{"name":"user_id","default_value":"nil","external_name":"user_id","restriction":"String | ::Nil"}],"args_string":"(sys_id : String, module_name : String, index : Int32, discovery : Clustering::Discovery = RemoteDriver.default_discovery, user_id : String | Nil = nil, &edge_id : String -> String)","args_html":"(sys_id : String, module_name : String, index : Int32, discovery : Clustering::Discovery = <span class=\"t\">RemoteDriver</span>.default_discovery, user_id : String | Nil = <span class=\"n\">nil</span>, &edge_id : String -> String)","location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":78,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L78"},"def":{"name":"new","args":[{"name":"sys_id","external_name":"sys_id","restriction":"String"},{"name":"module_name","external_name":"module_name","restriction":"String"},{"name":"index","external_name":"index","restriction":"Int32"},{"name":"discovery","default_value":"RemoteDriver.default_discovery","external_name":"discovery","restriction":"Clustering::Discovery"},{"name":"user_id","default_value":"nil","external_name":"user_id","restriction":"String | ::Nil"}],"yields":1,"block_arity":1,"block_arg":{"name":"edge_id","external_name":"edge_id","restriction":"(String -> String)"},"visibility":"Public","body":"_ = allocate\n_.initialize(sys_id, module_name, index, discovery, user_id, &edge_id) do |_arg0|\n  yield _arg0\nend\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(module_id:String,sys_id:String,module_name:String,index:Int32=1,discovery:Clustering::Discovery=RemoteDriver.default_discovery,user_id:String|Nil=nil,&edge_id:String->String)-class-method","name":"new","abstract":false,"args":[{"name":"module_id","external_name":"module_id","restriction":"String"},{"name":"sys_id","external_name":"sys_id","restriction":"String"},{"name":"module_name","external_name":"module_name","restriction":"String"},{"name":"index","default_value":"1","external_name":"index","restriction":"Int32"},{"name":"discovery","default_value":"RemoteDriver.default_discovery","external_name":"discovery","restriction":"Clustering::Discovery"},{"name":"user_id","default_value":"nil","external_name":"user_id","restriction":"String | ::Nil"}],"args_string":"(module_id : String, sys_id : String, module_name : String, index : Int32 = 1, discovery : Clustering::Discovery = RemoteDriver.default_discovery, user_id : String | Nil = nil, &edge_id : String -> String)","args_html":"(module_id : String, sys_id : String, module_name : String, index : Int32 = <span class=\"n\">1</span>, discovery : Clustering::Discovery = <span class=\"t\">RemoteDriver</span>.default_discovery, user_id : String | Nil = <span class=\"n\">nil</span>, &edge_id : String -> String)","location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":89,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L89"},"def":{"name":"new","args":[{"name":"module_id","external_name":"module_id","restriction":"String"},{"name":"sys_id","external_name":"sys_id","restriction":"String"},{"name":"module_name","external_name":"module_name","restriction":"String"},{"name":"index","default_value":"1","external_name":"index","restriction":"Int32"},{"name":"discovery","default_value":"RemoteDriver.default_discovery","external_name":"discovery","restriction":"Clustering::Discovery"},{"name":"user_id","default_value":"nil","external_name":"user_id","restriction":"String | ::Nil"}],"yields":1,"block_arity":1,"block_arg":{"name":"edge_id","external_name":"edge_id","restriction":"(String -> String)"},"visibility":"Public","body":"_ = allocate\n_.initialize(module_id, sys_id, module_name, index, discovery, user_id, &edge_id) do |_arg0|\n  yield _arg0\nend\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"[](status)-instance-method","name":"[]","abstract":false,"args":[{"name":"status","external_name":"status","restriction":""}],"args_string":"(status)","args_html":"(status)","location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":219,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L219"},"def":{"name":"[]","args":[{"name":"status","external_name":"status","restriction":""}],"visibility":"Public","body":"value = status[status]\nJSON.parse(value)\n"},"external_var":false},{"html_id":"[]?(status)-instance-method","name":"[]?","abstract":false,"args":[{"name":"status","external_name":"status","restriction":""}],"args_string":"(status)","args_html":"(status)","location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":224,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L224"},"def":{"name":"[]?","args":[{"name":"status","external_name":"status","restriction":""}],"visibility":"Public","body":"value = status[status]?\nif value\n  JSON.parse(value)\nend\n"},"external_var":false},{"html_id":"debug(request_id:String|Nil=nil)-instance-method","name":"debug","doc":"Returns a websocket that sends debugging logging to the remote\nEach message consists of an array `[0, \"message\"]`\nEasiest way to parse is: `Tuple(Logger::Severity, String).from_json(%([0, \"test\"]))`","summary":"<p>Returns a websocket that sends debugging logging to the remote Each message consists of an array <code>[0, &quot;message&quot;]</code> Easiest way to parse is: <code>Tuple(Logger::Severity, String).from_json(%([0, &quot;test&quot;]))</code></p>","abstract":false,"args":[{"name":"request_id","default_value":"nil","external_name":"request_id","restriction":"String | ::Nil"}],"args_string":"(request_id : String | Nil = nil)","args_html":"(request_id : String | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":242,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L242"},"def":{"name":"debug","args":[{"name":"request_id","default_value":"nil","external_name":"request_id","restriction":"String | ::Nil"}],"visibility":"Public","body":"module_id = module_id?\nif module_id\nelse\n  raise(Error.new(ErrorCode::ModuleNotFound, \"could not find module id\", *@error_details))\nend\nCore::Client.client(which_core, request_id) do |client|\n  client.debug(module_id)\nend\n"},"external_var":false},{"html_id":"exec(security:Clearance,function:String,args=nil,named_args=nil,request_id:String|Nil=nil,user_id:String|Nil=@user_id):Tuple(String,Int32)-instance-method","name":"exec","doc":"Executes a request against the appropriate core and returns the JSON result","summary":"<p>Executes a request against the appropriate core and returns the JSON result</p>","abstract":false,"args":[{"name":"security","external_name":"security","restriction":"Clearance"},{"name":"function","external_name":"function","restriction":"String"},{"name":"args","default_value":"nil","external_name":"args","restriction":""},{"name":"named_args","default_value":"nil","external_name":"named_args","restriction":""},{"name":"request_id","default_value":"nil","external_name":"request_id","restriction":"String | ::Nil"},{"name":"user_id","default_value":"@user_id","external_name":"user_id","restriction":"String | ::Nil"}],"args_string":"(security : Clearance, function : String, args = nil, named_args = nil, request_id : String | Nil = nil, user_id : String | Nil = @user_id) : Tuple(String, Int32)","args_html":"(security : <a href=\"../../../PlaceOS/Driver/Proxy/RemoteDriver/Clearance.html\">Clearance</a>, function : String, args = <span class=\"n\">nil</span>, named_args = <span class=\"n\">nil</span>, request_id : String | Nil = <span class=\"n\">nil</span>, user_id : String | Nil = @user_id) : Tuple(String, Int32)","location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":191,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L191"},"def":{"name":"exec","args":[{"name":"security","external_name":"security","restriction":"Clearance"},{"name":"function","external_name":"function","restriction":"String"},{"name":"args","default_value":"nil","external_name":"args","restriction":""},{"name":"named_args","default_value":"nil","external_name":"named_args","restriction":""},{"name":"request_id","default_value":"nil","external_name":"request_id","restriction":"String | ::Nil"},{"name":"user_id","default_value":"@user_id","external_name":"user_id","restriction":"String | ::Nil"}],"return_type":"::Tuple(String, Int32)","visibility":"Public","body":"metadata = metadata?\nif metadata\nelse\n  raise(Error.new(ErrorCode::ModuleNotFound, \"could not find module\", *@error_details))\nend\nif function_present?(function)\nelse\n  raise(Error.new(ErrorCode::BadRequest, \"could not find function #{function}\", *@error_details))\nend\nif function_visible?(security, function)\nelse\n  raise(Error.new(ErrorCode::AccessDenied, \"attempted to access privileged function #{function}\", *@error_details))\nend\n\nmodule_id = module_id?\nif module_id\nelse\n  raise(Error.new(ErrorCode::ModuleNotFound, \"could not find module id\", *@error_details))\nend\n\nexec_args = args || named_args\nCore::Client.client(which_core, request_id) do |client|\n  begin\n    client.execute(module_id, function, exec_args, user_id: user_id)\n  rescue error : Core::DriverRaisedError\n    raise(Error.new(ErrorCode::RequestFailed, error.message, *@error_details, error.remote_backtrace, error.response_code))\n  rescue error : Core::UnexpectedFailureError | Core::APIResponseError | IO::Error\n    raise(Error.new(ErrorCode::UnexpectedFailure, error.message, *@error_details))\n  end\nend\n"},"external_var":false},{"html_id":"function_present?(function:String):Bool-instance-method","name":"function_present?","abstract":false,"args":[{"name":"function","external_name":"function","restriction":"String"}],"args_string":"(function : String) : Bool","args_html":"(function : String) : Bool","location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":133,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L133"},"def":{"name":"function_present?","args":[{"name":"function","external_name":"function","restriction":"String"}],"return_type":"Bool","visibility":"Public","body":"if metadata = metadata?\n  metadata.interface.keys.includes?(function)\nelse\n  false\nend"},"external_var":false},{"html_id":"function_visible?(security:Clearance,function:String)-instance-method","name":"function_visible?","abstract":false,"args":[{"name":"security","external_name":"security","restriction":"Clearance"},{"name":"function","external_name":"function","restriction":"String"}],"args_string":"(security : Clearance, function : String)","args_html":"(security : <a href=\"../../../PlaceOS/Driver/Proxy/RemoteDriver/Clearance.html\">Clearance</a>, function : String)","location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":141,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L141"},"def":{"name":"function_visible?","args":[{"name":"security","external_name":"security","restriction":"Clearance"},{"name":"function","external_name":"function","restriction":"String"}],"visibility":"Public","body":"metadata = metadata?\nif metadata\nelse\n  return false\nend\n\n\naccess_control = metadata.security.find do |_, functions|\n  functions.includes?(function)\nend\n\n\nif access_control\nelse\n  return true\nend\n\nlevel, _ = access_control\n\n\ncase level\nwhen \"support\"\n  {Clearance::Support, Clearance::Admin}.includes?(security)\nwhen \"administrator\"\n  security == Clearance::Admin\nelse\n  false\nend\n"},"external_var":false},{"html_id":"index:Int32-instance-method","name":"index","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":103,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L103"},"def":{"name":"index","visibility":"Public","body":"@index"},"external_var":false},{"html_id":"metadata:DriverModel::Metadata|Nil-instance-method","name":"metadata","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":101,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L101"},"def":{"name":"metadata","return_type":"DriverModel::Metadata | ::Nil","visibility":"Public","body":"@metadata"},"external_var":false},{"html_id":"metadata?:DriverModel::Metadata|Nil-instance-method","name":"metadata?","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":125,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L125"},"def":{"name":"metadata?","return_type":"DriverModel::Metadata | ::Nil","visibility":"Public","body":"if @metadata\n  return @metadata\nend\nif module_id = module_id?\n  @metadata = Proxy::System.driver_metadata?(module_id)\nend\n"},"external_var":false},{"html_id":"module_id:String|Nil-instance-method","name":"module_id","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":102,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L102"},"def":{"name":"module_id","return_type":"String | ::Nil","visibility":"Public","body":"@module_id"},"external_var":false},{"html_id":"module_id?:String|Nil-instance-method","name":"module_id?","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":120,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L120"},"def":{"name":"module_id?","return_type":"String | ::Nil","visibility":"Public","body":"if @module_id\n  return @module_id\nend\n@module_id = Proxy::System.module_id?(@sys_id, @module_name, @index)\n"},"external_var":false},{"html_id":"module_name:String-instance-method","name":"module_name","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":103,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L103"},"def":{"name":"module_name","visibility":"Public","body":"@module_name"},"external_var":false},{"html_id":"status(klass,key)-instance-method","name":"status","abstract":false,"args":[{"name":"klass","external_name":"klass","restriction":""},{"name":"key","external_name":"key","restriction":""}],"args_string":"(klass, key)","args_html":"(klass, key)","location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":229,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L229"},"def":{"name":"status","args":[{"name":"klass","external_name":"klass","restriction":""},{"name":"key","external_name":"key","restriction":""}],"visibility":"Public","body":"klass.from_json(status[key.to_s])"},"external_var":false},{"html_id":"status:RedisStorage-instance-method","name":"status","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":111,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L111"},"def":{"name":"status","return_type":"RedisStorage","visibility":"Public","body":"redis_store = @status\nif redis_store\n  return redis_store\nend\n\nmodule_id = module_id?\nif module_id\nelse\n  raise(Error.new(ErrorCode::ModuleNotFound, \"could not find module id\", *@error_details))\nend\n@status = RedisStorage.new(module_id)\n"},"external_var":false},{"html_id":"status?(klass,key)-instance-method","name":"status?","abstract":false,"args":[{"name":"klass","external_name":"klass","restriction":""},{"name":"key","external_name":"key","restriction":""}],"args_string":"(klass, key)","args_html":"(klass, key)","location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":233,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L233"},"def":{"name":"status?","args":[{"name":"klass","external_name":"klass","restriction":""},{"name":"key","external_name":"key","restriction":""}],"visibility":"Public","body":"value = status[key.to_s]?\nif value\n  klass.from_json(value)\nend\n"},"external_var":false},{"html_id":"subscribe(subscriptions:Proxy::Subscriptions,status,&callback:Driver::Subscriptions::IndirectSubscription,String->Nil):Driver::Subscriptions::IndirectSubscription-instance-method","name":"subscribe","doc":"All subscriptions to external drivers should be indirect as the driver might\nbe swapped into a completely different system - whilst we've looked up the id\nof this instance of a driver, it's expected that this object is short lived","summary":"<p>All subscriptions to external drivers should be indirect as the driver might be swapped into a completely different system - whilst we've looked up the id of this instance of a driver, it's expected that this object is short lived</p>","abstract":false,"args":[{"name":"subscriptions","external_name":"subscriptions","restriction":"Proxy::Subscriptions"},{"name":"status","external_name":"status","restriction":""}],"args_string":"(subscriptions : Proxy::Subscriptions, status, &callback : Driver::Subscriptions::IndirectSubscription, String -> Nil) : Driver::Subscriptions::IndirectSubscription","args_html":"(subscriptions : <a href=\"../../../PlaceOS/Driver/Proxy/Subscriptions.html\">Proxy::Subscriptions</a>, status, &callback : Driver::Subscriptions::IndirectSubscription, String -> Nil) : Driver::Subscriptions::IndirectSubscription","location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":253,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L253"},"def":{"name":"subscribe","args":[{"name":"subscriptions","external_name":"subscriptions","restriction":"Proxy::Subscriptions"},{"name":"status","external_name":"status","restriction":""}],"yields":2,"block_arity":2,"block_arg":{"name":"callback","external_name":"callback","restriction":"(Driver::Subscriptions::IndirectSubscription, String -> Nil)"},"return_type":"Driver::Subscriptions::IndirectSubscription","visibility":"Public","body":"if @module_id\n  subscriptions.subscribe(@module_id, status, &callback)\nelse\n  subscriptions.subscribe(@sys_id, @module_name, @index, status, &callback)\nend"},"external_var":false},{"html_id":"sys_id:String-instance-method","name":"sys_id","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":103,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L103"},"def":{"name":"sys_id","visibility":"Public","body":"@sys_id"},"external_var":false},{"html_id":"which_core(hash_id:String):URI-instance-method","name":"which_core","doc":"Use consistent hashing to determine location of a resource","summary":"<p>Use consistent hashing to determine location of a resource</p>","abstract":false,"args":[{"name":"hash_id","external_name":"hash_id","restriction":"String"}],"args_string":"(hash_id : String) : URI","args_html":"(hash_id : String) : URI","location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":179,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L179"},"def":{"name":"which_core","args":[{"name":"hash_id","external_name":"hash_id","restriction":"String"}],"return_type":"URI","visibility":"Public","body":"node = if hash_id.ends_with?(EDGE_HINT)\n  @discovery[@edge_id.call(hash_id)]?\nelse\n  @discovery[hash_id]?\nend\nif node\nelse\n  raise(Error.new(ErrorCode::UnexpectedFailure, \"No registered core instances\", *@error_details))\nend\nnode\n"},"external_var":false},{"html_id":"which_core:URI-instance-method","name":"which_core","doc":"Use consistent hashing to determine the location of the module","summary":"<p>Use consistent hashing to determine the location of the module</p>","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":168,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L168"},"def":{"name":"which_core","return_type":"URI","visibility":"Public","body":"module_id = module_id?\nif module_id\nelse\n  raise(Error.new(ErrorCode::ModuleNotFound, \"could not find module id\", *@error_details))\nend\n\nwhich_core(module_id)\n"},"external_var":false}],"types":[{"html_id":"placeos-driver/PlaceOS/Driver/Proxy/RemoteDriver/Clearance","path":"PlaceOS/Driver/Proxy/RemoteDriver/Clearance.html","kind":"enum","full_name":"PlaceOS::Driver::Proxy::RemoteDriver::Clearance","name":"Clearance","abstract":false,"ancestors":[{"html_id":"placeos-driver/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"placeos-driver/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":32,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L32"}],"repository_name":"placeos-driver","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"User","name":"User","value":"0"},{"id":"Support","name":"Support","value":"1"},{"id":"Admin","name":"Admin","value":"2"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Proxy/RemoteDriver","kind":"class","full_name":"PlaceOS::Driver::Proxy::RemoteDriver","name":"RemoteDriver"},"instance_methods":[{"html_id":"admin?-instance-method","name":"admin?","doc":"Returns `true` if this enum value equals `Admin`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Proxy/RemoteDriver/Clearance.html#Admin\">Admin</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":35,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L35"},"def":{"name":"admin?","visibility":"Public","body":"self == Admin"},"external_var":false},{"html_id":"support?-instance-method","name":"support?","doc":"Returns `true` if this enum value equals `Support`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Proxy/RemoteDriver/Clearance.html#Support\">Support</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":34,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L34"},"def":{"name":"support?","visibility":"Public","body":"self == Support"},"external_var":false},{"html_id":"user?-instance-method","name":"user?","doc":"Returns `true` if this enum value equals `User`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Proxy/RemoteDriver/Clearance.html#User\">User</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":33,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L33"},"def":{"name":"user?","visibility":"Public","body":"self == User"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Proxy/RemoteDriver/Error","path":"PlaceOS/Driver/Proxy/RemoteDriver/Error.html","kind":"class","full_name":"PlaceOS::Driver::Proxy::RemoteDriver::Error","name":"Error","abstract":false,"superclass":{"html_id":"placeos-driver/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"placeos-driver/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":61,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L61"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Proxy/RemoteDriver","kind":"class","full_name":"PlaceOS::Driver::Proxy::RemoteDriver","name":"RemoteDriver"},"constructors":[{"html_id":"new(error_code:ErrorCode,message:String|Nil=nil,system_id:String=\"\",module_name:String=\"\",index:Int32=1,remote_backtrace:Array(String)|Nil=nil,response_code:Int32=500)-class-method","name":"new","abstract":false,"args":[{"name":"error_code","external_name":"error_code","restriction":"ErrorCode"},{"name":"message","default_value":"nil","external_name":"message","restriction":"String | ::Nil"},{"name":"system_id","default_value":"\"\"","external_name":"system_id","restriction":"String"},{"name":"module_name","default_value":"\"\"","external_name":"module_name","restriction":"String"},{"name":"index","default_value":"1","external_name":"index","restriction":"Int32"},{"name":"remote_backtrace","default_value":"nil","external_name":"remote_backtrace","restriction":"Array(String) | ::Nil"},{"name":"response_code","default_value":"500","external_name":"response_code","restriction":"Int32"}],"args_string":"(error_code : ErrorCode, message : String | Nil = nil, system_id : String = \"\", module_name : String = \"\", index : Int32 = 1, remote_backtrace : Array(String) | Nil = nil, response_code : Int32 = 500)","args_html":"(error_code : <a href=\"../../../../PlaceOS/Driver/Proxy/RemoteDriver/ErrorCode.html\">ErrorCode</a>, message : String | Nil = <span class=\"n\">nil</span>, system_id : String = <span class=\"s\">&quot;&quot;</span>, module_name : String = <span class=\"s\">&quot;&quot;</span>, index : Int32 = <span class=\"n\">1</span>, remote_backtrace : Array(String) | Nil = <span class=\"n\">nil</span>, response_code : Int32 = <span class=\"n\">500</span>)","location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":65,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L65"},"def":{"name":"new","args":[{"name":"error_code","external_name":"error_code","restriction":"ErrorCode"},{"name":"message","default_value":"nil","external_name":"message","restriction":"String | ::Nil"},{"name":"system_id","default_value":"\"\"","external_name":"system_id","restriction":"String"},{"name":"module_name","default_value":"\"\"","external_name":"module_name","restriction":"String"},{"name":"index","default_value":"1","external_name":"index","restriction":"Int32"},{"name":"remote_backtrace","default_value":"nil","external_name":"remote_backtrace","restriction":"Array(String) | ::Nil"},{"name":"response_code","default_value":"500","external_name":"response_code","restriction":"Int32"}],"visibility":"Public","body":"_ = allocate\n_.initialize(error_code, message, system_id, module_name, index, remote_backtrace, response_code)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"error_code:PlaceOS::Driver::Proxy::RemoteDriver::ErrorCode-instance-method","name":"error_code","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":62,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L62"},"def":{"name":"error_code","visibility":"Public","body":"@error_code"},"external_var":false},{"html_id":"index:Int32-instance-method","name":"index","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":62,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L62"},"def":{"name":"index","visibility":"Public","body":"@index"},"external_var":false},{"html_id":"module_name:String-instance-method","name":"module_name","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":62,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L62"},"def":{"name":"module_name","visibility":"Public","body":"@module_name"},"external_var":false},{"html_id":"remote_backtrace:Array(String)|Nil-instance-method","name":"remote_backtrace","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":63,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L63"},"def":{"name":"remote_backtrace","return_type":"Array(String) | ::Nil","visibility":"Public","body":"@remote_backtrace"},"external_var":false},{"html_id":"remote_backtrace=(remote_backtrace:Array(String)|Nil)-instance-method","name":"remote_backtrace=","abstract":false,"args":[{"name":"remote_backtrace","external_name":"remote_backtrace","restriction":"Array(String) | ::Nil"}],"args_string":"(remote_backtrace : Array(String) | Nil)","args_html":"(remote_backtrace : Array(String) | Nil)","location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":63,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L63"},"def":{"name":"remote_backtrace=","args":[{"name":"remote_backtrace","external_name":"remote_backtrace","restriction":"Array(String) | ::Nil"}],"visibility":"Public","body":"@remote_backtrace = remote_backtrace"},"external_var":false},{"html_id":"response_code:Int32-instance-method","name":"response_code","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":62,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L62"},"def":{"name":"response_code","visibility":"Public","body":"@response_code"},"external_var":false},{"html_id":"system_id:String-instance-method","name":"system_id","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":62,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L62"},"def":{"name":"system_id","visibility":"Public","body":"@system_id"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Proxy/RemoteDriver/ErrorCode","path":"PlaceOS/Driver/Proxy/RemoteDriver/ErrorCode.html","kind":"enum","full_name":"PlaceOS::Driver::Proxy::RemoteDriver::ErrorCode","name":"ErrorCode","abstract":false,"ancestors":[{"html_id":"placeos-driver/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"placeos-driver/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":38,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L38"}],"repository_name":"placeos-driver","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"ParseError","name":"ParseError","value":"0","doc":"JSON parsing error","summary":"<p>JSON parsing error</p>"},{"id":"BadRequest","name":"BadRequest","value":"1","doc":"Pre-requisite does not exist (i.e no function)","summary":"<p>Pre-requisite does not exist (i.e no function)</p>"},{"id":"AccessDenied","name":"AccessDenied","value":"2","doc":"The current user does not have permissions","summary":"<p>The current user does not have permissions</p>"},{"id":"RequestFailed","name":"RequestFailed","value":"3","doc":"The request was sent and error occured in core / the module","summary":"<p>The request was sent and error occured in core / the module</p>"},{"id":"UnknownCommand","name":"UnknownCommand","value":"4","doc":"Not one of bind, unbind, exec, debug, ignore","summary":"<p>Not one of bind, unbind, exec, debug, ignore</p>"},{"id":"SystemNotFound","name":"SystemNotFound","value":"5","doc":"System ID was not found in the database","summary":"<p>System ID was not found in the database</p>"},{"id":"ModuleNotFound","name":"ModuleNotFound","value":"6","doc":"Module does not exist in this system","summary":"<p>Module does not exist in this system</p>"},{"id":"UnexpectedFailure","name":"UnexpectedFailure","value":"7","doc":"Some other transient failure like database unavailable","summary":"<p>Some other transient failure like database unavailable</p>"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Proxy/RemoteDriver","kind":"class","full_name":"PlaceOS::Driver::Proxy::RemoteDriver","name":"RemoteDriver"},"instance_methods":[{"html_id":"access_denied?-instance-method","name":"access_denied?","doc":"Returns `true` if this enum value equals `AccessDenied`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Proxy/RemoteDriver/ErrorCode.html#AccessDenied\">AccessDenied</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":44,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L44"},"def":{"name":"access_denied?","visibility":"Public","body":"self == AccessDenied"},"external_var":false},{"html_id":"bad_request?-instance-method","name":"bad_request?","doc":"Returns `true` if this enum value equals `BadRequest`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Proxy/RemoteDriver/ErrorCode.html#BadRequest\">BadRequest</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":42,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L42"},"def":{"name":"bad_request?","visibility":"Public","body":"self == BadRequest"},"external_var":false},{"html_id":"module_not_found?-instance-method","name":"module_not_found?","doc":"Returns `true` if this enum value equals `ModuleNotFound`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Proxy/RemoteDriver/ErrorCode.html#ModuleNotFound\">ModuleNotFound</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":52,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L52"},"def":{"name":"module_not_found?","visibility":"Public","body":"self == ModuleNotFound"},"external_var":false},{"html_id":"parse_error?-instance-method","name":"parse_error?","doc":"Returns `true` if this enum value equals `ParseError`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Proxy/RemoteDriver/ErrorCode.html#ParseError\">ParseError</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":40,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L40"},"def":{"name":"parse_error?","visibility":"Public","body":"self == ParseError"},"external_var":false},{"html_id":"request_failed?-instance-method","name":"request_failed?","doc":"Returns `true` if this enum value equals `RequestFailed`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Proxy/RemoteDriver/ErrorCode.html#RequestFailed\">RequestFailed</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":46,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L46"},"def":{"name":"request_failed?","visibility":"Public","body":"self == RequestFailed"},"external_var":false},{"html_id":"system_not_found?-instance-method","name":"system_not_found?","doc":"Returns `true` if this enum value equals `SystemNotFound`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Proxy/RemoteDriver/ErrorCode.html#SystemNotFound\">SystemNotFound</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":50,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L50"},"def":{"name":"system_not_found?","visibility":"Public","body":"self == SystemNotFound"},"external_var":false},{"html_id":"to_s-instance-method","name":"to_s","doc":"Returns a `String` representation of this enum member.\nIn the case of regular enums, this is just the name of the member.\nIn the case of flag enums, it's the names joined by vertical bars, or \"None\",\nif the value is zero.\n\nIf an enum's value doesn't match a member's value, the raw value\nis returned as a string.\n\n```\nColor::Red.to_s                     # => \"Red\"\nIOMode::None.to_s                   # => \"None\"\n(IOMode::Read | IOMode::Write).to_s # => \"Read | Write\"\n\nColor.new(10).to_s # => \"10\"\n```","summary":"<p>Returns a <code>String</code> representation of this enum member.</p>","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":56,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L56"},"def":{"name":"to_s","visibility":"Public","body":"super().underscore"},"external_var":false},{"html_id":"unexpected_failure?-instance-method","name":"unexpected_failure?","doc":"Returns `true` if this enum value equals `UnexpectedFailure`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Proxy/RemoteDriver/ErrorCode.html#UnexpectedFailure\">UnexpectedFailure</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":54,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L54"},"def":{"name":"unexpected_failure?","visibility":"Public","body":"self == UnexpectedFailure"},"external_var":false},{"html_id":"unknown_command?-instance-method","name":"unknown_command?","doc":"Returns `true` if this enum value equals `UnknownCommand`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../PlaceOS/Driver/Proxy/RemoteDriver/ErrorCode.html#UnknownCommand\">UnknownCommand</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/proxy/remote_driver.cr","line_number":48,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/remote_driver.cr#L48"},"def":{"name":"unknown_command?","visibility":"Public","body":"self == UnknownCommand"},"external_var":false}]}]},{"html_id":"placeos-driver/PlaceOS/Driver/Proxy/Scheduler","path":"PlaceOS/Driver/Proxy/Scheduler.html","kind":"class","full_name":"PlaceOS::Driver::Proxy::Scheduler","name":"Scheduler","abstract":false,"superclass":{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":6,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L6"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Proxy","kind":"module","full_name":"PlaceOS::Driver::Proxy","name":"Proxy"},"constructors":[{"html_id":"new(logger:::Log=::Log.for(PlaceOS::Driver::Proxy::Scheduler))-class-method","name":"new","abstract":false,"args":[{"name":"logger","default_value":"::Log.for(PlaceOS::Driver::Proxy::Scheduler)","external_name":"logger","restriction":"::Log"}],"args_string":"(logger : ::Log = ::Log.for(PlaceOS::Driver::Proxy::Scheduler))","args_html":"(logger : ::Log = <span class=\"t\">::</span><span class=\"t\">Log</span>.<span class=\"k\">for</span>(<span class=\"t\">PlaceOS</span><span class=\"t\">::</span><span class=\"t\">Driver</span><span class=\"t\">::</span><span class=\"t\">Proxy</span><span class=\"t\">::</span><span class=\"t\">Scheduler</span>))","location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":32,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L32"},"def":{"name":"new","args":[{"name":"logger","default_value":"::Log.for(PlaceOS::Driver::Proxy::Scheduler)","external_name":"logger","restriction":"::Log"}],"visibility":"Public","body":"_ = allocate\n_.initialize(logger)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"at(time,immediate=false,&block:->_)-instance-method","name":"at","abstract":false,"args":[{"name":"time","external_name":"time","restriction":""},{"name":"immediate","default_value":"false","external_name":"immediate","restriction":""}],"args_string":"(time, immediate = false, &block :  -> _)","args_html":"(time, immediate = <span class=\"n\">false</span>, &block :  -> _)","location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":46,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L46"},"def":{"name":"at","args":[{"name":"time","external_name":"time","restriction":""},{"name":"immediate","default_value":"false","external_name":"immediate","restriction":""}],"yields":0,"block_arity":0,"block_arg":{"name":"block","external_name":"block","restriction":"(-> _)"},"visibility":"Public","body":"if @terminated\n  raise(\"schedule proxy terminated\")\nend\nif immediate\n  spawn(same_thread: true) do run_now(block) end\nend\nwrapped = nil\ntask = Tasker.at(time) do\n  @schedules.delete(wrapped)\n  run_now(block)\nend\nwrap = wrapped = TaskWrapper.new(task, @callback)\n@schedules << wrap\nwrap\n"},"external_var":false},{"html_id":"clear-instance-method","name":"clear","abstract":false,"location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":91,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L91"},"def":{"name":"clear","visibility":"Public","body":"schedules = @schedules\n@schedules = Set(TaskWrapper).new\nschedules.each(&.cancel(terminate: @terminated))\n"},"external_var":false},{"html_id":"cron(string,timezone:Time::Location=Time::Location.local,immediate=false,&block:->_)-instance-method","name":"cron","abstract":false,"args":[{"name":"string","external_name":"string","restriction":""},{"name":"timezone","default_value":"Time::Location.local","external_name":"timezone","restriction":"Time::Location"},{"name":"immediate","default_value":"false","external_name":"immediate","restriction":""}],"args_string":"(string, timezone : Time::Location = Time::Location.local, immediate = false, &block :  -> _)","args_html":"(string, timezone : Time::Location = <span class=\"t\">Time</span><span class=\"t\">::</span><span class=\"t\">Location</span>.local, immediate = <span class=\"n\">false</span>, &block :  -> _)","location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":79,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L79"},"def":{"name":"cron","args":[{"name":"string","external_name":"string","restriction":""},{"name":"timezone","default_value":"Time::Location.local","external_name":"timezone","restriction":"Time::Location"},{"name":"immediate","default_value":"false","external_name":"immediate","restriction":""}],"yields":0,"block_arity":0,"block_arg":{"name":"block","external_name":"block","restriction":"(-> _)"},"visibility":"Public","body":"if @terminated\n  raise(\"schedule proxy terminated\")\nend\nif immediate\n  spawn(same_thread: true) do run_now(block) end\nend\ntask = Tasker.cron(string, timezone) do run_now(block) end\n(TaskWrapper.new(task, @callback)).tap do |wrapper| @schedules << wrapper end\n"},"external_var":false},{"html_id":"every(time,immediate=false,&block:->_)-instance-method","name":"every","abstract":false,"args":[{"name":"time","external_name":"time","restriction":""},{"name":"immediate","default_value":"false","external_name":"immediate","restriction":""}],"args_string":"(time, immediate = false, &block :  -> _)","args_html":"(time, immediate = <span class=\"n\">false</span>, &block :  -> _)","location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":72,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L72"},"def":{"name":"every","args":[{"name":"time","external_name":"time","restriction":""},{"name":"immediate","default_value":"false","external_name":"immediate","restriction":""}],"yields":0,"block_arity":0,"block_arg":{"name":"block","external_name":"block","restriction":"(-> _)"},"visibility":"Public","body":"if @terminated\n  raise(\"schedule proxy terminated\")\nend\nif immediate\n  spawn(same_thread: true) do run_now(block) end\nend\ntask = Tasker.every(time) do run_now(block) end\n(TaskWrapper.new(task, @callback)).tap do |wrapper| @schedules << wrapper end\n"},"external_var":false},{"html_id":"in(time,immediate=false,&block:->_)-instance-method","name":"in","abstract":false,"args":[{"name":"time","external_name":"time","restriction":""},{"name":"immediate","default_value":"false","external_name":"immediate","restriction":""}],"args_string":"(time, immediate = false, &block :  -> _)","args_html":"(time, immediate = <span class=\"n\">false</span>, &block :  -> _)","location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":59,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L59"},"def":{"name":"in","args":[{"name":"time","external_name":"time","restriction":""},{"name":"immediate","default_value":"false","external_name":"immediate","restriction":""}],"yields":0,"block_arity":0,"block_arg":{"name":"block","external_name":"block","restriction":"(-> _)"},"visibility":"Public","body":"if @terminated\n  raise(\"schedule proxy terminated\")\nend\nif immediate\n  spawn(same_thread: true) do run_now(block) end\nend\nwrapped = nil\ntask = Tasker.in(time) do\n  @schedules.delete(wrapped)\n  run_now(block)\nend\nwrap = wrapped = TaskWrapper.new(task, @callback)\n@schedules << wrap\nwrap\n"},"external_var":false},{"html_id":"logger:::Log-instance-method","name":"logger","abstract":false,"location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":30,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L30"},"def":{"name":"logger","return_type":"::Log","visibility":"Public","body":"@logger"},"external_var":false},{"html_id":"size(*args,**options)-instance-method","name":"size","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":44,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L44"},"def":{"name":"size","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@schedules.size(*args, **options)"},"external_var":false},{"html_id":"size(*args,**options,&)-instance-method","name":"size","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":44,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L44"},"def":{"name":"size","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@schedules.size(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"terminate-instance-method","name":"terminate","abstract":false,"location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":86,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L86"},"def":{"name":"terminate","visibility":"Public","body":"@terminated = true\nclear\n"},"external_var":false}],"types":[{"html_id":"placeos-driver/PlaceOS/Driver/Proxy/Scheduler/TaskWrapper","path":"PlaceOS/Driver/Proxy/Scheduler/TaskWrapper.html","kind":"class","full_name":"PlaceOS::Driver::Proxy::Scheduler::TaskWrapper","name":"TaskWrapper","abstract":false,"superclass":{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":7,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L7"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Proxy/Scheduler","kind":"class","full_name":"PlaceOS::Driver::Proxy::Scheduler","name":"Scheduler"},"constructors":[{"html_id":"new(task:Tasker::Task,callback:Callback)-class-method","name":"new","abstract":false,"args":[{"name":"task","external_name":"task","restriction":"Tasker::Task"},{"name":"callback","external_name":"callback","restriction":"Callback"}],"args_string":"(task : Tasker::Task, callback : Callback)","args_html":"(task : Tasker::Task, callback : <a href=\"../../../../PlaceOS/Driver/Proxy/Scheduler/TaskWrapper/Callback.html\">Callback</a>)","location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":15,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L15"},"def":{"name":"new","args":[{"name":"task","external_name":"task","restriction":"Tasker::Task"},{"name":"callback","external_name":"callback","restriction":"Callback"}],"visibility":"Public","body":"_ = allocate\n_.initialize(task, callback)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"cancel(reason=\"Taskcancelled\",terminate=false)-instance-method","name":"cancel","abstract":false,"args":[{"name":"reason","default_value":"\"Task cancelled\"","external_name":"reason","restriction":""},{"name":"terminate","default_value":"false","external_name":"terminate","restriction":""}],"args_string":"(reason = \"Task cancelled\", terminate = false)","args_html":"(reason = <span class=\"s\">&quot;Task cancelled&quot;</span>, terminate = <span class=\"n\">false</span>)","location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":20,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L20"},"def":{"name":"cancel","args":[{"name":"reason","default_value":"\"Task cancelled\"","external_name":"reason","restriction":""},{"name":"terminate","default_value":"false","external_name":"terminate","restriction":""}],"visibility":"Public","body":"if terminate\nelse\n  @callback.call(self, Action::Remove)\nend\n@task.cancel(reason)\n"},"external_var":false},{"html_id":"created(*args,**options)-instance-method","name":"created","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":18,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L18"},"def":{"name":"created","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@task.created(*args, **options)"},"external_var":false},{"html_id":"created(*args,**options,&)-instance-method","name":"created","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":18,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L18"},"def":{"name":"created","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@task.created(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"get(*args,**options)-instance-method","name":"get","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":18,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L18"},"def":{"name":"get","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@task.get(*args, **options)"},"external_var":false},{"html_id":"get(*args,**options,&)-instance-method","name":"get","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":18,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L18"},"def":{"name":"get","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@task.get(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"last_scheduled(*args,**options)-instance-method","name":"last_scheduled","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":18,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L18"},"def":{"name":"last_scheduled","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@task.last_scheduled(*args, **options)"},"external_var":false},{"html_id":"last_scheduled(*args,**options,&)-instance-method","name":"last_scheduled","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":18,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L18"},"def":{"name":"last_scheduled","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@task.last_scheduled(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"next_epoch(*args,**options)-instance-method","name":"next_epoch","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":18,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L18"},"def":{"name":"next_epoch","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@task.next_epoch(*args, **options)"},"external_var":false},{"html_id":"next_epoch(*args,**options,&)-instance-method","name":"next_epoch","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":18,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L18"},"def":{"name":"next_epoch","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@task.next_epoch(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"next_scheduled(*args,**options)-instance-method","name":"next_scheduled","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":18,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L18"},"def":{"name":"next_scheduled","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@task.next_scheduled(*args, **options)"},"external_var":false},{"html_id":"next_scheduled(*args,**options,&)-instance-method","name":"next_scheduled","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":18,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L18"},"def":{"name":"next_scheduled","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@task.next_scheduled(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"resume-instance-method","name":"resume","abstract":false,"location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":25,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L25"},"def":{"name":"resume","visibility":"Public","body":"if @callback.call(self, Action::Add)\nelse\n  @task.resume\nend"},"external_var":false},{"html_id":"trigger(*args,**options)-instance-method","name":"trigger","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":18,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L18"},"def":{"name":"trigger","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@task.trigger(*args, **options)"},"external_var":false},{"html_id":"trigger(*args,**options,&)-instance-method","name":"trigger","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":18,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L18"},"def":{"name":"trigger","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@task.trigger(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"trigger_count(*args,**options)-instance-method","name":"trigger_count","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":18,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L18"},"def":{"name":"trigger_count","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@task.trigger_count(*args, **options)"},"external_var":false},{"html_id":"trigger_count(*args,**options,&)-instance-method","name":"trigger_count","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":18,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L18"},"def":{"name":"trigger_count","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@task.trigger_count(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false}],"types":[{"html_id":"placeos-driver/PlaceOS/Driver/Proxy/Scheduler/TaskWrapper/Action","path":"PlaceOS/Driver/Proxy/Scheduler/TaskWrapper/Action.html","kind":"enum","full_name":"PlaceOS::Driver::Proxy::Scheduler::TaskWrapper::Action","name":"Action","abstract":false,"ancestors":[{"html_id":"placeos-driver/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"placeos-driver/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":8,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L8"}],"repository_name":"placeos-driver","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"Add","name":"Add","value":"0"},{"id":"Remove","name":"Remove","value":"1"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Proxy/Scheduler/TaskWrapper","kind":"class","full_name":"PlaceOS::Driver::Proxy::Scheduler::TaskWrapper","name":"TaskWrapper"},"instance_methods":[{"html_id":"add?-instance-method","name":"add?","doc":"Returns `true` if this enum value equals `Add`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../../PlaceOS/Driver/Proxy/Scheduler/TaskWrapper/Action.html#Add\">Add</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":9,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L9"},"def":{"name":"add?","visibility":"Public","body":"self == Add"},"external_var":false},{"html_id":"remove?-instance-method","name":"remove?","doc":"Returns `true` if this enum value equals `Remove`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../../../PlaceOS/Driver/Proxy/Scheduler/TaskWrapper/Action.html#Remove\">Remove</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":10,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L10"},"def":{"name":"remove?","visibility":"Public","body":"self == Remove"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Proxy/Scheduler/TaskWrapper/Callback","path":"PlaceOS/Driver/Proxy/Scheduler/TaskWrapper/Callback.html","kind":"alias","full_name":"PlaceOS::Driver::Proxy::Scheduler::TaskWrapper::Callback","name":"Callback","abstract":false,"locations":[{"filename":"src/placeos-driver/proxy/scheduler.cr","line_number":13,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/scheduler.cr#L13"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":true,"aliased":"Proc(PlaceOS::Driver::Proxy::Scheduler::TaskWrapper, PlaceOS::Driver::Proxy::Scheduler::TaskWrapper::Action, Bool)","aliased_html":"<a href=\"../../../../../PlaceOS/Driver/Proxy/Scheduler/TaskWrapper.html\">PlaceOS::Driver::Proxy::Scheduler::TaskWrapper</a>, <a href=\"../../../../../PlaceOS/Driver/Proxy/Scheduler/TaskWrapper/Action.html\">PlaceOS::Driver::Proxy::Scheduler::TaskWrapper::Action</a> -> Bool","const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Proxy/Scheduler/TaskWrapper","kind":"class","full_name":"PlaceOS::Driver::Proxy::Scheduler::TaskWrapper","name":"TaskWrapper"}}]}]},{"html_id":"placeos-driver/PlaceOS/Driver/Proxy/Subscriptions","path":"PlaceOS/Driver/Proxy/Subscriptions.html","kind":"class","full_name":"PlaceOS::Driver::Proxy::Subscriptions","name":"Subscriptions","abstract":false,"superclass":{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/proxy/subscriptions.cr","line_number":7,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/subscriptions.cr#L7"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Proxy","kind":"module","full_name":"PlaceOS::Driver::Proxy","name":"Proxy"},"instance_methods":[{"html_id":"channel(name,&callback:PlaceOS::Driver::Subscriptions::ChannelSubscription,String->Nil):PlaceOS::Driver::Subscriptions::ChannelSubscription-instance-method","name":"channel","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""}],"args_string":"(name, &callback : PlaceOS::Driver::Subscriptions::ChannelSubscription, String -> Nil) : PlaceOS::Driver::Subscriptions::ChannelSubscription","args_html":"(name, &callback : PlaceOS::Driver::Subscriptions::ChannelSubscription, String -> Nil) : PlaceOS::Driver::Subscriptions::ChannelSubscription","location":{"filename":"src/placeos-driver/proxy/subscriptions.cr","line_number":35,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/subscriptions.cr#L35"},"def":{"name":"channel","args":[{"name":"name","external_name":"name","restriction":""}],"yields":2,"block_arity":2,"block_arg":{"name":"callback","external_name":"callback","restriction":"(PlaceOS::Driver::Subscriptions::ChannelSubscription, String -> Nil)"},"return_type":"PlaceOS::Driver::Subscriptions::ChannelSubscription","visibility":"Public","body":"if @terminated\n  raise(\"subscription proxy terminated\")\nend\nsub = @subscriber.channel(name) do |the_sub, payload|\n  begin\n    callback.call(the_sub, payload)\n  rescue error\n    logger.try(&.error(exception: error) do \"error handling signal: #{name}\" end)\n  end\n  nil\nend\n@subscriptions << sub\nsub\n"},"external_var":false},{"html_id":"clear:Nil-instance-method","name":"clear","abstract":false,"location":{"filename":"src/placeos-driver/proxy/subscriptions.cr","line_number":22,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/subscriptions.cr#L22"},"def":{"name":"clear","return_type":"Nil","visibility":"Public","body":"subs = @subscriptions\n@subscriptions = [] of PlaceOS::Driver::Subscriptions::Subscription\nsubs.each do |subscription|\n  @subscriber.unsubscribe(subscription)\nend\n"},"external_var":false},{"html_id":"logger:PlaceOS::Driver::Log|Nil-instance-method","name":"logger","abstract":false,"location":{"filename":"src/placeos-driver/proxy/subscriptions.cr","line_number":14,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/subscriptions.cr#L14"},"def":{"name":"logger","return_type":"PlaceOS::Driver::Log | ::Nil","visibility":"Public","body":"@logger"},"external_var":false},{"html_id":"subscribe(system_id,module_name,index,status,&callback:PlaceOS::Driver::Subscriptions::IndirectSubscription,String->Nil):PlaceOS::Driver::Subscriptions::IndirectSubscription-instance-method","name":"subscribe","abstract":false,"args":[{"name":"system_id","external_name":"system_id","restriction":""},{"name":"module_name","external_name":"module_name","restriction":""},{"name":"index","external_name":"index","restriction":""},{"name":"status","external_name":"status","restriction":""}],"args_string":"(system_id, module_name, index, status, &callback : PlaceOS::Driver::Subscriptions::IndirectSubscription, String -> Nil) : PlaceOS::Driver::Subscriptions::IndirectSubscription","args_html":"(system_id, module_name, index, status, &callback : PlaceOS::Driver::Subscriptions::IndirectSubscription, String -> Nil) : PlaceOS::Driver::Subscriptions::IndirectSubscription","location":{"filename":"src/placeos-driver/proxy/subscriptions.cr","line_number":49,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/subscriptions.cr#L49"},"def":{"name":"subscribe","args":[{"name":"system_id","external_name":"system_id","restriction":""},{"name":"module_name","external_name":"module_name","restriction":""},{"name":"index","external_name":"index","restriction":""},{"name":"status","external_name":"status","restriction":""}],"yields":2,"block_arity":2,"block_arg":{"name":"callback","external_name":"callback","restriction":"(PlaceOS::Driver::Subscriptions::IndirectSubscription, String -> Nil)"},"return_type":"PlaceOS::Driver::Subscriptions::IndirectSubscription","visibility":"Public","body":"if @terminated\n  raise(\"subscription proxy terminated\")\nend\nsub = @subscriber.subscribe(system_id, module_name, index, status) do |the_sub, payload|\n  begin\n    callback.call(the_sub, payload)\n  rescue error\n    logger.try(&.error(exception: error) do \"error handling remote subscription: #{system_id}(#{module_name}_#{index})[:#{status}]\" end)\n  end\n  nil\nend\n@subscriptions << sub\nsub\n"},"external_var":false},{"html_id":"subscribe(module_id,status,&callback:PlaceOS::Driver::Subscriptions::DirectSubscription,String->Nil):PlaceOS::Driver::Subscriptions::DirectSubscription-instance-method","name":"subscribe","abstract":false,"args":[{"name":"module_id","external_name":"module_id","restriction":""},{"name":"status","external_name":"status","restriction":""}],"args_string":"(module_id, status, &callback : PlaceOS::Driver::Subscriptions::DirectSubscription, String -> Nil) : PlaceOS::Driver::Subscriptions::DirectSubscription","args_html":"(module_id, status, &callback : PlaceOS::Driver::Subscriptions::DirectSubscription, String -> Nil) : PlaceOS::Driver::Subscriptions::DirectSubscription","location":{"filename":"src/placeos-driver/proxy/subscriptions.cr","line_number":63,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/subscriptions.cr#L63"},"def":{"name":"subscribe","args":[{"name":"module_id","external_name":"module_id","restriction":""},{"name":"status","external_name":"status","restriction":""}],"yields":2,"block_arity":2,"block_arg":{"name":"callback","external_name":"callback","restriction":"(PlaceOS::Driver::Subscriptions::DirectSubscription, String -> Nil)"},"return_type":"PlaceOS::Driver::Subscriptions::DirectSubscription","visibility":"Public","body":"if @terminated\n  raise(\"subscription proxy terminated\")\nend\nsub = @subscriber.subscribe(module_id, status) do |the_sub, payload|\n  begin\n    callback.call(the_sub, payload)\n  rescue error\n    logger.try(&.error(exception: error) do \"error handling local subscription: (#{module_id})[:#{status}]\" end)\n  end\n  nil\nend\n@subscriptions << sub\nsub\n"},"external_var":false},{"html_id":"unsubscribe(subscription:PlaceOS::Driver::Subscriptions::Subscription)-instance-method","name":"unsubscribe","abstract":false,"args":[{"name":"subscription","external_name":"subscription","restriction":"PlaceOS::Driver::Subscriptions::Subscription"}],"args_string":"(subscription : PlaceOS::Driver::Subscriptions::Subscription)","args_html":"(subscription : PlaceOS::Driver::Subscriptions::Subscription)","location":{"filename":"src/placeos-driver/proxy/subscriptions.cr","line_number":30,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/subscriptions.cr#L30"},"def":{"name":"unsubscribe","args":[{"name":"subscription","external_name":"subscription","restriction":"PlaceOS::Driver::Subscriptions::Subscription"}],"visibility":"Public","body":"@subscriptions.delete(subscription)\n@subscriber.unsubscribe(subscription)\n"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Proxy/System","path":"PlaceOS/Driver/Proxy/System.html","kind":"struct","full_name":"PlaceOS::Driver::Proxy::System","name":"System","abstract":false,"superclass":{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"placeos-driver/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/proxy/system.cr","line_number":6,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L6"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Proxy","kind":"module","full_name":"PlaceOS::Driver::Proxy","name":"Proxy"},"class_methods":[{"html_id":"driver_metadata?(system_id,module_name,index):PlaceOS::Driver::DriverModel::Metadata|Nil-class-method","name":"driver_metadata?","doc":"Retrieve module metadata from redis","summary":"<p>Retrieve module metadata from redis</p>","abstract":false,"args":[{"name":"system_id","external_name":"system_id","restriction":""},{"name":"module_name","external_name":"module_name","restriction":""},{"name":"index","external_name":"index","restriction":""}],"args_string":"(system_id, module_name, index) : PlaceOS::Driver::DriverModel::Metadata | Nil","args_html":"(system_id, module_name, index) : <a href=\"../../../PlaceOS/Driver/DriverModel/Metadata.html\">PlaceOS::Driver::DriverModel::Metadata</a> | Nil","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":66,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L66"},"def":{"name":"driver_metadata?","args":[{"name":"system_id","external_name":"system_id","restriction":""},{"name":"module_name","external_name":"module_name","restriction":""},{"name":"index","external_name":"index","restriction":""}],"return_type":"PlaceOS::Driver::DriverModel::Metadata | ::Nil","visibility":"Public","body":"module_id = self.module_id?(system_id, module_name, index)\n\nmodule_id.try(&->self.driver_metadata?(String))\n"},"external_var":false},{"html_id":"driver_metadata?(module_id):PlaceOS::Driver::DriverModel::Metadata|Nil-class-method","name":"driver_metadata?","doc":"Retrieve module metadata from redis, bypassing module_id lookup","summary":"<p>Retrieve module metadata from redis, bypassing module_id lookup</p>","abstract":false,"args":[{"name":"module_id","external_name":"module_id","restriction":""}],"args_string":"(module_id) : PlaceOS::Driver::DriverModel::Metadata | Nil","args_html":"(module_id) : <a href=\"../../../PlaceOS/Driver/DriverModel/Metadata.html\">PlaceOS::Driver::DriverModel::Metadata</a> | Nil","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":75,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L75"},"def":{"name":"driver_metadata?","args":[{"name":"module_id","external_name":"module_id","restriction":""}],"return_type":"PlaceOS::Driver::DriverModel::Metadata | ::Nil","visibility":"Public","body":"(RedisStorage\n  .get(\"interface/#{module_id}\"))\n  .try(&->DriverModel::Metadata.from_json(String))"},"external_var":false},{"html_id":"module_id?(system_id,module_name,index):String|Nil-class-method","name":"module_id?","doc":"Retrieve module metadata from redis","summary":"<p>Retrieve module metadata from redis</p>","abstract":false,"args":[{"name":"system_id","external_name":"system_id","restriction":""},{"name":"module_name","external_name":"module_name","restriction":""},{"name":"index","external_name":"index","restriction":""}],"args_string":"(system_id, module_name, index) : String | Nil","args_html":"(system_id, module_name, index) : String | Nil","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":60,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L60"},"def":{"name":"module_id?","args":[{"name":"system_id","external_name":"system_id","restriction":""},{"name":"module_name","external_name":"module_name","restriction":""},{"name":"index","external_name":"index","restriction":""}],"return_type":"String | ::Nil","visibility":"Public","body":"(PlaceOS::Driver::RedisStorage.new(system_id, \"system\"))[\"#{module_name}/#{index}\"]?"},"external_var":false}],"constructors":[{"html_id":"new(model:DriverModel::ControlSystem,reply_id:String,logger:::Log=::Log.for(PlaceOS::Driver::Proxy::System),subscriptions:Proxy::Subscriptions=Proxy::Subscriptions.new)-class-method","name":"new","doc":"Local system available to logic driver","summary":"<p>Local system available to logic driver</p>","abstract":false,"args":[{"name":"model","external_name":"model","restriction":"DriverModel::ControlSystem"},{"name":"reply_id","external_name":"reply_id","restriction":"String"},{"name":"logger","default_value":"::Log.for(PlaceOS::Driver::Proxy::System)","external_name":"logger","restriction":"::Log"},{"name":"subscriptions","default_value":"Proxy::Subscriptions.new","external_name":"subscriptions","restriction":"Proxy::Subscriptions"}],"args_string":"(model : DriverModel::ControlSystem, reply_id : String, logger : ::Log = ::Log.for(PlaceOS::Driver::Proxy::System), subscriptions : Proxy::Subscriptions = Proxy::Subscriptions.new)","args_html":"(model : <a href=\"../../../PlaceOS/Driver/DriverModel/ControlSystem.html\">DriverModel::ControlSystem</a>, reply_id : String, logger : ::Log = <span class=\"t\">::</span><span class=\"t\">Log</span>.<span class=\"k\">for</span>(<span class=\"t\">PlaceOS</span><span class=\"t\">::</span><span class=\"t\">Driver</span><span class=\"t\">::</span><span class=\"t\">Proxy</span><span class=\"t\">::</span><span class=\"t\">System</span>), subscriptions : <a href=\"../../../PlaceOS/Driver/Proxy/Subscriptions.html\">Proxy::Subscriptions</a> = <span class=\"t\">Proxy</span><span class=\"t\">::</span><span class=\"t\">Subscriptions</span>.new)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":8,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L8"},"def":{"name":"new","args":[{"name":"model","external_name":"model","restriction":"DriverModel::ControlSystem"},{"name":"reply_id","external_name":"reply_id","restriction":"String"},{"name":"logger","default_value":"::Log.for(PlaceOS::Driver::Proxy::System)","external_name":"logger","restriction":"::Log"},{"name":"subscriptions","default_value":"Proxy::Subscriptions.new","external_name":"subscriptions","restriction":"Proxy::Subscriptions"}],"visibility":"Public","body":"_ = allocate\n_.initialize(model, reply_id, logger, subscriptions)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(system_id:String,reply_id:String,logger:::Log=::Log.for(PlaceOS::Driver::Proxy::System),subscriptions:Proxy::Subscriptions=Proxy::Subscriptions.new)-class-method","name":"new","doc":"Remote system (lazily loaded config)","summary":"<p>Remote system (lazily loaded config)</p>","abstract":false,"args":[{"name":"system_id","external_name":"system_id","restriction":"String"},{"name":"reply_id","external_name":"reply_id","restriction":"String"},{"name":"logger","default_value":"::Log.for(PlaceOS::Driver::Proxy::System)","external_name":"logger","restriction":"::Log"},{"name":"subscriptions","default_value":"Proxy::Subscriptions.new","external_name":"subscriptions","restriction":"Proxy::Subscriptions"}],"args_string":"(system_id : String, reply_id : String, logger : ::Log = ::Log.for(PlaceOS::Driver::Proxy::System), subscriptions : Proxy::Subscriptions = Proxy::Subscriptions.new)","args_html":"(system_id : String, reply_id : String, logger : ::Log = <span class=\"t\">::</span><span class=\"t\">Log</span>.<span class=\"k\">for</span>(<span class=\"t\">PlaceOS</span><span class=\"t\">::</span><span class=\"t\">Driver</span><span class=\"t\">::</span><span class=\"t\">Proxy</span><span class=\"t\">::</span><span class=\"t\">System</span>), subscriptions : <a href=\"../../../PlaceOS/Driver/Proxy/Subscriptions.html\">Proxy::Subscriptions</a> = <span class=\"t\">Proxy</span><span class=\"t\">::</span><span class=\"t\">Subscriptions</span>.new)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":20,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L20"},"def":{"name":"new","args":[{"name":"system_id","external_name":"system_id","restriction":"String"},{"name":"reply_id","external_name":"reply_id","restriction":"String"},{"name":"logger","default_value":"::Log.for(PlaceOS::Driver::Proxy::System)","external_name":"logger","restriction":"::Log"},{"name":"subscriptions","default_value":"Proxy::Subscriptions.new","external_name":"subscriptions","restriction":"Proxy::Subscriptions"}],"visibility":"Public","body":"_ = allocate\n_.initialize(system_id, reply_id, logger, subscriptions)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"[](module_name)-instance-method","name":"[]","abstract":false,"args":[{"name":"module_name","external_name":"module_name","restriction":""}],"args_string":"(module_name)","args_html":"(module_name)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":46,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L46"},"def":{"name":"[]","args":[{"name":"module_name","external_name":"module_name","restriction":""}],"visibility":"Public","body":"get_driver(*get_parts(module_name))"},"external_var":false},{"html_id":"all(module_name):PlaceOS::Driver::Proxy::Drivers-instance-method","name":"all","abstract":false,"args":[{"name":"module_name","external_name":"module_name","restriction":""}],"args_string":"(module_name) : PlaceOS::Driver::Proxy::Drivers","args_html":"(module_name) : <a href=\"../../../PlaceOS/Driver/Proxy/Drivers.html\">PlaceOS::Driver::Proxy::Drivers</a>","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":92,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L92"},"def":{"name":"all","args":[{"name":"module_name","external_name":"module_name","restriction":""}],"return_type":"PlaceOS::Driver::Proxy::Drivers","visibility":"Public","body":"module_name = module_name.to_s\ndrivers = [] of Proxy::Driver\n\n@system.keys.each do |key|\n  parts = key.split(\"/\")\n  mod_name = parts[0]\n  index = parts[1]\n\n  if mod_name == module_name\n    module_id = @system[key]\n    metadata = get_metadata(module_id)\n    drivers << (Proxy::Driver.new(@reply_id, module_name, index.to_i, module_id, self, metadata))\n  end\nend\n\nPlaceOS::Driver::Proxy::Drivers.new(drivers)\n"},"external_var":false},{"html_id":"all(module_name,*,implementing):PlaceOS::Driver::Proxy::Drivers-instance-method","name":"all","abstract":false,"args":[{"name":"module_name","external_name":"module_name","restriction":""},{"name":"","external_name":"","restriction":""},{"name":"implementing","external_name":"implementing","restriction":""}],"args_string":"(module_name, *, implementing) : PlaceOS::Driver::Proxy::Drivers","args_html":"(module_name, *, implementing) : <a href=\"../../../PlaceOS/Driver/Proxy/Drivers.html\">PlaceOS::Driver::Proxy::Drivers</a>","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":111,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L111"},"def":{"name":"all","args":[{"name":"module_name","external_name":"module_name","restriction":""},{"name":"","external_name":"","restriction":""},{"name":"implementing","external_name":"implementing","restriction":""}],"splat_index":1,"return_type":"PlaceOS::Driver::Proxy::Drivers","visibility":"Public","body":"module_name = module_name.to_s\ninterface = implementing.to_s\ndrivers = [] of Proxy::Driver\n\n@system.keys.each do |key|\n  parts = key.split(\"/\")\n  mod_name = parts[0]\n  if mod_name == module_name\n  else\n    next\n  end\n  index = parts[1]\n\n  module_id = @system[key]\n  metadata = get_metadata(module_id)\n  if (metadata.implements.includes?(interface)) || metadata.interface[interface]?\n  else\n    next\n  end\n  drivers << (Proxy::Driver.new(@reply_id, mod_name, index.to_i, module_id, self, metadata))\nend\n\nPlaceOS::Driver::Proxy::Drivers.new(drivers)\n"},"external_var":false},{"html_id":"bookable(*args,**options)-instance-method","name":"bookable","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":43,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L43"},"def":{"name":"bookable","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"config.bookable(*args, **options)"},"external_var":false},{"html_id":"bookable(*args,**options,&)-instance-method","name":"bookable","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":43,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L43"},"def":{"name":"bookable","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"config.bookable(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"capacity(*args,**options)-instance-method","name":"capacity","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":43,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L43"},"def":{"name":"capacity","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"config.capacity(*args, **options)"},"external_var":false},{"html_id":"capacity(*args,**options,&)-instance-method","name":"capacity","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":43,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L43"},"def":{"name":"capacity","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"config.capacity(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"code(*args,**options)-instance-method","name":"code","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":44,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L44"},"def":{"name":"code","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"config.code(*args, **options)"},"external_var":false},{"html_id":"code(*args,**options,&)-instance-method","name":"code","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":44,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L44"},"def":{"name":"code","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"config.code(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"config:DriverModel::ControlSystem-instance-method","name":"config","abstract":false,"location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":36,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L36"},"def":{"name":"config","return_type":"DriverModel::ControlSystem","visibility":"Public","body":"if (__temp_153 = @config).nil?\n  @config = (begin\n    response = (PlaceOS::Driver::Protocol.instance.expect_response(@system_id, @reply_id, :sys)).receive\n    if response.error\n      raise(response.build_error)\n    end\n    DriverModel::ControlSystem.from_json(response.payload.not_nil!)\n  end)\nelse\n  __temp_153\nend"},"external_var":false},{"html_id":"count(module_name)-instance-method","name":"count","doc":"Grabs the number of a particular device type","summary":"<p>Grabs the number of a particular device type</p>","abstract":false,"args":[{"name":"module_name","external_name":"module_name","restriction":""}],"args_string":"(module_name)","args_html":"(module_name)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":200,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L200"},"def":{"name":"count","args":[{"name":"module_name","external_name":"module_name","restriction":""}],"visibility":"Public","body":"module_name = module_name.to_s\nmodule_keys.count(&.==(module_name))\n"},"external_var":false},{"html_id":"description(*args,**options)-instance-method","name":"description","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":44,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L44"},"def":{"name":"description","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"config.description(*args, **options)"},"external_var":false},{"html_id":"description(*args,**options,&)-instance-method","name":"description","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":44,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L44"},"def":{"name":"description","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"config.description(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"display_name(*args,**options)-instance-method","name":"display_name","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":43,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L43"},"def":{"name":"display_name","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"config.display_name(*args, **options)"},"external_var":false},{"html_id":"display_name(*args,**options,&)-instance-method","name":"display_name","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":43,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L43"},"def":{"name":"display_name","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"config.display_name(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"email(*args,**options)-instance-method","name":"email","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":43,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L43"},"def":{"name":"email","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"config.email(*args, **options)"},"external_var":false},{"html_id":"email(*args,**options,&)-instance-method","name":"email","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":43,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L43"},"def":{"name":"email","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"config.email(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"exists?(module_name,index=nil):Bool-instance-method","name":"exists?","doc":"Checks for the existence of a particular module","summary":"<p>Checks for the existence of a particular module</p>","abstract":false,"args":[{"name":"module_name","external_name":"module_name","restriction":""},{"name":"index","default_value":"nil","external_name":"index","restriction":""}],"args_string":"(module_name, index = nil) : Bool","args_html":"(module_name, index = <span class=\"n\">nil</span>) : Bool","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":189,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L189"},"def":{"name":"exists?","args":[{"name":"module_name","external_name":"module_name","restriction":""},{"name":"index","default_value":"nil","external_name":"index","restriction":""}],"return_type":"Bool","visibility":"Public","body":"if index\nelse\n  module_name, index = get_parts(module_name)\nend\n!@system[\"#{module_name}/#{index}\"]?.nil?\n"},"external_var":false},{"html_id":"features(*args,**options)-instance-method","name":"features","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":43,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L43"},"def":{"name":"features","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"config.features(*args, **options)"},"external_var":false},{"html_id":"features(*args,**options,&)-instance-method","name":"features","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":43,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L43"},"def":{"name":"features","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"config.features(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"get(module_name,index)-instance-method","name":"get","abstract":false,"args":[{"name":"module_name","external_name":"module_name","restriction":""},{"name":"index","external_name":"index","restriction":""}],"args_string":"(module_name, index)","args_html":"(module_name, index)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":54,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L54"},"def":{"name":"get","args":[{"name":"module_name","external_name":"module_name","restriction":""},{"name":"index","external_name":"index","restriction":""}],"visibility":"Public","body":"get_driver(module_name, index)"},"external_var":false},{"html_id":"get(module_name)-instance-method","name":"get","abstract":false,"args":[{"name":"module_name","external_name":"module_name","restriction":""}],"args_string":"(module_name)","args_html":"(module_name)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":50,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L50"},"def":{"name":"get","args":[{"name":"module_name","external_name":"module_name","restriction":""}],"visibility":"Public","body":"get_driver(*get_parts(module_name))"},"external_var":false},{"html_id":"id:String-instance-method","name":"id","abstract":false,"location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":205,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L205"},"def":{"name":"id","visibility":"Public","body":"@system_id"},"external_var":false},{"html_id":"implementing(interface):PlaceOS::Driver::Proxy::Drivers-instance-method","name":"implementing","doc":"grabs all modules implementing(Powerable) for example","summary":"<p>grabs all modules implementing(Powerable) for example</p>","abstract":false,"args":[{"name":"interface","external_name":"interface","restriction":""}],"args_string":"(interface) : PlaceOS::Driver::Proxy::Drivers","args_html":"(interface) : <a href=\"../../../PlaceOS/Driver/Proxy/Drivers.html\">PlaceOS::Driver::Proxy::Drivers</a>","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":143,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L143"},"def":{"name":"implementing","args":[{"name":"interface","external_name":"interface","restriction":""}],"return_type":"PlaceOS::Driver::Proxy::Drivers","visibility":"Public","body":"interface = interface.to_s\ndrivers = [] of Proxy::Driver\n\n@system.keys.each do |key|\n  parts = key.split(\"/\")\n  mod_name = parts[0]\n  index = parts[1]\n\n  module_id = @system[key]\n  metadata = get_metadata(module_id)\n  if (metadata.implements.includes?(interface)) || metadata.interface[interface]?\n  else\n    next\n  end\n  drivers << (Proxy::Driver.new(@reply_id, mod_name, index.to_i, module_id, self, metadata))\nend\n\nPlaceOS::Driver::Proxy::Drivers.new(drivers)\n"},"external_var":false},{"html_id":"load_complete(&callback:PlaceOS::Driver::Subscriptions::ChannelSubscription,String->Nil)-instance-method","name":"load_complete","doc":"coordination to occur on placeos core","summary":"<p>coordination to occur on placeos core</p>","abstract":false,"location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":162,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L162"},"def":{"name":"load_complete","yields":2,"block_arity":2,"block_arg":{"name":"callback","external_name":"callback","restriction":"(PlaceOS::Driver::Subscriptions::ChannelSubscription, String -> Nil)"},"visibility":"Public","body":"subscription = @subscriptions.channel(\"cluster/cluster_version\", &callback)\n\n\n\nspawn(same_thread: true) do\n  begin\n    callback.call(subscription, \"ready\")\n  rescue error\n    logger.error(exception: error) do \"error in subscription callback\" end\n  end\nend\n\nsubscription\n"},"external_var":false},{"html_id":"logger:::Log-instance-method","name":"logger","abstract":false,"location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":34,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L34"},"def":{"name":"logger","return_type":"::Log","visibility":"Public","body":"@logger"},"external_var":false},{"html_id":"map_id(*args,**options)-instance-method","name":"map_id","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":44,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L44"},"def":{"name":"map_id","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"config.map_id(*args, **options)"},"external_var":false},{"html_id":"map_id(*args,**options,&)-instance-method","name":"map_id","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":44,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L44"},"def":{"name":"map_id","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"config.map_id(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"modules-instance-method","name":"modules","doc":"Returns a list of all the module names in the system","summary":"<p>Returns a list of all the module names in the system</p>","abstract":false,"location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":195,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L195"},"def":{"name":"modules","visibility":"Public","body":"module_keys.uniq!"},"external_var":false},{"html_id":"name(*args,**options)-instance-method","name":"name","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":43,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L43"},"def":{"name":"name","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"config.name(*args, **options)"},"external_var":false},{"html_id":"name(*args,**options,&)-instance-method","name":"name","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":43,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L43"},"def":{"name":"name","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"config.name(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"subscribe(module_name,index,status,&callback:PlaceOS::Driver::Subscriptions::IndirectSubscription,String->Nil):PlaceOS::Driver::Subscriptions::IndirectSubscription-instance-method","name":"subscribe","doc":"Manages subscribing to all the non-local subscriptions","summary":"<p>Manages subscribing to all the non-local subscriptions</p>","abstract":false,"args":[{"name":"module_name","external_name":"module_name","restriction":""},{"name":"index","external_name":"index","restriction":""},{"name":"status","external_name":"status","restriction":""}],"args_string":"(module_name, index, status, &callback : PlaceOS::Driver::Subscriptions::IndirectSubscription, String -> Nil) : PlaceOS::Driver::Subscriptions::IndirectSubscription","args_html":"(module_name, index, status, &callback : PlaceOS::Driver::Subscriptions::IndirectSubscription, String -> Nil) : PlaceOS::Driver::Subscriptions::IndirectSubscription","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":179,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L179"},"def":{"name":"subscribe","args":[{"name":"module_name","external_name":"module_name","restriction":""},{"name":"index","external_name":"index","restriction":""},{"name":"status","external_name":"status","restriction":""}],"yields":2,"block_arity":2,"block_arg":{"name":"callback","external_name":"callback","restriction":"(PlaceOS::Driver::Subscriptions::IndirectSubscription, String -> Nil)"},"return_type":"PlaceOS::Driver::Subscriptions::IndirectSubscription","visibility":"Public","body":"@subscriptions.subscribe(@system_id, module_name, index, status, &callback)"},"external_var":false},{"html_id":"subscribe(module_name,status,&callback:PlaceOS::Driver::Subscriptions::IndirectSubscription,String->Nil):PlaceOS::Driver::Subscriptions::IndirectSubscription-instance-method","name":"subscribe","abstract":false,"args":[{"name":"module_name","external_name":"module_name","restriction":""},{"name":"status","external_name":"status","restriction":""}],"args_string":"(module_name, status, &callback : PlaceOS::Driver::Subscriptions::IndirectSubscription, String -> Nil) : PlaceOS::Driver::Subscriptions::IndirectSubscription","args_html":"(module_name, status, &callback : PlaceOS::Driver::Subscriptions::IndirectSubscription, String -> Nil) : PlaceOS::Driver::Subscriptions::IndirectSubscription","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":183,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L183"},"def":{"name":"subscribe","args":[{"name":"module_name","external_name":"module_name","restriction":""},{"name":"status","external_name":"status","restriction":""}],"yields":2,"block_arity":2,"block_arg":{"name":"callback","external_name":"callback","restriction":"(PlaceOS::Driver::Subscriptions::IndirectSubscription, String -> Nil)"},"return_type":"PlaceOS::Driver::Subscriptions::IndirectSubscription","visibility":"Public","body":"module_name, index = get_parts(module_name)\n@subscriptions.subscribe(@system_id, module_name, index, status, &callback)\n"},"external_var":false},{"html_id":"support_url(*args,**options)-instance-method","name":"support_url","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":44,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L44"},"def":{"name":"support_url","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"config.support_url(*args, **options)"},"external_var":false},{"html_id":"support_url(*args,**options,&)-instance-method","name":"support_url","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":44,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L44"},"def":{"name":"support_url","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"config.support_url(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"timezone(*args,**options)-instance-method","name":"timezone","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":44,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L44"},"def":{"name":"timezone","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"config.timezone(*args, **options)"},"external_var":false},{"html_id":"timezone(*args,**options,&)-instance-method","name":"timezone","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":44,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L44"},"def":{"name":"timezone","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"config.timezone(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"type(*args,**options)-instance-method","name":"type","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":44,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L44"},"def":{"name":"type","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"config.type(*args, **options)"},"external_var":false},{"html_id":"type(*args,**options,&)-instance-method","name":"type","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":44,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L44"},"def":{"name":"type","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"config.type(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"zones(*args,**options)-instance-method","name":"zones","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":44,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L44"},"def":{"name":"zones","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"config.zones(*args, **options)"},"external_var":false},{"html_id":"zones(*args,**options,&)-instance-method","name":"zones","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/placeos-driver/proxy/system.cr","line_number":44,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/proxy/system.cr#L44"},"def":{"name":"zones","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"config.zones(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false}]}]},{"html_id":"placeos-driver/PlaceOS/Driver/Queue","path":"PlaceOS/Driver/Queue.html","kind":"class","full_name":"PlaceOS::Driver::Queue","name":"Queue","abstract":false,"superclass":{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/queue.cr","line_number":5,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/queue.cr#L5"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver","kind":"class","full_name":"PlaceOS::Driver","name":"Driver"},"instance_methods":[{"html_id":"add(priority=@priority,timeout=@timeout,retries=@retries,wait=@wait,name=nil,delay=@delay,clear_queue=false,&callback:Task->Nil)-instance-method","name":"add","doc":"adds a task callback to the queue","summary":"<p>adds a task callback to the queue</p>","abstract":false,"args":[{"name":"priority","default_value":"@priority","external_name":"priority","restriction":""},{"name":"timeout","default_value":"@timeout","external_name":"timeout","restriction":""},{"name":"retries","default_value":"@retries","external_name":"retries","restriction":""},{"name":"wait","default_value":"@wait","external_name":"wait","restriction":""},{"name":"name","default_value":"nil","external_name":"name","restriction":""},{"name":"delay","default_value":"@delay","external_name":"delay","restriction":""},{"name":"clear_queue","default_value":"false","external_name":"clear_queue","restriction":""}],"args_string":"(priority = @priority, timeout = @timeout, retries = @retries, wait = @wait, name = nil, delay = @delay, clear_queue = false, &callback : Task -> Nil)","args_html":"(priority = @priority, timeout = @timeout, retries = @retries, wait = @wait, name = <span class=\"n\">nil</span>, delay = @delay, clear_queue = <span class=\"n\">false</span>, &callback : <a href=\"../../PlaceOS/Driver/Task.html\">Task</a> -> Nil)","location":{"filename":"src/placeos-driver/queue.cr","line_number":89,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/queue.cr#L89"},"def":{"name":"add","args":[{"name":"priority","default_value":"@priority","external_name":"priority","restriction":""},{"name":"timeout","default_value":"@timeout","external_name":"timeout","restriction":""},{"name":"retries","default_value":"@retries","external_name":"retries","restriction":""},{"name":"wait","default_value":"@wait","external_name":"wait","restriction":""},{"name":"name","default_value":"nil","external_name":"name","restriction":""},{"name":"delay","default_value":"@delay","external_name":"delay","restriction":""},{"name":"clear_queue","default_value":"false","external_name":"clear_queue","restriction":""}],"yields":1,"block_arity":1,"block_arg":{"name":"callback","external_name":"callback","restriction":"(Task -> Nil)"},"visibility":"Public","body":"task = Task.new(self, callback, priority, timeout, retries, wait, name.try(&.to_s), delay, clear_queue)\nqueue_task(priority, task)\n"},"external_var":false},{"html_id":"clear(abort_current=false)-instance-method","name":"clear","doc":"removes all jobs currently in the queue","summary":"<p>removes all jobs currently in the queue</p>","abstract":false,"args":[{"name":"abort_current","default_value":"false","external_name":"abort_current","restriction":""}],"args_string":"(abort_current = false)","args_html":"(abort_current = <span class=\"n\">false</span>)","location":{"filename":"src/placeos-driver/queue.cr","line_number":55,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/queue.cr#L55"},"def":{"name":"clear","args":[{"name":"abort_current","default_value":"false","external_name":"abort_current","restriction":""}],"visibility":"Public","body":"old_queue = @mutex.synchronize do\n\n  old = @queue\n\n  @queue = Array(Task).new\n  old\nend\n\n\nif abort_current\n  @current.try(&.abort(\"queue cleared\"))\nend\n\n\nold_queue.each(&.abort(\"queue cleared\"))\n\nself\n"},"external_var":false},{"html_id":"connected_state:Bool|Nil-instance-method","name":"connected_state","abstract":false,"location":{"filename":"src/placeos-driver/queue.cr","line_number":26,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/queue.cr#L26"},"def":{"name":"connected_state","return_type":"Bool | ::Nil","visibility":"Public","body":"@connected_state"},"external_var":false},{"html_id":"current:Task|Nil-instance-method","name":"current","abstract":false,"location":{"filename":"src/placeos-driver/queue.cr","line_number":23,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/queue.cr#L23"},"def":{"name":"current","return_type":"Task | ::Nil","visibility":"Public","body":"@current"},"external_var":false},{"html_id":"delay:Time::Span|Nil-instance-method","name":"delay","abstract":false,"location":{"filename":"src/placeos-driver/queue.cr","line_number":34,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/queue.cr#L34"},"def":{"name":"delay","return_type":"Time::Span | ::Nil","visibility":"Public","body":"@delay"},"external_var":false},{"html_id":"delay=(delay:Time::Span|Nil)-instance-method","name":"delay=","abstract":false,"args":[{"name":"delay","external_name":"delay","restriction":"Time::Span | ::Nil"}],"args_string":"(delay : Time::Span | Nil)","args_html":"(delay : Time::Span | Nil)","location":{"filename":"src/placeos-driver/queue.cr","line_number":34,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/queue.cr#L34"},"def":{"name":"delay=","args":[{"name":"delay","external_name":"delay","restriction":"Time::Span | ::Nil"}],"visibility":"Public","body":"@delay = delay"},"external_var":false},{"html_id":"logger:::Log-instance-method","name":"logger","abstract":false,"location":{"filename":"src/placeos-driver/queue.cr","line_number":22,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/queue.cr#L22"},"def":{"name":"logger","return_type":"::Log","visibility":"Public","body":"@logger"},"external_var":false},{"html_id":"online:Bool-instance-method","name":"online","abstract":false,"location":{"filename":"src/placeos-driver/queue.cr","line_number":50,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/queue.cr#L50"},"def":{"name":"online","return_type":"Bool","visibility":"Public","body":"@online == true"},"external_var":false},{"html_id":"online=(state:Bool)-instance-method","name":"online=","abstract":false,"args":[{"name":"state","external_name":"state","restriction":"Bool"}],"args_string":"(state : Bool)","args_html":"(state : Bool)","location":{"filename":"src/placeos-driver/queue.cr","line_number":37,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/queue.cr#L37"},"def":{"name":"online=","args":[{"name":"state","external_name":"state","restriction":"Bool"}],"visibility":"Public","body":"begin\n  state_changed = state != @online\n  @connected_state = @online = state\n  if state_changed\n    @connected_callback.call(state)\n  end\n\n  if (@online && @waiting) && @queue.size > 0\n    @waiting = false\n    @channel.send(nil)\n  end\nrescue error\n  @logger.warn(exception: error) do \"changing queue state\" end\nend"},"external_var":false},{"html_id":"previous:Task|Nil-instance-method","name":"previous","abstract":false,"location":{"filename":"src/placeos-driver/queue.cr","line_number":24,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/queue.cr#L24"},"def":{"name":"previous","return_type":"Task | ::Nil","visibility":"Public","body":"@previous"},"external_var":false},{"html_id":"priority:Int32-instance-method","name":"priority","doc":"for modifying defaults","summary":"<p>for modifying defaults</p>","abstract":false,"location":{"filename":"src/placeos-driver/queue.cr","line_number":30,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/queue.cr#L30"},"def":{"name":"priority","return_type":"Int32","visibility":"Public","body":"@priority"},"external_var":false},{"html_id":"priority=(priority:Int32)-instance-method","name":"priority=","doc":"for modifying defaults","summary":"<p>for modifying defaults</p>","abstract":false,"args":[{"name":"priority","external_name":"priority","restriction":"Int32"}],"args_string":"(priority : Int32)","args_html":"(priority : Int32)","location":{"filename":"src/placeos-driver/queue.cr","line_number":30,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/queue.cr#L30"},"def":{"name":"priority=","args":[{"name":"priority","external_name":"priority","restriction":"Int32"}],"visibility":"Public","body":"@priority = priority"},"external_var":false},{"html_id":"retries:Int32-instance-method","name":"retries","abstract":false,"location":{"filename":"src/placeos-driver/queue.cr","line_number":32,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/queue.cr#L32"},"def":{"name":"retries","return_type":"Int32","visibility":"Public","body":"@retries"},"external_var":false},{"html_id":"retries=(retries:Int32)-instance-method","name":"retries=","abstract":false,"args":[{"name":"retries","external_name":"retries","restriction":"Int32"}],"args_string":"(retries : Int32)","args_html":"(retries : Int32)","location":{"filename":"src/placeos-driver/queue.cr","line_number":32,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/queue.cr#L32"},"def":{"name":"retries=","args":[{"name":"retries","external_name":"retries","restriction":"Int32"}],"visibility":"Public","body":"@retries = retries"},"external_var":false},{"html_id":"retry_bonus:Int32-instance-method","name":"retry_bonus","abstract":false,"location":{"filename":"src/placeos-driver/queue.cr","line_number":35,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/queue.cr#L35"},"def":{"name":"retry_bonus","return_type":"Int32","visibility":"Public","body":"@retry_bonus"},"external_var":false},{"html_id":"retry_bonus=(retry_bonus:Int32)-instance-method","name":"retry_bonus=","abstract":false,"args":[{"name":"retry_bonus","external_name":"retry_bonus","restriction":"Int32"}],"args_string":"(retry_bonus : Int32)","args_html":"(retry_bonus : Int32)","location":{"filename":"src/placeos-driver/queue.cr","line_number":35,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/queue.cr#L35"},"def":{"name":"retry_bonus=","args":[{"name":"retry_bonus","external_name":"retry_bonus","restriction":"Int32"}],"visibility":"Public","body":"@retry_bonus = retry_bonus"},"external_var":false},{"html_id":"set_connected(state:Bool)-instance-method","name":"set_connected","doc":"A helper method for setting the connected state, without effecting queue\nprocessing. UDP device not responding, incorrect login etc","summary":"<p>A helper method for setting the connected state, without effecting queue processing.</p>","abstract":false,"args":[{"name":"state","external_name":"state","restriction":"Bool"}],"args_string":"(state : Bool)","args_html":"(state : Bool)","location":{"filename":"src/placeos-driver/queue.cr","line_number":75,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/queue.cr#L75"},"def":{"name":"set_connected","args":[{"name":"state","external_name":"state","restriction":"Bool"}],"visibility":"Public","body":"current_state = @connected_state\n@connected_state = state\n\nif state && (!online)\n  self.online = true\nelsif state != current_state\n  @connected_callback.call(state)\nend\n\nself\n"},"external_var":false},{"html_id":"terminated:Bool-instance-method","name":"terminated","abstract":false,"location":{"filename":"src/placeos-driver/queue.cr","line_number":25,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/queue.cr#L25"},"def":{"name":"terminated","return_type":"Bool","visibility":"Public","body":"@terminated"},"external_var":false},{"html_id":"timeout:Time::Span-instance-method","name":"timeout","abstract":false,"location":{"filename":"src/placeos-driver/queue.cr","line_number":31,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/queue.cr#L31"},"def":{"name":"timeout","return_type":"Time::Span","visibility":"Public","body":"@timeout"},"external_var":false},{"html_id":"timeout=(timeout:Time::Span)-instance-method","name":"timeout=","abstract":false,"args":[{"name":"timeout","external_name":"timeout","restriction":"Time::Span"}],"args_string":"(timeout : Time::Span)","args_html":"(timeout : Time::Span)","location":{"filename":"src/placeos-driver/queue.cr","line_number":31,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/queue.cr#L31"},"def":{"name":"timeout=","args":[{"name":"timeout","external_name":"timeout","restriction":"Time::Span"}],"visibility":"Public","body":"@timeout = timeout"},"external_var":false},{"html_id":"wait:Bool-instance-method","name":"wait","abstract":false,"location":{"filename":"src/placeos-driver/queue.cr","line_number":33,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/queue.cr#L33"},"def":{"name":"wait","return_type":"Bool","visibility":"Public","body":"@wait"},"external_var":false},{"html_id":"wait=(wait:Bool)-instance-method","name":"wait=","abstract":false,"args":[{"name":"wait","external_name":"wait","restriction":"Bool"}],"args_string":"(wait : Bool)","args_html":"(wait : Bool)","location":{"filename":"src/placeos-driver/queue.cr","line_number":33,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/queue.cr#L33"},"def":{"name":"wait=","args":[{"name":"wait","external_name":"wait","restriction":"Bool"}],"visibility":"Public","body":"@wait = wait"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/RemoteException","path":"PlaceOS/Driver/RemoteException.html","kind":"class","full_name":"PlaceOS::Driver::RemoteException","name":"RemoteException","abstract":false,"superclass":{"html_id":"placeos-driver/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"placeos-driver/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/exception.cr","line_number":1,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/exception.cr#L1"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver","kind":"class","full_name":"PlaceOS::Driver","name":"Driver"},"constructors":[{"html_id":"new(message:String|Nil,class_name:String|Nil,backtrace:Array(String)=[]ofString,code:Int32=500)-class-method","name":"new","abstract":false,"args":[{"name":"message","external_name":"message","restriction":"String | ::Nil"},{"name":"class_name","external_name":"class_name","restriction":"String | ::Nil"},{"name":"backtrace","default_value":"[] of String","external_name":"backtrace","restriction":"::Array(::String)"},{"name":"code","default_value":"500","external_name":"code","restriction":"Int32"}],"args_string":"(message : String | Nil, class_name : String | Nil, backtrace : Array(String) = [] of String, code : Int32 = 500)","args_html":"(message : String | Nil, class_name : String | Nil, backtrace : Array(String) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>, code : Int32 = <span class=\"n\">500</span>)","location":{"filename":"src/placeos-driver/exception.cr","line_number":5,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/exception.cr#L5"},"def":{"name":"new","args":[{"name":"message","external_name":"message","restriction":"String | ::Nil"},{"name":"class_name","external_name":"class_name","restriction":"String | ::Nil"},{"name":"backtrace","default_value":"[] of String","external_name":"backtrace","restriction":"::Array(::String)"},{"name":"code","default_value":"500","external_name":"code","restriction":"Int32"}],"visibility":"Public","body":"_ = allocate\n_.initialize(message, class_name, backtrace, code)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(message:String,cause:Exception,backtrace:Array(String),code:Int32=500)-class-method","name":"new","abstract":false,"args":[{"name":"message","external_name":"message","restriction":"String"},{"name":"cause","external_name":"cause","restriction":"Exception"},{"name":"backtrace","external_name":"backtrace","restriction":"Array(String)"},{"name":"code","default_value":"500","external_name":"code","restriction":"Int32"}],"args_string":"(message : String, cause : Exception, backtrace : Array(String), code : Int32 = 500)","args_html":"(message : String, cause : Exception, backtrace : Array(String), code : Int32 = <span class=\"n\">500</span>)","location":{"filename":"src/placeos-driver/exception.cr","line_number":9,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/exception.cr#L9"},"def":{"name":"new","args":[{"name":"message","external_name":"message","restriction":"String"},{"name":"cause","external_name":"cause","restriction":"Exception"},{"name":"backtrace","external_name":"backtrace","restriction":"Array(String)"},{"name":"code","default_value":"500","external_name":"code","restriction":"Int32"}],"visibility":"Public","body":"_ = allocate\n_.initialize(message, cause, backtrace, code)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"backtrace?:Array(String)-instance-method","name":"backtrace?","doc":"Returns any backtrace associated with the exception if the call stack exists.\nThe backtrace is an array of strings, each containing\n“0xAddress: Function at File Line Column”.","summary":"<p>Returns any backtrace associated with the exception if the call stack exists.</p>","abstract":false,"location":{"filename":"src/placeos-driver/exception.cr","line_number":2,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/exception.cr#L2"},"def":{"name":"backtrace?","visibility":"Public","body":"@backtrace"},"external_var":false},{"html_id":"code:Int32-instance-method","name":"code","abstract":false,"location":{"filename":"src/placeos-driver/exception.cr","line_number":3,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/exception.cr#L3"},"def":{"name":"code","return_type":"Int32","visibility":"Public","body":"@code"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Security","path":"PlaceOS/Driver/Security.html","kind":"annotation","full_name":"PlaceOS::Driver::Security","name":"Security","abstract":false,"locations":[{"filename":"src/placeos-driver.cr","line_number":71,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L71"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver","kind":"class","full_name":"PlaceOS::Driver","name":"Driver"},"doc":"applies a security level to a driver function\n\n```\n@[Security(Level::Administrator)]\ndef my_driver_function\nend\n```","summary":"<p>applies a security level to a driver function</p>"},{"html_id":"placeos-driver/PlaceOS/Driver/Stats","path":"PlaceOS/Driver/Stats.html","kind":"module","full_name":"PlaceOS::Driver::Stats","name":"Stats","abstract":false,"locations":[{"filename":"src/placeos-driver/stats.cr","line_number":4,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/stats.cr#L4"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver","kind":"class","full_name":"PlaceOS::Driver","name":"Driver"},"class_methods":[{"html_id":"dump_stats-class-method","name":"dump_stats","doc":"Useful for debugging, it outputs memory usage and internal protocol queue values\n\nto obtain the stats you need to signal the process `kill -s USR2 %PID`","summary":"<p>Useful for debugging, it outputs memory usage and internal protocol queue values</p>","abstract":false,"location":{"filename":"src/placeos-driver/stats.cr","line_number":31,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/stats.cr#L31"},"def":{"name":"dump_stats","visibility":"Public","body":"Log.warn do \"\\n\\n#{memory_usage}\\n#{protocol_tracking}\\n\\n\" end"},"external_var":false},{"html_id":"memory_usage-class-method","name":"memory_usage","abstract":false,"location":{"filename":"src/placeos-driver/stats.cr","line_number":8,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/stats.cr#L8"},"def":{"name":"memory_usage","visibility":"Public","body":"stats = GC.stats\none_mib = 1048576\n{\n  stats_free: \"#{(stats.free_bytes / one_mib).round(1)}MiB\",\n  stats_heap: \"#{(stats.heap_size / one_mib).round(1)}MiB\",\n  stats_total: \"#{(stats.total_bytes / one_mib).round(1)}MiB\",\n  stats_unmapped: \"#{(stats.unmapped_bytes / one_mib).round(1)}MiB\",\n}\n"},"external_var":false},{"html_id":"protocol_tracking-class-method","name":"protocol_tracking","abstract":false,"location":{"filename":"src/placeos-driver/stats.cr","line_number":19,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/stats.cr#L19"},"def":{"name":"protocol_tracking","visibility":"Public","body":"protocol = PlaceOS::Driver::Protocol.instance\n{\n  tracking: (protocol.@tracking).size,\n  current: (protocol.@current_requests).size,\n  next: (protocol.@next_requests).size,\n}\n"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Task","path":"PlaceOS/Driver/Task.html","kind":"class","full_name":"PlaceOS::Driver::Task","name":"Task","abstract":false,"superclass":{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/task.cr","line_number":4,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L4"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"DEFAULT_BACKTR","name":"DEFAULT_BACKTR","value":"[] of String"},{"id":"DEFAULT_RESULT","name":"DEFAULT_RESULT","value":"\"null\""}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver","kind":"class","full_name":"PlaceOS::Driver","name":"Driver"},"constructors":[{"html_id":"new(queue:PlaceOS::Driver::Queue,callback:Proc(Task,Nil),priority:Int32,timeout:Time::Span,retries:Int32,wait:Bool,name:String|Nil,delay:Time::Span|Nil,clear_queue:Bool=false)-class-method","name":"new","abstract":false,"args":[{"name":"queue","external_name":"queue","restriction":"PlaceOS::Driver::Queue"},{"name":"callback","external_name":"callback","restriction":"Proc(Task, Nil)"},{"name":"priority","external_name":"priority","restriction":"Int32"},{"name":"timeout","external_name":"timeout","restriction":"Time::Span"},{"name":"retries","external_name":"retries","restriction":"Int32"},{"name":"wait","external_name":"wait","restriction":"Bool"},{"name":"name","external_name":"name","restriction":"String | ::Nil"},{"name":"delay","external_name":"delay","restriction":"Time::Span | ::Nil"},{"name":"clear_queue","default_value":"false","external_name":"clear_queue","restriction":"Bool"}],"args_string":"(queue : PlaceOS::Driver::Queue, callback : Proc(Task, Nil), priority : Int32, timeout : Time::Span, retries : Int32, wait : Bool, name : String | Nil, delay : Time::Span | Nil, clear_queue : Bool = false)","args_html":"(queue : <a href=\"../../PlaceOS/Driver/Queue.html\">PlaceOS::Driver::Queue</a>, callback : Proc(<a href=\"../../PlaceOS/Driver/Task.html\">Task</a>, Nil), priority : Int32, timeout : Time::Span, retries : Int32, wait : Bool, name : String | Nil, delay : Time::Span | Nil, clear_queue : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/placeos-driver/task.cr","line_number":8,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L8"},"def":{"name":"new","args":[{"name":"queue","external_name":"queue","restriction":"PlaceOS::Driver::Queue"},{"name":"callback","external_name":"callback","restriction":"Proc(Task, Nil)"},{"name":"priority","external_name":"priority","restriction":"Int32"},{"name":"timeout","external_name":"timeout","restriction":"Time::Span"},{"name":"retries","external_name":"retries","restriction":"Int32"},{"name":"wait","external_name":"wait","restriction":"Bool"},{"name":"name","external_name":"name","restriction":"String | ::Nil"},{"name":"delay","external_name":"delay","restriction":"Time::Span | ::Nil"},{"name":"clear_queue","default_value":"false","external_name":"clear_queue","restriction":"Bool"}],"visibility":"Public","body":"_ = allocate\n_.initialize(queue, callback, priority, timeout, retries, wait, name, delay, clear_queue)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"abort(reason=nil,code:Int32|Nil=500)-instance-method","name":"abort","doc":"call when the task has failed and we don't want to retry","summary":"<p>call when the task has failed and we don't want to retry</p>","abstract":false,"args":[{"name":"reason","default_value":"nil","external_name":"reason","restriction":""},{"name":"code","default_value":"500","external_name":"code","restriction":"::Int32 | ::Nil"}],"args_string":"(reason = nil, code : Int32 | Nil = 500)","args_html":"(reason = <span class=\"n\">nil</span>, code : Int32 | Nil = <span class=\"n\">500</span>)","location":{"filename":"src/placeos-driver/task.cr","line_number":171,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L171"},"def":{"name":"abort","args":[{"name":"reason","default_value":"nil","external_name":"reason","restriction":""},{"name":"code","default_value":"500","external_name":"code","restriction":"::Int32 | ::Nil"}],"visibility":"Public","body":"@code = code\nif @state.unknown?\nelse\n  return self\nend\n@state = :abort\n\nstop_timers\n@wait = false\nif reason\n  @payload = reason.to_s\nend\n@channel.close\n@complete.send(true)\n@complete.close\nlogger.warn do\n  if @name\n    \"aborting task, #{@name.inspect}, #{reason}\"\n  else\n    \"aborting task, #{reason}\"\n  end\nend\nself\n"},"external_var":false},{"html_id":"apparent_priority:Int32-instance-method","name":"apparent_priority","abstract":false,"location":{"filename":"src/placeos-driver/task.cr","line_number":49,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L49"},"def":{"name":"apparent_priority","return_type":"Int32","visibility":"Public","body":"@apparent_priority"},"external_var":false},{"html_id":"apparent_priority=(apparent_priority:Int32)-instance-method","name":"apparent_priority=","abstract":false,"args":[{"name":"apparent_priority","external_name":"apparent_priority","restriction":"Int32"}],"args_string":"(apparent_priority : Int32)","args_html":"(apparent_priority : Int32)","location":{"filename":"src/placeos-driver/task.cr","line_number":49,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L49"},"def":{"name":"apparent_priority=","args":[{"name":"apparent_priority","external_name":"apparent_priority","restriction":"Int32"}],"visibility":"Public","body":"@apparent_priority = apparent_priority"},"external_var":false},{"html_id":"backtrace:Array(String)-instance-method","name":"backtrace","abstract":false,"location":{"filename":"src/placeos-driver/task.cr","line_number":46,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L46"},"def":{"name":"backtrace","visibility":"Public","body":"@backtrace"},"external_var":false},{"html_id":"clear_queue:Bool-instance-method","name":"clear_queue","abstract":false,"location":{"filename":"src/placeos-driver/task.cr","line_number":48,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L48"},"def":{"name":"clear_queue","visibility":"Public","body":"@clear_queue"},"external_var":false},{"html_id":"clear_queue=(clear_queue:Bool)-instance-method","name":"clear_queue=","abstract":false,"args":[{"name":"clear_queue","external_name":"clear_queue","restriction":"::Bool"}],"args_string":"(clear_queue : Bool)","args_html":"(clear_queue : Bool)","location":{"filename":"src/placeos-driver/task.cr","line_number":48,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L48"},"def":{"name":"clear_queue=","args":[{"name":"clear_queue","external_name":"clear_queue","restriction":"::Bool"}],"visibility":"Public","body":"@clear_queue = clear_queue"},"external_var":false},{"html_id":"code:Int32|Nil-instance-method","name":"code","doc":"the response code that the browser will receive when executing via HTTP","summary":"<p>the response code that the browser will receive when executing via HTTP</p>","abstract":false,"location":{"filename":"src/placeos-driver/task.cr","line_number":36,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L36"},"def":{"name":"code","return_type":"Int32 | ::Nil","visibility":"Public","body":"@code"},"external_var":false},{"html_id":"code=(code:Int32|Nil)-instance-method","name":"code=","doc":"the response code that the browser will receive when executing via HTTP","summary":"<p>the response code that the browser will receive when executing via HTTP</p>","abstract":false,"args":[{"name":"code","external_name":"code","restriction":"Int32 | ::Nil"}],"args_string":"(code : Int32 | Nil)","args_html":"(code : Int32 | Nil)","location":{"filename":"src/placeos-driver/task.cr","line_number":36,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L36"},"def":{"name":"code=","args":[{"name":"code","external_name":"code","restriction":"Int32 | ::Nil"}],"visibility":"Public","body":"@code = code"},"external_var":false},{"html_id":"delay:Time::Span?-instance-method","name":"delay","abstract":false,"location":{"filename":"src/placeos-driver/task.cr","line_number":47,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L47"},"def":{"name":"delay","visibility":"Public","body":"@delay"},"external_var":false},{"html_id":"error_class:String?-instance-method","name":"error_class","abstract":false,"location":{"filename":"src/placeos-driver/task.cr","line_number":46,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L46"},"def":{"name":"error_class","visibility":"Public","body":"@error_class"},"external_var":false},{"html_id":"last_executed:Int64-instance-method","name":"last_executed","abstract":false,"location":{"filename":"src/placeos-driver/task.cr","line_number":46,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L46"},"def":{"name":"last_executed","visibility":"Public","body":"@last_executed"},"external_var":false},{"html_id":"name:String?-instance-method","name":"name","abstract":false,"location":{"filename":"src/placeos-driver/task.cr","line_number":47,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L47"},"def":{"name":"name","visibility":"Public","body":"@name"},"external_var":false},{"html_id":"payload:String-instance-method","name":"payload","abstract":false,"location":{"filename":"src/placeos-driver/task.cr","line_number":46,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L46"},"def":{"name":"payload","visibility":"Public","body":"@payload"},"external_var":false},{"html_id":"priority:Int32-instance-method","name":"priority","abstract":false,"location":{"filename":"src/placeos-driver/task.cr","line_number":48,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L48"},"def":{"name":"priority","visibility":"Public","body":"@priority"},"external_var":false},{"html_id":"priority=(priority:Int32)-instance-method","name":"priority=","abstract":false,"args":[{"name":"priority","external_name":"priority","restriction":"::Int32"}],"args_string":"(priority : Int32)","args_html":"(priority : Int32)","location":{"filename":"src/placeos-driver/task.cr","line_number":48,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L48"},"def":{"name":"priority=","args":[{"name":"priority","external_name":"priority","restriction":"::Int32"}],"visibility":"Public","body":"@priority = priority"},"external_var":false},{"html_id":"processing:Slice(UInt8),PlaceOS::Driver::Task->Nil?-instance-method","name":"processing","abstract":false,"location":{"filename":"src/placeos-driver/task.cr","line_number":48,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L48"},"def":{"name":"processing","visibility":"Public","body":"@processing"},"external_var":false},{"html_id":"processing=(processing:Nil|Slice(UInt8),PlaceOS::Driver::Task->_)-instance-method","name":"processing=","abstract":false,"args":[{"name":"processing","external_name":"processing","restriction":"::Nil | (::Slice(::UInt8), ::PlaceOS::Driver::Task -> _)"}],"args_string":"(processing : Nil | Slice(UInt8), PlaceOS::Driver::Task -> _)","args_html":"(processing : Nil | Slice(UInt8), <a href=\"../../PlaceOS/Driver/Task.html\">PlaceOS::Driver::Task</a> -> _)","location":{"filename":"src/placeos-driver/task.cr","line_number":48,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L48"},"def":{"name":"processing=","args":[{"name":"processing","external_name":"processing","restriction":"::Nil | (::Slice(::UInt8), ::PlaceOS::Driver::Task -> _)"}],"visibility":"Public","body":"@processing = processing"},"external_var":false},{"html_id":"reset_timers-instance-method","name":"reset_timers","doc":"a partial response was received and we don't want the timeout to trigger a retry","summary":"<p>a partial response was received and we don't want the timeout to trigger a retry</p>","abstract":false,"location":{"filename":"src/placeos-driver/task.cr","line_number":144,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L144"},"def":{"name":"reset_timers","visibility":"Public","body":"if @wait && !@channel.closed?\n  start_timers\nend"},"external_var":false},{"html_id":"retries:Int32-instance-method","name":"retries","abstract":false,"location":{"filename":"src/placeos-driver/task.cr","line_number":48,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L48"},"def":{"name":"retries","visibility":"Public","body":"@retries"},"external_var":false},{"html_id":"retries=(retries:Int32)-instance-method","name":"retries=","abstract":false,"args":[{"name":"retries","external_name":"retries","restriction":"::Int32"}],"args_string":"(retries : Int32)","args_html":"(retries : Int32)","location":{"filename":"src/placeos-driver/task.cr","line_number":48,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L48"},"def":{"name":"retries=","args":[{"name":"retries","external_name":"retries","restriction":"::Int32"}],"visibility":"Public","body":"@retries = retries"},"external_var":false},{"html_id":"retry(reason=nil)-instance-method","name":"retry","doc":"call when possible temporary failure or device busy","summary":"<p>call when possible temporary failure or device busy</p>","abstract":false,"args":[{"name":"reason","default_value":"nil","external_name":"reason","restriction":""}],"args_string":"(reason = nil)","args_html":"(reason = <span class=\"n\">nil</span>)","location":{"filename":"src/placeos-driver/task.cr","line_number":150,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L150"},"def":{"name":"retry","args":[{"name":"reason","default_value":"nil","external_name":"reason","restriction":""}],"visibility":"Public","body":"if (@wait == false) || @channel.closed?\n  return\nend\n\n@retries = @retries - 1\nif @retries >= 0\n  logger.info do\n    if @name\n      \"retrying task #{@name.inspect} #{reason}\"\n    else\n      \"retrying task #{reason}\"\n    end\n  end\n\n  stop_timers\n  @complete.send(false)\nelse\n  reason ? abort(\"retry limit reached (#{reason})\") : abort(\"retry limit reached\")\nend\n"},"external_var":false},{"html_id":"state:State-instance-method","name":"state","abstract":false,"location":{"filename":"src/placeos-driver/task.cr","line_number":45,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L45"},"def":{"name":"state","return_type":"State","visibility":"Public","body":"@state"},"external_var":false},{"html_id":"success(result=nil,code:Int32|Nil=200)-instance-method","name":"success","doc":"call when result is a success.\n\nThe result should support conversion to JSON otherwise the remote will only receive `nil`","summary":"<p>call when result is a success.</p>","abstract":false,"args":[{"name":"result","default_value":"nil","external_name":"result","restriction":""},{"name":"code","default_value":"200","external_name":"code","restriction":"::Int32 | ::Nil"}],"args_string":"(result = nil, code : Int32 | Nil = 200)","args_html":"(result = <span class=\"n\">nil</span>, code : Int32 | Nil = <span class=\"n\">200</span>)","location":{"filename":"src/placeos-driver/task.cr","line_number":123,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L123"},"def":{"name":"success","args":[{"name":"result","default_value":"nil","external_name":"result","restriction":""},{"name":"code","default_value":"200","external_name":"code","restriction":"::Int32 | ::Nil"}],"visibility":"Public","body":"@code = code\nif @state.unknown?\nelse\n  return self\nend\n@state = :success\n@wait = false\n\nif @response_required\n  begin\n    @payload = result.try_to_json(\"null\")\n  rescue e\n    logger.warn(exception: e) do \"unable to convert result to JSON\" end\n  end\nend\n\n@channel.close\n\nbegin\n  @complete.send(true)\nrescue\n  nil\nend\n@complete.close\nself\n"},"external_var":false},{"html_id":"wait:Bool-instance-method","name":"wait","abstract":false,"location":{"filename":"src/placeos-driver/task.cr","line_number":47,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L47"},"def":{"name":"wait","visibility":"Public","body":"@wait"},"external_var":false}],"types":[{"html_id":"placeos-driver/PlaceOS/Driver/Task/State","path":"PlaceOS/Driver/Task/State.html","kind":"enum","full_name":"PlaceOS::Driver::Task::State","name":"State","abstract":false,"ancestors":[{"html_id":"placeos-driver/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"placeos-driver/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"placeos-driver/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/task.cr","line_number":38,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L38"}],"repository_name":"placeos-driver","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"Success","name":"Success","value":"0"},{"id":"Abort","name":"Abort","value":"1"},{"id":"Exception","name":"Exception","value":"2"},{"id":"Unknown","name":"Unknown","value":"3"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Task","kind":"class","full_name":"PlaceOS::Driver::Task","name":"Task"},"instance_methods":[{"html_id":"abort?-instance-method","name":"abort?","doc":"Returns `true` if this enum value equals `Abort`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../PlaceOS/Driver/Task/State.html#Abort\">Abort</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/task.cr","line_number":40,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L40"},"def":{"name":"abort?","visibility":"Public","body":"self == Abort"},"external_var":false},{"html_id":"exception?-instance-method","name":"exception?","doc":"Returns `true` if this enum value equals `Exception`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../PlaceOS/Driver/Task/State.html#Exception\">Exception</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/task.cr","line_number":41,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L41"},"def":{"name":"exception?","visibility":"Public","body":"self == Exception"},"external_var":false},{"html_id":"success?-instance-method","name":"success?","doc":"Returns `true` if this enum value equals `Success`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../PlaceOS/Driver/Task/State.html#Success\">Success</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/task.cr","line_number":39,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L39"},"def":{"name":"success?","visibility":"Public","body":"self == Success"},"external_var":false},{"html_id":"unknown?-instance-method","name":"unknown?","doc":"Returns `true` if this enum value equals `Unknown`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../../PlaceOS/Driver/Task/State.html#Unknown\">Unknown</a></code></p>","abstract":false,"location":{"filename":"src/placeos-driver/task.cr","line_number":42,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/task.cr#L42"},"def":{"name":"unknown?","visibility":"Public","body":"self == Unknown"},"external_var":false}]}]},{"html_id":"placeos-driver/PlaceOS/Driver/Transport","path":"PlaceOS/Driver/Transport.html","kind":"class","full_name":"PlaceOS::Driver::Transport","name":"Transport","abstract":true,"superclass":{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/transport.cr","line_number":4,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L4"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"subclasses":[{"html_id":"placeos-driver/PlaceOS/Driver/TransportHTTP","kind":"class","full_name":"PlaceOS::Driver::TransportHTTP","name":"TransportHTTP"},{"html_id":"placeos-driver/PlaceOS/Driver/TransportLogic","kind":"class","full_name":"PlaceOS::Driver::TransportLogic","name":"TransportLogic"},{"html_id":"placeos-driver/PlaceOS/Driver/TransportSSH","kind":"class","full_name":"PlaceOS::Driver::TransportSSH","name":"TransportSSH"},{"html_id":"placeos-driver/PlaceOS/Driver/TransportTCP","kind":"class","full_name":"PlaceOS::Driver::TransportTCP","name":"TransportTCP"},{"html_id":"placeos-driver/PlaceOS/Driver/TransportUDP","kind":"class","full_name":"PlaceOS::Driver::TransportUDP","name":"TransportUDP"},{"html_id":"placeos-driver/PlaceOS/Driver/TransportWebsocket","kind":"class","full_name":"PlaceOS::Driver::TransportWebsocket","name":"TransportWebsocket"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver","kind":"class","full_name":"PlaceOS::Driver","name":"Driver"},"class_methods":[{"html_id":"default_tls:OpenSSL::SSL::Context::Client-class-method","name":"default_tls","abstract":false,"location":{"filename":"src/placeos-driver/transport.cr","line_number":39,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L39"},"def":{"name":"default_tls","return_type":"OpenSSL::SSL::Context::Client","visibility":"Public","body":"if (__temp_147 = @@default_tls).nil?\n  @@default_tls = (begin\n    ctx = OpenSSL::SSL::Context::Client.new\n    ctx.verify_mode = OpenSSL::SSL::VerifyMode::NONE\n    ctx\n  end)\nelse\n  __temp_147\nend"},"external_var":false},{"html_id":"insecure_tls:OpenSSL::SSL::Context::Client|Nil-class-method","name":"insecure_tls","abstract":false,"location":{"filename":"src/placeos-driver/transport.cr","line_number":37,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L37"},"def":{"name":"insecure_tls","return_type":"OpenSSL::SSL::Context::Client | ::Nil","visibility":"Public","body":"@@insecure_tls"},"external_var":false},{"html_id":"secure_tls:OpenSSL::SSL::Context::Client|Nil-class-method","name":"secure_tls","abstract":false,"location":{"filename":"src/placeos-driver/transport.cr","line_number":38,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L38"},"def":{"name":"secure_tls","return_type":"OpenSSL::SSL::Context::Client | ::Nil","visibility":"Public","body":"@@secure_tls"},"external_var":false},{"html_id":"tls_context_mutex:Mutex-class-method","name":"tls_context_mutex","abstract":false,"location":{"filename":"src/placeos-driver/transport.cr","line_number":36,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L36"},"def":{"name":"tls_context_mutex","return_type":"Mutex","visibility":"Public","body":"@@tls_context_mutex"},"external_var":false}],"instance_methods":[{"html_id":"before_request(&before_request:HTTP::Request->)-instance-method","name":"before_request","abstract":false,"location":{"filename":"src/placeos-driver/transport.cr","line_number":25,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L25"},"def":{"name":"before_request","yields":1,"block_arity":1,"block_arg":{"name":"before_request","external_name":"before_request","restriction":"(HTTP::Request ->)"},"visibility":"Public","body":"@before_request = before_request"},"external_var":false},{"html_id":"ca_certificates_file:String-instance-method","name":"ca_certificates_file","abstract":false,"location":{"filename":"src/placeos-driver/transport.cr","line_number":17,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L17"},"def":{"name":"ca_certificates_file","return_type":"String","visibility":"Public","body":"if (__temp_146 = @ca_certificates_file).nil?\n  @ca_certificates_file = (File.tempname(\"ca-\", \".pem\"))\nelse\n  __temp_146\nend"},"external_var":false},{"html_id":"client_cert_file:String-instance-method","name":"client_cert_file","abstract":false,"location":{"filename":"src/placeos-driver/transport.cr","line_number":16,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L16"},"def":{"name":"client_cert_file","return_type":"String","visibility":"Public","body":"if (__temp_145 = @client_cert_file).nil?\n  @client_cert_file = (File.tempname(\"cert-\", \".pem\"))\nelse\n  __temp_145\nend"},"external_var":false},{"html_id":"connect(connect_timeout:Int32):Nil-instance-method","name":"connect","abstract":true,"args":[{"name":"connect_timeout","external_name":"connect_timeout","restriction":"Int32"}],"args_string":"(connect_timeout : Int32) : Nil","args_html":"(connect_timeout : Int32) : Nil","location":{"filename":"src/placeos-driver/transport.cr","line_number":9,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L9"},"def":{"name":"connect","args":[{"name":"connect_timeout","external_name":"connect_timeout","restriction":"Int32"}],"return_type":"Nil","visibility":"Public","body":""},"external_var":false},{"html_id":"cookies:HTTP::Cookies-instance-method","name":"cookies","abstract":false,"location":{"filename":"src/placeos-driver/transport.cr","line_number":14,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L14"},"def":{"name":"cookies","return_type":"::HTTP::Cookies","visibility":"Public","body":"if (__temp_143 = @cookies).nil?\n  @cookies = (::HTTP::Cookies.new)\nelse\n  __temp_143\nend"},"external_var":false},{"html_id":"disconnect:Nil-instance-method","name":"disconnect","abstract":true,"location":{"filename":"src/placeos-driver/transport.cr","line_number":8,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L8"},"def":{"name":"disconnect","return_type":"Nil","visibility":"Public","body":""},"external_var":false},{"html_id":"exec(message):SSH2::Channel-instance-method","name":"exec","doc":"Only SSH implements exec","summary":"<p>Only SSH implements exec</p>","abstract":false,"args":[{"name":"message","external_name":"message","restriction":""}],"args_string":"(message) : SSH2::Channel","args_html":"(message) : SSH2::Channel","location":{"filename":"src/placeos-driver/transport.cr","line_number":29,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L29"},"def":{"name":"exec","args":[{"name":"message","external_name":"message","restriction":""}],"return_type":"SSH2::Channel","visibility":"Public","body":"raise(::IO::EOFError.new(\"exec is only available to SSH transports\"))"},"external_var":false},{"html_id":"http_uri_override:URI|Nil-instance-method","name":"http_uri_override","doc":"for non-http drivers to define a non-default http endpoint","summary":"<p>for non-http drivers to define a non-default http endpoint</p>","abstract":false,"location":{"filename":"src/placeos-driver/transport.cr","line_number":20,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L20"},"def":{"name":"http_uri_override","return_type":"URI | ::Nil","visibility":"Public","body":"@http_uri_override"},"external_var":false},{"html_id":"http_uri_override=(http_uri_override:URI|Nil)-instance-method","name":"http_uri_override=","doc":"for non-http drivers to define a non-default http endpoint","summary":"<p>for non-http drivers to define a non-default http endpoint</p>","abstract":false,"args":[{"name":"http_uri_override","external_name":"http_uri_override","restriction":"URI | ::Nil"}],"args_string":"(http_uri_override : URI | Nil)","args_html":"(http_uri_override : URI | Nil)","location":{"filename":"src/placeos-driver/transport.cr","line_number":20,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L20"},"def":{"name":"http_uri_override=","args":[{"name":"http_uri_override","external_name":"http_uri_override","restriction":"URI | ::Nil"}],"visibility":"Public","body":"@http_uri_override = http_uri_override"},"external_var":false},{"html_id":"logger(*args,**options)-instance-method","name":"logger","doc":"Use `logger` of `Driver::Queue`","summary":"<p>Use <code><a href=\"../../PlaceOS/Driver/Transport.html#logger%28%2Aargs%2C%2A%2Aoptions%29-instance-method\">#logger</a></code> of <code><a href=\"../../PlaceOS/Driver/Queue.html\">Driver::Queue</a></code></p>","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/placeos-driver/transport.cr","line_number":34,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L34"},"def":{"name":"logger","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@queue.logger(*args, **options)"},"external_var":false},{"html_id":"logger(*args,**options,&)-instance-method","name":"logger","doc":"Use `logger` of `Driver::Queue`","summary":"<p>Use <code><a href=\"../../PlaceOS/Driver/Transport.html#logger%28%2Aargs%2C%2A%2Aoptions%29-instance-method\">#logger</a></code> of <code><a href=\"../../PlaceOS/Driver/Queue.html\">Driver::Queue</a></code></p>","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/placeos-driver/transport.cr","line_number":34,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L34"},"def":{"name":"logger","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@queue.logger(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"pre_processor:Bytes->Bytes|Nil|Nil-instance-method","name":"pre_processor","abstract":false,"location":{"filename":"src/placeos-driver/transport.cr","line_number":12,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L12"},"def":{"name":"pre_processor","return_type":"(Bytes -> Bytes | ::Nil) | Nil","visibility":"Public","body":"@pre_processor"},"external_var":false},{"html_id":"pre_processor(&pre_processor:Bytes->Bytes|Nil)-instance-method","name":"pre_processor","abstract":false,"location":{"filename":"src/placeos-driver/transport.cr","line_number":22,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L22"},"def":{"name":"pre_processor","yields":1,"block_arity":1,"block_arg":{"name":"pre_processor","external_name":"pre_processor","restriction":"(Bytes -> Bytes | ::Nil)"},"visibility":"Public","body":"@pre_processor = pre_processor"},"external_var":false},{"html_id":"pre_processor=(pre_processor:Bytes->Bytes|Nil|Nil)-instance-method","name":"pre_processor=","abstract":false,"args":[{"name":"pre_processor","external_name":"pre_processor","restriction":"(Bytes -> Bytes | ::Nil) | Nil"}],"args_string":"(pre_processor : Bytes -> Bytes | Nil | Nil)","args_html":"(pre_processor : Bytes -> Bytes | Nil | Nil)","location":{"filename":"src/placeos-driver/transport.cr","line_number":12,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L12"},"def":{"name":"pre_processor=","args":[{"name":"pre_processor","external_name":"pre_processor","restriction":"(Bytes -> Bytes | ::Nil) | Nil"}],"visibility":"Public","body":"@pre_processor = pre_processor"},"external_var":false},{"html_id":"private_key_file:String-instance-method","name":"private_key_file","abstract":false,"location":{"filename":"src/placeos-driver/transport.cr","line_number":15,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L15"},"def":{"name":"private_key_file","return_type":"String","visibility":"Public","body":"if (__temp_144 = @private_key_file).nil?\n  @private_key_file = (File.tempname(\"key-\", \".pem\"))\nelse\n  __temp_144\nend"},"external_var":false},{"html_id":"proxy_in_use:String|Nil-instance-method","name":"proxy_in_use","abstract":false,"location":{"filename":"src/placeos-driver/transport.cr","line_number":13,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L13"},"def":{"name":"proxy_in_use","return_type":"String | ::Nil","visibility":"Public","body":"@proxy_in_use"},"external_var":false},{"html_id":"send(message):PlaceOS::Driver::Transport-instance-method","name":"send","abstract":true,"args":[{"name":"message","external_name":"message","restriction":""}],"args_string":"(message) : PlaceOS::Driver::Transport","args_html":"(message) : <a href=\"../../PlaceOS/Driver/Transport.html\">PlaceOS::Driver::Transport</a>","location":{"filename":"src/placeos-driver/transport.cr","line_number":5,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L5"},"def":{"name":"send","args":[{"name":"message","external_name":"message","restriction":""}],"return_type":"PlaceOS::Driver::Transport","visibility":"Public","body":""},"external_var":false},{"html_id":"send(message,task:PlaceOS::Driver::Task,&_block:Bytes,PlaceOS::Driver::Task->Nil):PlaceOS::Driver::Transport-instance-method","name":"send","abstract":true,"args":[{"name":"message","external_name":"message","restriction":""},{"name":"task","external_name":"task","restriction":"PlaceOS::Driver::Task"}],"args_string":"(message, task : PlaceOS::Driver::Task, &_block : Bytes, PlaceOS::Driver::Task -> Nil) : PlaceOS::Driver::Transport","args_html":"(message, task : <a href=\"../../PlaceOS/Driver/Task.html\">PlaceOS::Driver::Task</a>, &_block : Bytes, <a href=\"../../PlaceOS/Driver/Task.html\">PlaceOS::Driver::Task</a> -> Nil) : <a href=\"../../PlaceOS/Driver/Transport.html\">PlaceOS::Driver::Transport</a>","location":{"filename":"src/placeos-driver/transport.cr","line_number":6,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L6"},"def":{"name":"send","args":[{"name":"message","external_name":"message","restriction":""},{"name":"task","external_name":"task","restriction":"PlaceOS::Driver::Task"}],"yields":2,"block_arity":2,"block_arg":{"name":"_block","external_name":"_block","restriction":"(Bytes, PlaceOS::Driver::Task -> Nil)"},"return_type":"PlaceOS::Driver::Transport","visibility":"Public","body":""},"external_var":false},{"html_id":"terminate:Nil-instance-method","name":"terminate","abstract":true,"location":{"filename":"src/placeos-driver/transport.cr","line_number":7,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L7"},"def":{"name":"terminate","return_type":"Nil","visibility":"Public","body":""},"external_var":false},{"html_id":"tokenizer:Tokenizer|Nil-instance-method","name":"tokenizer","abstract":false,"location":{"filename":"src/placeos-driver/transport.cr","line_number":11,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L11"},"def":{"name":"tokenizer","return_type":"::Tokenizer | ::Nil","visibility":"Public","body":"@tokenizer"},"external_var":false},{"html_id":"tokenizer=(tokenizer:Tokenizer|Nil)-instance-method","name":"tokenizer=","abstract":false,"args":[{"name":"tokenizer","external_name":"tokenizer","restriction":"::Tokenizer | ::Nil"}],"args_string":"(tokenizer : Tokenizer | Nil)","args_html":"(tokenizer : Tokenizer | Nil)","location":{"filename":"src/placeos-driver/transport.cr","line_number":11,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L11"},"def":{"name":"tokenizer=","args":[{"name":"tokenizer","external_name":"tokenizer","restriction":"::Tokenizer | ::Nil"}],"visibility":"Public","body":"@tokenizer = tokenizer"},"external_var":false}],"macros":[{"html_id":"__build_http_helper__-macro","name":"__build_http_helper__","abstract":false,"location":{"filename":"src/placeos-driver/transport.cr","line_number":45,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport.cr#L45"},"def":{"name":"__build_http_helper__","visibility":"Public","body":"    \n{% if @type.name.id.stringify != \"PlaceOS::Driver::TransportHTTP\" %}\r\n      def http(method, path, body : ::HTTP::Client::BodyType = nil,\r\n        params : Hash(String, String?) | URI::Params = URI::Params.new,\r\n        headers : Hash(String, String) | HTTP::Headers = HTTP::Headers.new,\r\n        secure = false, concurrent = true\r\n      ) : ::HTTP::Client::Response\r\n        {% if @type.name.id.stringify == \"PlaceOS::Driver::TransportLogic\" %}\r\n          raise \"HTTP requests are not available in logic drivers\"\r\n        {% else %}\r\n\r\n          if uri_override = http_uri_override\r\n            uri = uri_override\r\n          elsif (uri_config = @uri.try(&.strip)) && !uri_config.empty?\r\n            uri = URI.parse uri_config\r\n          end\r\n\r\n          if uri\r\n            context = case uri.scheme\r\n                      when \"https\", \"wss\"\r\n                        uri.scheme = \"https\"\r\n                        self.class.default_tls\r\n                      when \"ws\"\r\n                        uri.scheme = \"http\"\r\n                        nil\r\n                      else\r\n                        nil\r\n                      end\r\n          else\r\n            context = if secure\r\n                        uri = URI.parse \"https://#{@ip}\"\r\n\r\n                        if secure.is_a?(OpenSSL::SSL::Context::Client)\r\n                          secure\r\n                        else\r\n                          self.class.default_tls\r\n                        end\r\n                      else\r\n                        uri = URI.parse \"http://#{@ip}\"\r\n                        nil\r\n                      end\r\n          end\r\n\r\n          # Build the new URI\r\n          uri.path = path\r\n          params = if params.is_a?(Hash)\r\n                    URI::Params.new(params.transform_values { |v| v ? [v] : [] of String })\r\n                  else\r\n                    params\r\n                  end\r\n          uri.query_params = params\r\n\r\n          # Apply headers\r\n          headers = headers.is_a?(Hash) ? HTTP::Headers.new.tap { |head| headers.map { |key, value| head[key] = value } } : headers\r\n\r\n          # Make the request\r\n          client = new_http_client(uri, context)\r\n          cookies.add_request_headers(headers) unless @settings.get { setting?(Bool, :disable_cookies) } || false\r\n          logger.debug { \"http helper requesting: #{method.to_s.upcase} #{uri.request_target}\" }\r\n          check_http_response_encoding client.exec(method.to_s.upcase, uri.request_target, headers, body).tap { client.close }\r\n        {% end %}\r\n      end\r\n    {% end %}\n\r\n\r\n    protected def check_http_response_encoding(response)\r\n      headers = response.headers\r\n      cookies.fill_from_server_headers(headers) unless @settings.get \n{ setting?(Bool, :disable_cookies) } || false\r\n      \nencoding = headers[\"Content-Encoding\"]?\r\n      if \nencoding.in?(\n{\"gzip\", \"deflate\"})\r\n        response.consume_body_io\r\n        body = response.body\r\n\r\n        if !body.blank?\r\n          body_io = IO::Memory.new(body)\r\n          body = case \nencoding\r\n                 when \"gzip\"\r\n                   Compress::Gzip::Reader.open(body_io, &.gets_to_end)\r\n                 when \"deflate\"\r\n                   Compress::Deflate::Reader.open(body_io, &.gets_to_end)\r\n                 \nend\r\n\r\n          headers.delete(\"Content-Encoding\")\r\n          headers.delete(\"Content-Length\")\r\n\r\n          response = HTTP::Client::Response.new(response.status, body, headers, response.status_message, response.version)\r\n        \nend\r\n      \nend\r\n      response\r\n    \nend\r\n\r\n    \n{% if @type.name.id.stringify != \"PlaceOS::Driver::TransportLogic\" %}\r\n      protected def new_http_client(uri, context)\r\n        client = ConnectProxy::HTTPClient.new(uri, context, ignore_env: true)\r\n        connect_timeout = (@settings.get { setting?(Int32, :http_connect_timeout) } || 10).seconds\r\n        comms_timeout = (@settings.get { setting?(Int32, :http_comms_timeout) } || 120).seconds\r\n        client.dns_timeout = connect_timeout\r\n        client.connect_timeout = connect_timeout\r\n        client.read_timeout = comms_timeout\r\n        client.write_timeout = comms_timeout\r\n\r\n        # Apply basic auth settings\r\n        if auth = @settings.get { setting?(NamedTuple(username: String, password: String), :basic_auth) }\r\n          client.basic_auth **auth\r\n        end\r\n\r\n        # Apply proxy settings\r\n        if proxy_config = @settings.get { setting?(NamedTuple(host: String, port: Int32, auth: NamedTuple(username: String, password: String)?), :proxy) }\r\n          # this check is here so we can disable proxies as required\r\n          if proxy_config[:host].presence\r\n            proxy = ConnectProxy.new(**proxy_config)\r\n            client.before_request { client.set_proxy(proxy.not_nil!) }\r\n          end\r\n        elsif ConnectProxy.behind_proxy?\r\n          # Apply environment defined proxy\r\n          begin\r\n            proxy = ConnectProxy.new(*ConnectProxy.parse_proxy_url)\r\n            client.before_request { client.set_proxy(proxy.not_nil!) }\r\n          rescue error\r\n            logger.warn(exception: error) { \"failed to apply environment proxy URI\" }\r\n          end\r\n        end\r\n\r\n        @proxy_in_use = proxy.try &.proxy_host\r\n\r\n        # Check if we need to override the Host header\r\n        if host_header = @settings.get { setting?(String, :host_header) }\r\n          client.before_request { |request| request.headers[\"Host\"] = host_header }\r\n        end\r\n\r\n        client.compress = true\r\n        if before_req = @before_request\r\n          client.before_request &before_req\r\n        end\r\n        client\r\n      end\r\n    {% end %}\n\r\n\r\n    def \nenable_multicast_loop(state = true)\r\n      \n{% if @type.name.id.stringify == \"PlaceOS::Driver::TransportUDP\" %}\r\n        @socket.try &.multicast_loopback = state\r\n      {% end %}\n\r\n      state\r\n    \nend\r\n  \n"}}]},{"html_id":"placeos-driver/PlaceOS/Driver/TransportHTTP","path":"PlaceOS/Driver/TransportHTTP.html","kind":"class","full_name":"PlaceOS::Driver::TransportHTTP","name":"TransportHTTP","abstract":false,"superclass":{"html_id":"placeos-driver/PlaceOS/Driver/Transport","kind":"class","full_name":"PlaceOS::Driver::Transport","name":"Transport"},"ancestors":[{"html_id":"placeos-driver/PlaceOS/Driver/Transport","kind":"class","full_name":"PlaceOS::Driver::Transport","name":"Transport"},{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/transport/http.cr","line_number":114,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/http.cr#L114"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver","kind":"class","full_name":"PlaceOS::Driver","name":"Driver"},"doc":"Implement transport","summary":"<p>Implement transport</p>","constructors":[{"html_id":"new(queue:PlaceOS::Driver::Queue,uri:String,settings:PlaceOS::Driver::Settings,&received:->Nil)-class-method","name":"new","doc":"timeouts in seconds","summary":"<p>timeouts in seconds</p>","abstract":false,"args":[{"name":"queue","external_name":"queue","restriction":"PlaceOS::Driver::Queue"},{"name":"uri","external_name":"uri","restriction":"String"},{"name":"settings","external_name":"settings","restriction":"::PlaceOS::Driver::Settings"}],"args_string":"(queue : PlaceOS::Driver::Queue, uri : String, settings : PlaceOS::Driver::Settings, &received :  -> Nil)","args_html":"(queue : <a href=\"../../PlaceOS/Driver/Queue.html\">PlaceOS::Driver::Queue</a>, uri : String, settings : PlaceOS::Driver::Settings, &received :  -> Nil)","location":{"filename":"src/placeos-driver/transport/http.cr","line_number":116,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/http.cr#L116"},"def":{"name":"new","args":[{"name":"queue","external_name":"queue","restriction":"PlaceOS::Driver::Queue"},{"name":"uri","external_name":"uri","restriction":"String"},{"name":"settings","external_name":"settings","restriction":"::PlaceOS::Driver::Settings"}],"yields":0,"block_arity":0,"block_arg":{"name":"received","external_name":"received","restriction":"(-> Nil)"},"visibility":"Public","body":"_ = allocate\n_.initialize(queue, uri, settings, &received) do\n  yield\nend\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"connect(connect_timeout:Int32=10):Nil-instance-method","name":"connect","abstract":false,"args":[{"name":"connect_timeout","default_value":"10","external_name":"connect_timeout","restriction":"Int32"}],"args_string":"(connect_timeout : Int32 = 10) : Nil","args_html":"(connect_timeout : Int32 = <span class=\"n\">10</span>) : Nil","location":{"filename":"src/placeos-driver/transport/http.cr","line_number":150,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/http.cr#L150"},"def":{"name":"connect","args":[{"name":"connect_timeout","default_value":"10","external_name":"connect_timeout","restriction":"Int32"}],"return_type":"Nil","visibility":"Public","body":"if @terminated\n  return\nend\n\n\nFiber.yield\n\n\n@queue.online = true\n"},"external_var":false},{"html_id":"disconnect:Nil-instance-method","name":"disconnect","abstract":false,"location":{"filename":"src/placeos-driver/transport/http.cr","line_number":294,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/http.cr#L294"},"def":{"name":"disconnect","return_type":"Nil","visibility":"Public","body":""},"external_var":false},{"html_id":"enable_multicast_loop(state=true)-instance-method","name":"enable_multicast_loop","doc":"Implement transport","summary":"<p>Implement transport</p>","abstract":false,"args":[{"name":"state","default_value":"true","external_name":"state","restriction":""}],"args_string":"(state = true)","args_html":"(state = <span class=\"n\">true</span>)","def":{"name":"enable_multicast_loop","args":[{"name":"state","default_value":"true","external_name":"state","restriction":""}],"visibility":"Public","body":"state"},"external_var":false},{"html_id":"http(method,path,body:HTTP::Client::BodyType=nil,params:Hash(String,String|Nil)|URI::Params=URI::Params.new,headers:Hash(String,String)|HTTP::Headers=HTTP::Headers.new,secure=false,concurrent=false):HTTP::Client::Response-instance-method","name":"http","doc":"ameba:disable Metrics/CyclomaticComplexity","summary":"<p>ameba:disable Metrics/CyclomaticComplexity</p>","abstract":false,"args":[{"name":"method","external_name":"method","restriction":""},{"name":"path","external_name":"path","restriction":""},{"name":"body","default_value":"nil","external_name":"body","restriction":"::HTTP::Client::BodyType"},{"name":"params","default_value":"URI::Params.new","external_name":"params","restriction":"Hash(String, String | ::Nil) | URI::Params"},{"name":"headers","default_value":"HTTP::Headers.new","external_name":"headers","restriction":"Hash(String, String) | HTTP::Headers"},{"name":"secure","default_value":"false","external_name":"secure","restriction":""},{"name":"concurrent","default_value":"false","external_name":"concurrent","restriction":""}],"args_string":"(method, path, body : HTTP::Client::BodyType = nil, params : Hash(String, String | Nil) | URI::Params = URI::Params.new, headers : Hash(String, String) | HTTP::Headers = HTTP::Headers.new, secure = false, concurrent = false) : HTTP::Client::Response","args_html":"(method, path, body : HTTP::Client::BodyType = <span class=\"n\">nil</span>, params : Hash(String, String | Nil) | URI::Params = <span class=\"t\">URI</span><span class=\"t\">::</span><span class=\"t\">Params</span>.new, headers : Hash(String, String) | HTTP::Headers = <span class=\"t\">HTTP</span><span class=\"t\">::</span><span class=\"t\">Headers</span>.new, secure = <span class=\"n\">false</span>, concurrent = <span class=\"n\">false</span>) : HTTP::Client::Response","location":{"filename":"src/placeos-driver/transport/http.cr","line_number":206,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/http.cr#L206"},"def":{"name":"http","args":[{"name":"method","external_name":"method","restriction":""},{"name":"path","external_name":"path","restriction":""},{"name":"body","default_value":"nil","external_name":"body","restriction":"::HTTP::Client::BodyType"},{"name":"params","default_value":"URI::Params.new","external_name":"params","restriction":"Hash(String, String | ::Nil) | URI::Params"},{"name":"headers","default_value":"HTTP::Headers.new","external_name":"headers","restriction":"Hash(String, String) | HTTP::Headers"},{"name":"secure","default_value":"false","external_name":"secure","restriction":""},{"name":"concurrent","default_value":"false","external_name":"concurrent","restriction":""}],"return_type":"::HTTP::Client::Response","visibility":"Public","body":"begin\n  if @terminated\n    raise(\"driver terminated\")\n  end\n\n  scheme = @uri_base.scheme || \"http\"\n  host = @uri_base.host\n\n\n  port = @uri_base.port\n  port = port ? \":#{port}\" : \"\"\n  base_path = @uri_base.path || \"\"\n\n\n  if base_path.ends_with?('/')\n    base_path = base_path[0..-2]\n  end\n\n\n  uri = URI.parse(\"#{scheme}://#{host}#{port}#{base_path}#{path}\")\n\n\n  params = if params.is_a?(Hash)\n    URI::Params.new(params.transform_values do |v| v ? [v] : [] of String end)\n  else\n    params\n  end\n  @params_base.each do |key, value| params[key] = value end\n\n  if !params.empty?\n    uri.query_params.each do |key, value| params[key] = value end\n    uri.query_params = params\n  end\n\n\n  if (base_fragment = @uri_base.fragment) && !@uri_base.fragment.try(&.empty?)\n    uri_fragment = uri.fragment\n    if uri_fragment.nil? || uri_fragment.empty?\n      uri.fragment = base_fragment\n    end\n  end\n\n\n  headers = headers.is_a?(Hash) ? HTTP::Headers.new.tap do |head| headers.map do |key, value| head[key] = value end end : headers\n  if @settings.get do setting?(Bool, :disable_cookies) end || false\n  else\n    cookies.add_request_headers(headers)\n  end\n\n  logger.debug do \"http transport requesting: #{method.to_s.upcase} #{uri.request_target}\" end\n\n\n  response = if concurrent || @max_requests.zero?\n    client = new_http_client(uri, @tls)\n    (client.exec(method.to_s.upcase, uri.request_target, headers, body)).tap do client.close end\n  else\n    with_shared_client do |shared_client|\n      resp = shared_client.exec(method.to_s.upcase, uri.request_target, headers, body)\n      if keep_alive = resp.headers[\"Keep-Alive\"]?\n        parse_keep_alive(keep_alive)\n      end\n      resp\n    end\n  end\n\n\n  set_connected_state(true)\n  @received.call\n\n\n  check_http_response_encoding(response)\nrescue error : IO::Error | ArgumentError\n  set_connected_state(false)\n  raise(error)\nend"},"external_var":false},{"html_id":"received:->Nil-instance-method","name":"received","abstract":false,"location":{"filename":"src/placeos-driver/transport/http.cr","line_number":148,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/http.cr#L148"},"def":{"name":"received","visibility":"Public","body":"@received"},"external_var":false},{"html_id":"received=(received:->_)-instance-method","name":"received=","abstract":false,"args":[{"name":"received","external_name":"received","restriction":"( -> _)"}],"args_string":"(received :  -> _)","args_html":"(received :  -> _)","location":{"filename":"src/placeos-driver/transport/http.cr","line_number":148,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/http.cr#L148"},"def":{"name":"received=","args":[{"name":"received","external_name":"received","restriction":"( -> _)"}],"visibility":"Public","body":"@received = received"},"external_var":false},{"html_id":"send(message):TransportHTTP-instance-method","name":"send","abstract":false,"args":[{"name":"message","external_name":"message","restriction":""}],"args_string":"(message) : TransportHTTP","args_html":"(message) : <a href=\"../../PlaceOS/Driver/TransportHTTP.html\">TransportHTTP</a>","location":{"filename":"src/placeos-driver/transport/http.cr","line_number":297,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/http.cr#L297"},"def":{"name":"send","args":[{"name":"message","external_name":"message","restriction":""}],"return_type":"TransportHTTP","visibility":"Public","body":"raise(\"not available to HTTP drivers\")"},"external_var":false},{"html_id":"send(message,task:PlaceOS::Driver::Task,&_block:Bytes,PlaceOS::Driver::Task->Nil):TransportHTTP-instance-method","name":"send","abstract":false,"args":[{"name":"message","external_name":"message","restriction":""},{"name":"task","external_name":"task","restriction":"PlaceOS::Driver::Task"}],"args_string":"(message, task : PlaceOS::Driver::Task, &_block : Bytes, PlaceOS::Driver::Task -> Nil) : TransportHTTP","args_html":"(message, task : <a href=\"../../PlaceOS/Driver/Task.html\">PlaceOS::Driver::Task</a>, &_block : Bytes, <a href=\"../../PlaceOS/Driver/Task.html\">PlaceOS::Driver::Task</a> -> Nil) : <a href=\"../../PlaceOS/Driver/TransportHTTP.html\">TransportHTTP</a>","location":{"filename":"src/placeos-driver/transport/http.cr","line_number":301,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/http.cr#L301"},"def":{"name":"send","args":[{"name":"message","external_name":"message","restriction":""},{"name":"task","external_name":"task","restriction":"PlaceOS::Driver::Task"}],"yields":2,"block_arity":2,"block_arg":{"name":"_block","external_name":"_block","restriction":"(Bytes, PlaceOS::Driver::Task -> Nil)"},"return_type":"TransportHTTP","visibility":"Public","body":"raise(\"not available to HTTP drivers\")"},"external_var":false},{"html_id":"terminate:Nil-instance-method","name":"terminate","abstract":false,"location":{"filename":"src/placeos-driver/transport/http.cr","line_number":290,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/http.cr#L290"},"def":{"name":"terminate","return_type":"Nil","visibility":"Public","body":"@terminated = true"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/TransportLogic","path":"PlaceOS/Driver/TransportLogic.html","kind":"class","full_name":"PlaceOS::Driver::TransportLogic","name":"TransportLogic","abstract":false,"superclass":{"html_id":"placeos-driver/PlaceOS/Driver/Transport","kind":"class","full_name":"PlaceOS::Driver::Transport","name":"Transport"},"ancestors":[{"html_id":"placeos-driver/PlaceOS/Driver/Transport","kind":"class","full_name":"PlaceOS::Driver::Transport","name":"Transport"},{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/transport/logic.cr","line_number":3,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/logic.cr#L3"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver","kind":"class","full_name":"PlaceOS::Driver","name":"Driver"},"constructors":[{"html_id":"new(queue:PlaceOS::Driver::Queue)-class-method","name":"new","abstract":false,"args":[{"name":"queue","external_name":"queue","restriction":"PlaceOS::Driver::Queue"}],"args_string":"(queue : PlaceOS::Driver::Queue)","args_html":"(queue : <a href=\"../../PlaceOS/Driver/Queue.html\">PlaceOS::Driver::Queue</a>)","location":{"filename":"src/placeos-driver/transport/logic.cr","line_number":4,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/logic.cr#L4"},"def":{"name":"new","args":[{"name":"queue","external_name":"queue","restriction":"PlaceOS::Driver::Queue"}],"visibility":"Public","body":"_ = allocate\n_.initialize(queue)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"connect(connect_timeout:Int32=0):Nil-instance-method","name":"connect","abstract":false,"args":[{"name":"connect_timeout","default_value":"0","external_name":"connect_timeout","restriction":"Int32"}],"args_string":"(connect_timeout : Int32 = 0) : Nil","args_html":"(connect_timeout : Int32 = <span class=\"n\">0</span>) : Nil","location":{"filename":"src/placeos-driver/transport/logic.cr","line_number":10,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/logic.cr#L10"},"def":{"name":"connect","args":[{"name":"connect_timeout","default_value":"0","external_name":"connect_timeout","restriction":"Int32"}],"return_type":"Nil","visibility":"Public","body":"@queue.online = true"},"external_var":false},{"html_id":"disconnect:Nil-instance-method","name":"disconnect","abstract":false,"location":{"filename":"src/placeos-driver/transport/logic.cr","line_number":15,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/logic.cr#L15"},"def":{"name":"disconnect","return_type":"Nil","visibility":"Public","body":""},"external_var":false},{"html_id":"enable_multicast_loop(state=true)-instance-method","name":"enable_multicast_loop","abstract":false,"args":[{"name":"state","default_value":"true","external_name":"state","restriction":""}],"args_string":"(state = true)","args_html":"(state = <span class=\"n\">true</span>)","def":{"name":"enable_multicast_loop","args":[{"name":"state","default_value":"true","external_name":"state","restriction":""}],"visibility":"Public","body":"state"},"external_var":false},{"html_id":"http(method,path,body:HTTP::Client::BodyType=nil,params:Hash(String,String|Nil)|URI::Params=URI::Params.new,headers:Hash(String,String)|HTTP::Headers=HTTP::Headers.new,secure=false,concurrent=true):HTTP::Client::Response-instance-method","name":"http","abstract":false,"args":[{"name":"method","external_name":"method","restriction":""},{"name":"path","external_name":"path","restriction":""},{"name":"body","default_value":"nil","external_name":"body","restriction":"::HTTP::Client::BodyType"},{"name":"params","default_value":"URI::Params.new","external_name":"params","restriction":"Hash(String, String | ::Nil) | URI::Params"},{"name":"headers","default_value":"HTTP::Headers.new","external_name":"headers","restriction":"Hash(String, String) | HTTP::Headers"},{"name":"secure","default_value":"false","external_name":"secure","restriction":""},{"name":"concurrent","default_value":"true","external_name":"concurrent","restriction":""}],"args_string":"(method, path, body : HTTP::Client::BodyType = nil, params : Hash(String, String | Nil) | URI::Params = URI::Params.new, headers : Hash(String, String) | HTTP::Headers = HTTP::Headers.new, secure = false, concurrent = true) : HTTP::Client::Response","args_html":"(method, path, body : HTTP::Client::BodyType = <span class=\"n\">nil</span>, params : Hash(String, String | Nil) | URI::Params = <span class=\"t\">URI</span><span class=\"t\">::</span><span class=\"t\">Params</span>.new, headers : Hash(String, String) | HTTP::Headers = <span class=\"t\">HTTP</span><span class=\"t\">::</span><span class=\"t\">Headers</span>.new, secure = <span class=\"n\">false</span>, concurrent = <span class=\"n\">true</span>) : HTTP::Client::Response","def":{"name":"http","args":[{"name":"method","external_name":"method","restriction":""},{"name":"path","external_name":"path","restriction":""},{"name":"body","default_value":"nil","external_name":"body","restriction":"::HTTP::Client::BodyType"},{"name":"params","default_value":"URI::Params.new","external_name":"params","restriction":"Hash(String, String | ::Nil) | URI::Params"},{"name":"headers","default_value":"HTTP::Headers.new","external_name":"headers","restriction":"Hash(String, String) | HTTP::Headers"},{"name":"secure","default_value":"false","external_name":"secure","restriction":""},{"name":"concurrent","default_value":"true","external_name":"concurrent","restriction":""}],"return_type":"::HTTP::Client::Response","visibility":"Public","body":"raise(\"HTTP requests are not available in logic drivers\")"},"external_var":false},{"html_id":"send(message):PlaceOS::Driver::TransportLogic-instance-method","name":"send","abstract":false,"args":[{"name":"message","external_name":"message","restriction":""}],"args_string":"(message) : PlaceOS::Driver::TransportLogic","args_html":"(message) : <a href=\"../../PlaceOS/Driver/TransportLogic.html\">PlaceOS::Driver::TransportLogic</a>","location":{"filename":"src/placeos-driver/transport/logic.cr","line_number":18,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/logic.cr#L18"},"def":{"name":"send","args":[{"name":"message","external_name":"message","restriction":""}],"return_type":"PlaceOS::Driver::TransportLogic","visibility":"Public","body":"self"},"external_var":false},{"html_id":"send(message,task:PlaceOS::Driver::Task,&_block:Bytes,PlaceOS::Driver::Task->Nil):PlaceOS::Driver::TransportLogic-instance-method","name":"send","abstract":false,"args":[{"name":"message","external_name":"message","restriction":""},{"name":"task","external_name":"task","restriction":"PlaceOS::Driver::Task"}],"args_string":"(message, task : PlaceOS::Driver::Task, &_block : Bytes, PlaceOS::Driver::Task -> Nil) : PlaceOS::Driver::TransportLogic","args_html":"(message, task : <a href=\"../../PlaceOS/Driver/Task.html\">PlaceOS::Driver::Task</a>, &_block : Bytes, <a href=\"../../PlaceOS/Driver/Task.html\">PlaceOS::Driver::Task</a> -> Nil) : <a href=\"../../PlaceOS/Driver/TransportLogic.html\">PlaceOS::Driver::TransportLogic</a>","location":{"filename":"src/placeos-driver/transport/logic.cr","line_number":22,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/logic.cr#L22"},"def":{"name":"send","args":[{"name":"message","external_name":"message","restriction":""},{"name":"task","external_name":"task","restriction":"PlaceOS::Driver::Task"}],"yields":2,"block_arity":2,"block_arg":{"name":"_block","external_name":"_block","restriction":"(Bytes, PlaceOS::Driver::Task -> Nil)"},"return_type":"PlaceOS::Driver::TransportLogic","visibility":"Public","body":"self"},"external_var":false},{"html_id":"terminate:Nil-instance-method","name":"terminate","abstract":false,"location":{"filename":"src/placeos-driver/transport/logic.cr","line_number":7,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/logic.cr#L7"},"def":{"name":"terminate","return_type":"Nil","visibility":"Public","body":""},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/TransportSSH","path":"PlaceOS/Driver/TransportSSH.html","kind":"class","full_name":"PlaceOS::Driver::TransportSSH","name":"TransportSSH","abstract":false,"superclass":{"html_id":"placeos-driver/PlaceOS/Driver/Transport","kind":"class","full_name":"PlaceOS::Driver::Transport","name":"Transport"},"ancestors":[{"html_id":"placeos-driver/PlaceOS/Driver/Transport","kind":"class","full_name":"PlaceOS::Driver::Transport","name":"Transport"},{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/transport/ssh.cr","line_number":14,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L14"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver","kind":"class","full_name":"PlaceOS::Driver","name":"Driver"},"constructors":[{"html_id":"new(queue:PlaceOS::Driver::Queue,ip:String,port:Int32,settings:PlaceOS::Driver::Settings,uri:Nil|String=nil,&received:Bytes,PlaceOS::Driver::Task|Nil->Nil)-class-method","name":"new","doc":"timeouts in seconds","summary":"<p>timeouts in seconds</p>","abstract":false,"args":[{"name":"queue","external_name":"queue","restriction":"PlaceOS::Driver::Queue"},{"name":"ip","external_name":"ip","restriction":"String"},{"name":"port","external_name":"port","restriction":"Int32"},{"name":"settings","external_name":"settings","restriction":"::PlaceOS::Driver::Settings"},{"name":"uri","default_value":"nil","external_name":"uri","restriction":"::Nil | ::String"}],"args_string":"(queue : PlaceOS::Driver::Queue, ip : String, port : Int32, settings : PlaceOS::Driver::Settings, uri : Nil | String = nil, &received : Bytes, PlaceOS::Driver::Task | Nil -> Nil)","args_html":"(queue : <a href=\"../../PlaceOS/Driver/Queue.html\">PlaceOS::Driver::Queue</a>, ip : String, port : Int32, settings : PlaceOS::Driver::Settings, uri : Nil | String = <span class=\"n\">nil</span>, &received : Bytes, <a href=\"../../PlaceOS/Driver/Task.html\">PlaceOS::Driver::Task</a> | Nil -> Nil)","location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":16,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L16"},"def":{"name":"new","args":[{"name":"queue","external_name":"queue","restriction":"PlaceOS::Driver::Queue"},{"name":"ip","external_name":"ip","restriction":"String"},{"name":"port","external_name":"port","restriction":"Int32"},{"name":"settings","external_name":"settings","restriction":"::PlaceOS::Driver::Settings"},{"name":"uri","default_value":"nil","external_name":"uri","restriction":"::Nil | ::String"}],"yields":2,"block_arity":2,"block_arg":{"name":"received","external_name":"received","restriction":"(Bytes, PlaceOS::Driver::Task | ::Nil -> Nil)"},"visibility":"Public","body":"_ = allocate\n_.initialize(queue, ip, port, settings, uri, &received) do |_arg0, _arg1|\n  yield _arg0, _arg1\nend\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"connect(connect_timeout:Int32=10):Nil-instance-method","name":"connect","abstract":false,"args":[{"name":"connect_timeout","default_value":"10","external_name":"connect_timeout","restriction":"Int32"}],"args_string":"(connect_timeout : Int32 = 10) : Nil","args_html":"(connect_timeout : Int32 = <span class=\"n\">10</span>) : Nil","location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":53,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L53"},"def":{"name":"connect","args":[{"name":"connect_timeout","default_value":"10","external_name":"connect_timeout","restriction":"Int32"}],"return_type":"Nil","visibility":"Public","body":"begin\n  @connect_lock.synchronize do\n    if (@terminated || @connection_state_changing) || @messages\n      return\n    end\n    @connection_state_changing = true\n  end\n\n\n  tokenizer = @tokenizer\n  if tokenizer\n    tokenizer.clear\n  end\n\n  SimpleRetry.try_to(base_interval: 1.second, max_interval: 10.seconds, randomise: 500.milliseconds) do\n    if @terminated\n    else\n      start_socket(connect_timeout)\n    end\n  end\nensure\n  @connect_lock.synchronize do @connection_state_changing = false end\n  if @terminated\n    disconnect\n  end\nend"},"external_var":false},{"html_id":"disconnect:Nil-instance-method","name":"disconnect","abstract":false,"location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":236,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L236"},"def":{"name":"disconnect","return_type":"Nil","visibility":"Public","body":"begin\n  @connect_lock.synchronize do\n    if @connection_state_changing\n      return\n    end\n    @connection_state_changing = true\n  end\n\n  begin\n    begin\n      @queue.online = false\n    rescue\n      nil\n    end\n\n\n    messages = @messages\n    socket = @socket\n    shell = @shell\n    session = @session\n\n    if ((messages || socket) || shell) || session\n    else\n      return\n    end\n\n    @messages = nil\n    @socket = nil\n    @shell = nil\n    @session = nil\n    @keepalive.try(&.cancel)\n    @keepalive = nil\n\n    begin\n      Tasker.timeout(3.seconds) do\n        begin\n          shell.try(&.close)\n        rescue\n          nil\n        end\n        begin\n          session.try(&.disconnect)\n        rescue\n          nil\n        end\n      end\n    rescue\n    end\n\n    begin\n      socket.try(&.close)\n    rescue\n    ensure\n      messages.try(&.close)\n    end\n  rescue error\n    logger.info(exception: error) do \"calling disconnect\" end\n  ensure\n    @connect_lock.synchronize do\n      @connection_state_changing = false\n    end\n  end\nensure\n  if @terminated\n  else\n    connect\n  end\nend"},"external_var":false},{"html_id":"enable_multicast_loop(state=true)-instance-method","name":"enable_multicast_loop","abstract":false,"args":[{"name":"state","default_value":"true","external_name":"state","restriction":""}],"args_string":"(state = true)","args_html":"(state = <span class=\"n\">true</span>)","def":{"name":"enable_multicast_loop","args":[{"name":"state","default_value":"true","external_name":"state","restriction":""}],"visibility":"Public","body":"state"},"external_var":false},{"html_id":"exec(message):SSH2::Channel-instance-method","name":"exec","doc":"Only SSH implements exec","summary":"<p>Only SSH implements exec</p>","abstract":false,"args":[{"name":"message","external_name":"message","restriction":""}],"args_string":"(message) : SSH2::Channel","args_html":"(message) : SSH2::Channel","location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":45,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L45"},"def":{"name":"exec","args":[{"name":"message","external_name":"message","restriction":""}],"return_type":"SSH2::Channel","visibility":"Public","body":"session = @session\nif session\nelse\n  raise(\"SSH session not started\")\nend\nchannel = session.open_session\nchannel.command(message.to_s)\nchannel\n"},"external_var":false},{"html_id":"http(method,path,body:HTTP::Client::BodyType=nil,params:Hash(String,String|Nil)|URI::Params=URI::Params.new,headers:Hash(String,String)|HTTP::Headers=HTTP::Headers.new,secure=false,concurrent=true):HTTP::Client::Response-instance-method","name":"http","abstract":false,"args":[{"name":"method","external_name":"method","restriction":""},{"name":"path","external_name":"path","restriction":""},{"name":"body","default_value":"nil","external_name":"body","restriction":"::HTTP::Client::BodyType"},{"name":"params","default_value":"URI::Params.new","external_name":"params","restriction":"Hash(String, String | ::Nil) | URI::Params"},{"name":"headers","default_value":"HTTP::Headers.new","external_name":"headers","restriction":"Hash(String, String) | HTTP::Headers"},{"name":"secure","default_value":"false","external_name":"secure","restriction":""},{"name":"concurrent","default_value":"true","external_name":"concurrent","restriction":""}],"args_string":"(method, path, body : HTTP::Client::BodyType = nil, params : Hash(String, String | Nil) | URI::Params = URI::Params.new, headers : Hash(String, String) | HTTP::Headers = HTTP::Headers.new, secure = false, concurrent = true) : HTTP::Client::Response","args_html":"(method, path, body : HTTP::Client::BodyType = <span class=\"n\">nil</span>, params : Hash(String, String | Nil) | URI::Params = <span class=\"t\">URI</span><span class=\"t\">::</span><span class=\"t\">Params</span>.new, headers : Hash(String, String) | HTTP::Headers = <span class=\"t\">HTTP</span><span class=\"t\">::</span><span class=\"t\">Headers</span>.new, secure = <span class=\"n\">false</span>, concurrent = <span class=\"n\">true</span>) : HTTP::Client::Response","def":{"name":"http","args":[{"name":"method","external_name":"method","restriction":""},{"name":"path","external_name":"path","restriction":""},{"name":"body","default_value":"nil","external_name":"body","restriction":"::HTTP::Client::BodyType"},{"name":"params","default_value":"URI::Params.new","external_name":"params","restriction":"Hash(String, String | ::Nil) | URI::Params"},{"name":"headers","default_value":"HTTP::Headers.new","external_name":"headers","restriction":"Hash(String, String) | HTTP::Headers"},{"name":"secure","default_value":"false","external_name":"secure","restriction":""},{"name":"concurrent","default_value":"true","external_name":"concurrent","restriction":""}],"return_type":"::HTTP::Client::Response","visibility":"Public","body":"if uri_override = http_uri_override\n  uri = uri_override\nelsif (uri_config = @uri.try(&.strip)) && !uri_config.empty?\n  uri = URI.parse(uri_config)\nend\n\nif uri\n  context = case uri.scheme\n  when \"https\", \"wss\"\n    uri.scheme = \"https\"\n    self.class.default_tls\n  when \"ws\"\n    uri.scheme = \"http\"\n    nil\n  else\n    nil\n  end\nelse\n  context = if secure\n    uri = URI.parse(\"https://#{@ip}\")\n\n    if secure.is_a?(OpenSSL::SSL::Context::Client)\n      secure\n    else\n      self.class.default_tls\n    end\n  else\n    uri = URI.parse(\"http://#{@ip}\")\n    nil\n  end\nend\n\n\nuri.path = path\nparams = if params.is_a?(Hash)\n  URI::Params.new(params.transform_values do |v| v ? [v] : [] of String end)\nelse\n  params\nend\nuri.query_params = params\n\n\nheaders = headers.is_a?(Hash) ? HTTP::Headers.new.tap do |head| headers.map do |key, value| head[key] = value end end : headers\n\n\nclient = new_http_client(uri, context)\nif @settings.get do setting?(Bool, :disable_cookies) end || false\nelse\n  cookies.add_request_headers(headers)\nend\nlogger.debug do \"http helper requesting: #{method.to_s.upcase} #{uri.request_target}\" end\ncheck_http_response_encoding((client.exec(method.to_s.upcase, uri.request_target, headers, body)).tap do client.close end)\n"},"external_var":false},{"html_id":"keepalive(period)-instance-method","name":"keepalive","abstract":false,"args":[{"name":"period","external_name":"period","restriction":""}],"args_string":"(period)","args_html":"(period)","location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":220,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L220"},"def":{"name":"keepalive","args":[{"name":"period","external_name":"period","restriction":""}],"visibility":"Public","body":"@keepalive = Tasker.every(period.seconds) do\n  begin\n    @session.try(&.send_keepalive)\n  rescue error\n    logger.warn(exception: error) do \"keepalive send failed...\" end\n    disconnect\n  end\nend"},"external_var":false},{"html_id":"received:Slice(UInt8),PlaceOS::Driver::Task?->Nil-instance-method","name":"received","abstract":false,"location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":30,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L30"},"def":{"name":"received","visibility":"Public","body":"@received"},"external_var":false},{"html_id":"received=(received:Slice(UInt8),Nil|PlaceOS::Driver::Task->_)-instance-method","name":"received=","abstract":false,"args":[{"name":"received","external_name":"received","restriction":"(::Slice(::UInt8), ::Nil | ::PlaceOS::Driver::Task -> _)"}],"args_string":"(received : Slice(UInt8), Nil | PlaceOS::Driver::Task -> _)","args_html":"(received : Slice(UInt8), Nil | <a href=\"../../PlaceOS/Driver/Task.html\">PlaceOS::Driver::Task</a> -> _)","location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":30,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L30"},"def":{"name":"received=","args":[{"name":"received","external_name":"received","restriction":"(::Slice(::UInt8), ::Nil | ::PlaceOS::Driver::Task -> _)"}],"visibility":"Public","body":"@received = received"},"external_var":false},{"html_id":"send(message):TransportSSH-instance-method","name":"send","abstract":false,"args":[{"name":"message","external_name":"message","restriction":""}],"args_string":"(message) : TransportSSH","args_html":"(message) : <a href=\"../../PlaceOS/Driver/TransportSSH.html\">TransportSSH</a>","location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":285,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L285"},"def":{"name":"send","args":[{"name":"message","external_name":"message","restriction":""}],"return_type":"TransportSSH","visibility":"Public","body":"socket = @shell\nif socket.nil? || socket.closed?\n  if @session || @socket\n    logger.warn do \"disconnecting as no shell negotiated for sending message\" end\n    disconnect\n  end\n  return self\nend\n\ncase message\nwhen .responds_to?(:to_io)\n  socket.write_bytes(message)\nwhen .responds_to?(:to_slice)\n  socket.write(message.to_slice)\nelse\n  socket << message\nend\nself\n"},"external_var":false},{"html_id":"send(message,task:PlaceOS::Driver::Task,&block:Bytes,PlaceOS::Driver::Task->Nil):TransportSSH-instance-method","name":"send","abstract":false,"args":[{"name":"message","external_name":"message","restriction":""},{"name":"task","external_name":"task","restriction":"PlaceOS::Driver::Task"}],"args_string":"(message, task : PlaceOS::Driver::Task, &block : Bytes, PlaceOS::Driver::Task -> Nil) : TransportSSH","args_html":"(message, task : <a href=\"../../PlaceOS/Driver/Task.html\">PlaceOS::Driver::Task</a>, &block : Bytes, <a href=\"../../PlaceOS/Driver/Task.html\">PlaceOS::Driver::Task</a> -> Nil) : <a href=\"../../PlaceOS/Driver/TransportSSH.html\">TransportSSH</a>","location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":304,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L304"},"def":{"name":"send","args":[{"name":"message","external_name":"message","restriction":""},{"name":"task","external_name":"task","restriction":"PlaceOS::Driver::Task"}],"yields":2,"block_arity":2,"block_arg":{"name":"block","external_name":"block","restriction":"(Bytes, PlaceOS::Driver::Task -> Nil)"},"return_type":"TransportSSH","visibility":"Public","body":"task.processing = block\nsend(message)\n"},"external_var":false},{"html_id":"terminate:Nil-instance-method","name":"terminate","abstract":false,"location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":231,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L231"},"def":{"name":"terminate","return_type":"Nil","visibility":"Public","body":"@terminated = true\ndisconnect\n"},"external_var":false}],"types":[{"html_id":"placeos-driver/PlaceOS/Driver/TransportSSH/Settings","path":"PlaceOS/Driver/TransportSSH/Settings.html","kind":"class","full_name":"PlaceOS::Driver::TransportSSH::Settings","name":"Settings","abstract":false,"superclass":{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"},{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/transport/ssh.cr","line_number":32,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L32"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"placeos-driver/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"}],"extended_modules":[{"html_id":"placeos-driver/JSON/Schema","kind":"module","full_name":"JSON::Schema","name":"Schema"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/TransportSSH","kind":"class","full_name":"PlaceOS::Driver::TransportSSH","name":"TransportSSH"},"constructors":[{"html_id":"new(pull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"args_string":"(pull : JSON::PullParser)","args_html":"(pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":33,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L33"},"def":{"name":"new","args":[{"name":"pull","external_name":"pull","restriction":"::JSON::PullParser"}],"visibility":"Public","body":"new_from_json_pull_parser(pull)"},"external_var":false},{"html_id":"new(*,__pull_for_json_serializablepull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"args_string":"(*, __pull_for_json_serializable pull : JSON::PullParser)","args_html":"(*, __pull_for_json_serializable pull : JSON::PullParser)","location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":33,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L33"},"def":{"name":"new","args":[{"name":"","external_name":"","restriction":""},{"name":"pull","external_name":"__pull_for_json_serializable","restriction":"::JSON::PullParser"}],"splat_index":0,"visibility":"Public","body":"_ = allocate\n_.initialize(__pull_for_json_serializable: pull)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"keepalive:Int32|Nil-instance-method","name":"keepalive","abstract":false,"location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":36,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L36"},"def":{"name":"keepalive","return_type":"Int32 | ::Nil","visibility":"Public","body":"@keepalive"},"external_var":false},{"html_id":"keepalive=(keepalive:Int32|Nil)-instance-method","name":"keepalive=","abstract":false,"args":[{"name":"keepalive","external_name":"keepalive","restriction":"Int32 | ::Nil"}],"args_string":"(keepalive : Int32 | Nil)","args_html":"(keepalive : Int32 | Nil)","location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":36,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L36"},"def":{"name":"keepalive=","args":[{"name":"keepalive","external_name":"keepalive","restriction":"Int32 | ::Nil"}],"visibility":"Public","body":"@keepalive = keepalive"},"external_var":false},{"html_id":"passphrase:String|Nil-instance-method","name":"passphrase","abstract":false,"location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":40,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L40"},"def":{"name":"passphrase","return_type":"String | ::Nil","visibility":"Public","body":"@passphrase"},"external_var":false},{"html_id":"passphrase=(passphrase:String|Nil)-instance-method","name":"passphrase=","abstract":false,"args":[{"name":"passphrase","external_name":"passphrase","restriction":"String | ::Nil"}],"args_string":"(passphrase : String | Nil)","args_html":"(passphrase : String | Nil)","location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":40,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L40"},"def":{"name":"passphrase=","args":[{"name":"passphrase","external_name":"passphrase","restriction":"String | ::Nil"}],"visibility":"Public","body":"@passphrase = passphrase"},"external_var":false},{"html_id":"password:String|Nil-instance-method","name":"password","abstract":false,"location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":39,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L39"},"def":{"name":"password","return_type":"String | ::Nil","visibility":"Public","body":"@password"},"external_var":false},{"html_id":"password=(password:String|Nil)-instance-method","name":"password=","abstract":false,"args":[{"name":"password","external_name":"password","restriction":"String | ::Nil"}],"args_string":"(password : String | Nil)","args_html":"(password : String | Nil)","location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":39,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L39"},"def":{"name":"password=","args":[{"name":"password","external_name":"password","restriction":"String | ::Nil"}],"visibility":"Public","body":"@password = password"},"external_var":false},{"html_id":"private_key:String|Nil-instance-method","name":"private_key","abstract":false,"location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":41,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L41"},"def":{"name":"private_key","return_type":"String | ::Nil","visibility":"Public","body":"@private_key"},"external_var":false},{"html_id":"private_key=(private_key:String|Nil)-instance-method","name":"private_key=","abstract":false,"args":[{"name":"private_key","external_name":"private_key","restriction":"String | ::Nil"}],"args_string":"(private_key : String | Nil)","args_html":"(private_key : String | Nil)","location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":41,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L41"},"def":{"name":"private_key=","args":[{"name":"private_key","external_name":"private_key","restriction":"String | ::Nil"}],"visibility":"Public","body":"@private_key = private_key"},"external_var":false},{"html_id":"public_key:String|Nil-instance-method","name":"public_key","abstract":false,"location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":42,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L42"},"def":{"name":"public_key","return_type":"String | ::Nil","visibility":"Public","body":"@public_key"},"external_var":false},{"html_id":"public_key=(public_key:String|Nil)-instance-method","name":"public_key=","abstract":false,"args":[{"name":"public_key","external_name":"public_key","restriction":"String | ::Nil"}],"args_string":"(public_key : String | Nil)","args_html":"(public_key : String | Nil)","location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":42,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L42"},"def":{"name":"public_key=","args":[{"name":"public_key","external_name":"public_key","restriction":"String | ::Nil"}],"visibility":"Public","body":"@public_key = public_key"},"external_var":false},{"html_id":"term:String|Nil-instance-method","name":"term","abstract":false,"location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":35,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L35"},"def":{"name":"term","return_type":"String | ::Nil","visibility":"Public","body":"@term"},"external_var":false},{"html_id":"term=(term:String|Nil)-instance-method","name":"term=","abstract":false,"args":[{"name":"term","external_name":"term","restriction":"String | ::Nil"}],"args_string":"(term : String | Nil)","args_html":"(term : String | Nil)","location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":35,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L35"},"def":{"name":"term=","args":[{"name":"term","external_name":"term","restriction":"String | ::Nil"}],"visibility":"Public","body":"@term = term"},"external_var":false},{"html_id":"username:String-instance-method","name":"username","abstract":false,"location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":38,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L38"},"def":{"name":"username","return_type":"String","visibility":"Public","body":"@username"},"external_var":false},{"html_id":"username=(username:String)-instance-method","name":"username=","abstract":false,"args":[{"name":"username","external_name":"username","restriction":"String"}],"args_string":"(username : String)","args_html":"(username : String)","location":{"filename":"src/placeos-driver/transport/ssh.cr","line_number":38,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/ssh.cr#L38"},"def":{"name":"username=","args":[{"name":"username","external_name":"username","restriction":"String"}],"visibility":"Public","body":"@username = username"},"external_var":false}]}]},{"html_id":"placeos-driver/PlaceOS/Driver/TransportTCP","path":"PlaceOS/Driver/TransportTCP.html","kind":"class","full_name":"PlaceOS::Driver::TransportTCP","name":"TransportTCP","abstract":false,"superclass":{"html_id":"placeos-driver/PlaceOS/Driver/Transport","kind":"class","full_name":"PlaceOS::Driver::Transport","name":"Transport"},"ancestors":[{"html_id":"placeos-driver/PlaceOS/Driver/Transport","kind":"class","full_name":"PlaceOS::Driver::Transport","name":"Transport"},{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/transport/tcp.cr","line_number":6,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/tcp.cr#L6"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver","kind":"class","full_name":"PlaceOS::Driver","name":"Driver"},"constructors":[{"html_id":"new(queue:PlaceOS::Driver::Queue,ip:String,port:Int32,settings:PlaceOS::Driver::Settings,start_tls:Bool=false,uri:Nil|String=nil,makebreak:Bool=false,&received:Bytes,PlaceOS::Driver::Task|Nil->Nil)-class-method","name":"new","doc":"timeouts in seconds","summary":"<p>timeouts in seconds</p>","abstract":false,"args":[{"name":"queue","external_name":"queue","restriction":"PlaceOS::Driver::Queue"},{"name":"ip","external_name":"ip","restriction":"String"},{"name":"port","external_name":"port","restriction":"Int32"},{"name":"settings","external_name":"settings","restriction":"::PlaceOS::Driver::Settings"},{"name":"start_tls","default_value":"false","external_name":"start_tls","restriction":"::Bool"},{"name":"uri","default_value":"nil","external_name":"uri","restriction":"::Nil | ::String"},{"name":"makebreak","default_value":"false","external_name":"makebreak","restriction":"::Bool"}],"args_string":"(queue : PlaceOS::Driver::Queue, ip : String, port : Int32, settings : PlaceOS::Driver::Settings, start_tls : Bool = false, uri : Nil | String = nil, makebreak : Bool = false, &received : Bytes, PlaceOS::Driver::Task | Nil -> Nil)","args_html":"(queue : <a href=\"../../PlaceOS/Driver/Queue.html\">PlaceOS::Driver::Queue</a>, ip : String, port : Int32, settings : PlaceOS::Driver::Settings, start_tls : Bool = <span class=\"n\">false</span>, uri : Nil | String = <span class=\"n\">nil</span>, makebreak : Bool = <span class=\"n\">false</span>, &received : Bytes, <a href=\"../../PlaceOS/Driver/Task.html\">PlaceOS::Driver::Task</a> | Nil -> Nil)","location":{"filename":"src/placeos-driver/transport/tcp.cr","line_number":8,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/tcp.cr#L8"},"def":{"name":"new","args":[{"name":"queue","external_name":"queue","restriction":"PlaceOS::Driver::Queue"},{"name":"ip","external_name":"ip","restriction":"String"},{"name":"port","external_name":"port","restriction":"Int32"},{"name":"settings","external_name":"settings","restriction":"::PlaceOS::Driver::Settings"},{"name":"start_tls","default_value":"false","external_name":"start_tls","restriction":"::Bool"},{"name":"uri","default_value":"nil","external_name":"uri","restriction":"::Nil | ::String"},{"name":"makebreak","default_value":"false","external_name":"makebreak","restriction":"::Bool"}],"yields":2,"block_arity":2,"block_arg":{"name":"received","external_name":"received","restriction":"(Bytes, PlaceOS::Driver::Task | ::Nil -> Nil)"},"visibility":"Public","body":"_ = allocate\n_.initialize(queue, ip, port, settings, start_tls, uri, makebreak, &received) do |_arg0, _arg1|\n  yield _arg0, _arg1\nend\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"connect(connect_timeout:Int32=10):Nil-instance-method","name":"connect","abstract":false,"args":[{"name":"connect_timeout","default_value":"10","external_name":"connect_timeout","restriction":"Int32"}],"args_string":"(connect_timeout : Int32 = 10) : Nil","args_html":"(connect_timeout : Int32 = <span class=\"n\">10</span>) : Nil","location":{"filename":"src/placeos-driver/transport/tcp.cr","line_number":22,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/tcp.cr#L22"},"def":{"name":"connect","args":[{"name":"connect_timeout","default_value":"10","external_name":"connect_timeout","restriction":"Int32"}],"return_type":"Nil","visibility":"Public","body":"if @terminated\n  return\nend\nif socket = @socket\n  if socket.closed?\n  else\n    return\n  end\nend\n\n\n@tokenizer.try(&.clear)\n\nif @makebreak\n  start_socket(connect_timeout)\nelse\n  SimpleRetry.try_to(base_interval: 1.second, max_interval: 10.seconds, randomise: 500.milliseconds) do\n    if @terminated\n    else\n      start_socket(connect_timeout)\n    end\n  end\n  if @terminated\n    disconnect\n  end\nend\n"},"external_var":false},{"html_id":"disconnect:Nil-instance-method","name":"disconnect","abstract":false,"location":{"filename":"src/placeos-driver/transport/tcp.cr","line_number":106,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/tcp.cr#L106"},"def":{"name":"disconnect","return_type":"Nil","visibility":"Public","body":"begin\n  @socket.try(&.close)\n  @socket = nil\nrescue error\n  logger.info(exception: error) do \"calling disconnect\" end\nend"},"external_var":false},{"html_id":"enable_multicast_loop(state=true)-instance-method","name":"enable_multicast_loop","abstract":false,"args":[{"name":"state","default_value":"true","external_name":"state","restriction":""}],"args_string":"(state = true)","args_html":"(state = <span class=\"n\">true</span>)","def":{"name":"enable_multicast_loop","args":[{"name":"state","default_value":"true","external_name":"state","restriction":""}],"visibility":"Public","body":"state"},"external_var":false},{"html_id":"http(method,path,body:HTTP::Client::BodyType=nil,params:Hash(String,String|Nil)|URI::Params=URI::Params.new,headers:Hash(String,String)|HTTP::Headers=HTTP::Headers.new,secure=false,concurrent=true):HTTP::Client::Response-instance-method","name":"http","abstract":false,"args":[{"name":"method","external_name":"method","restriction":""},{"name":"path","external_name":"path","restriction":""},{"name":"body","default_value":"nil","external_name":"body","restriction":"::HTTP::Client::BodyType"},{"name":"params","default_value":"URI::Params.new","external_name":"params","restriction":"Hash(String, String | ::Nil) | URI::Params"},{"name":"headers","default_value":"HTTP::Headers.new","external_name":"headers","restriction":"Hash(String, String) | HTTP::Headers"},{"name":"secure","default_value":"false","external_name":"secure","restriction":""},{"name":"concurrent","default_value":"true","external_name":"concurrent","restriction":""}],"args_string":"(method, path, body : HTTP::Client::BodyType = nil, params : Hash(String, String | Nil) | URI::Params = URI::Params.new, headers : Hash(String, String) | HTTP::Headers = HTTP::Headers.new, secure = false, concurrent = true) : HTTP::Client::Response","args_html":"(method, path, body : HTTP::Client::BodyType = <span class=\"n\">nil</span>, params : Hash(String, String | Nil) | URI::Params = <span class=\"t\">URI</span><span class=\"t\">::</span><span class=\"t\">Params</span>.new, headers : Hash(String, String) | HTTP::Headers = <span class=\"t\">HTTP</span><span class=\"t\">::</span><span class=\"t\">Headers</span>.new, secure = <span class=\"n\">false</span>, concurrent = <span class=\"n\">true</span>) : HTTP::Client::Response","def":{"name":"http","args":[{"name":"method","external_name":"method","restriction":""},{"name":"path","external_name":"path","restriction":""},{"name":"body","default_value":"nil","external_name":"body","restriction":"::HTTP::Client::BodyType"},{"name":"params","default_value":"URI::Params.new","external_name":"params","restriction":"Hash(String, String | ::Nil) | URI::Params"},{"name":"headers","default_value":"HTTP::Headers.new","external_name":"headers","restriction":"Hash(String, String) | HTTP::Headers"},{"name":"secure","default_value":"false","external_name":"secure","restriction":""},{"name":"concurrent","default_value":"true","external_name":"concurrent","restriction":""}],"return_type":"::HTTP::Client::Response","visibility":"Public","body":"if uri_override = http_uri_override\n  uri = uri_override\nelsif (uri_config = @uri.try(&.strip)) && !uri_config.empty?\n  uri = URI.parse(uri_config)\nend\n\nif uri\n  context = case uri.scheme\n  when \"https\", \"wss\"\n    uri.scheme = \"https\"\n    self.class.default_tls\n  when \"ws\"\n    uri.scheme = \"http\"\n    nil\n  else\n    nil\n  end\nelse\n  context = if secure\n    uri = URI.parse(\"https://#{@ip}\")\n\n    if secure.is_a?(OpenSSL::SSL::Context::Client)\n      secure\n    else\n      self.class.default_tls\n    end\n  else\n    uri = URI.parse(\"http://#{@ip}\")\n    nil\n  end\nend\n\n\nuri.path = path\nparams = if params.is_a?(Hash)\n  URI::Params.new(params.transform_values do |v| v ? [v] : [] of String end)\nelse\n  params\nend\nuri.query_params = params\n\n\nheaders = headers.is_a?(Hash) ? HTTP::Headers.new.tap do |head| headers.map do |key, value| head[key] = value end end : headers\n\n\nclient = new_http_client(uri, context)\nif @settings.get do setting?(Bool, :disable_cookies) end || false\nelse\n  cookies.add_request_headers(headers)\nend\nlogger.debug do \"http helper requesting: #{method.to_s.upcase} #{uri.request_target}\" end\ncheck_http_response_encoding((client.exec(method.to_s.upcase, uri.request_target, headers, body)).tap do client.close end)\n"},"external_var":false},{"html_id":"received:Slice(UInt8),PlaceOS::Driver::Task?->Nil-instance-method","name":"received","abstract":false,"location":{"filename":"src/placeos-driver/transport/tcp.cr","line_number":20,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/tcp.cr#L20"},"def":{"name":"received","visibility":"Public","body":"@received"},"external_var":false},{"html_id":"received=(received:Slice(UInt8),Nil|PlaceOS::Driver::Task->_)-instance-method","name":"received=","abstract":false,"args":[{"name":"received","external_name":"received","restriction":"(::Slice(::UInt8), ::Nil | ::PlaceOS::Driver::Task -> _)"}],"args_string":"(received : Slice(UInt8), Nil | PlaceOS::Driver::Task -> _)","args_html":"(received : Slice(UInt8), Nil | <a href=\"../../PlaceOS/Driver/Task.html\">PlaceOS::Driver::Task</a> -> _)","location":{"filename":"src/placeos-driver/transport/tcp.cr","line_number":20,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/tcp.cr#L20"},"def":{"name":"received=","args":[{"name":"received","external_name":"received","restriction":"(::Slice(::UInt8), ::Nil | ::PlaceOS::Driver::Task -> _)"}],"visibility":"Public","body":"@received = received"},"external_var":false},{"html_id":"send(message):PlaceOS::Driver::TransportTCP-instance-method","name":"send","abstract":false,"args":[{"name":"message","external_name":"message","restriction":""}],"args_string":"(message) : PlaceOS::Driver::TransportTCP","args_html":"(message) : <a href=\"../../PlaceOS/Driver/TransportTCP.html\">PlaceOS::Driver::TransportTCP</a>","location":{"filename":"src/placeos-driver/transport/tcp.cr","line_number":113,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/tcp.cr#L113"},"def":{"name":"send","args":[{"name":"message","external_name":"message","restriction":""}],"return_type":"PlaceOS::Driver::TransportTCP","visibility":"Public","body":"begin\n  if @makebreak\n    connect\n  end\n\n  @mutex.synchronize do\n    socket = @socket\n    if socket.nil? || socket.closed?\n      return self\n    end\n\n    case message\n    when .responds_to?(:to_io)\n      socket.write_bytes(message)\n    when .responds_to?(:to_slice)\n      socket.write(message.to_slice)\n    else\n      socket << message\n    end\n    socket.flush\n  end\n  self\nrescue error : IO::Error\n  logger.error(exception: error) do \"error sending message\" end\n  disconnect\n  self\nend"},"external_var":false},{"html_id":"send(message,task:PlaceOS::Driver::Task,&block:Bytes,PlaceOS::Driver::Task->Nil):PlaceOS::Driver::TransportTCP-instance-method","name":"send","abstract":false,"args":[{"name":"message","external_name":"message","restriction":""},{"name":"task","external_name":"task","restriction":"PlaceOS::Driver::Task"}],"args_string":"(message, task : PlaceOS::Driver::Task, &block : Bytes, PlaceOS::Driver::Task -> Nil) : PlaceOS::Driver::TransportTCP","args_html":"(message, task : <a href=\"../../PlaceOS/Driver/Task.html\">PlaceOS::Driver::Task</a>, &block : Bytes, <a href=\"../../PlaceOS/Driver/Task.html\">PlaceOS::Driver::Task</a> -> Nil) : <a href=\"../../PlaceOS/Driver/TransportTCP.html\">PlaceOS::Driver::TransportTCP</a>","location":{"filename":"src/placeos-driver/transport/tcp.cr","line_number":135,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/tcp.cr#L135"},"def":{"name":"send","args":[{"name":"message","external_name":"message","restriction":""},{"name":"task","external_name":"task","restriction":"PlaceOS::Driver::Task"}],"yields":2,"block_arity":2,"block_arg":{"name":"block","external_name":"block","restriction":"(Bytes, PlaceOS::Driver::Task -> Nil)"},"return_type":"PlaceOS::Driver::TransportTCP","visibility":"Public","body":"task.processing = block\nsend(message)\n"},"external_var":false},{"html_id":"start_tls(verify_mode=OpenSSL::SSL::VerifyMode::NONE,context=@tls):Nil-instance-method","name":"start_tls","doc":"upgrades to an encrpyted socket, can be called from a received function","summary":"<p>upgrades to an encrpyted socket, can be called from a received function</p>","abstract":false,"args":[{"name":"verify_mode","default_value":"OpenSSL::SSL::VerifyMode::NONE","external_name":"verify_mode","restriction":""},{"name":"context","default_value":"@tls","external_name":"context","restriction":""}],"args_string":"(verify_mode = OpenSSL::SSL::VerifyMode::NONE, context = @tls) : Nil","args_html":"(verify_mode = <span class=\"t\">OpenSSL</span><span class=\"t\">::</span><span class=\"t\">SSL</span><span class=\"t\">::</span><span class=\"t\">VerifyMode</span><span class=\"t\">::</span><span class=\"t\">NONE</span>, context = @tls) : Nil","location":{"filename":"src/placeos-driver/transport/tcp.cr","line_number":80,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/tcp.cr#L80"},"def":{"name":"start_tls","args":[{"name":"verify_mode","default_value":"OpenSSL::SSL::VerifyMode::NONE","external_name":"verify_mode","restriction":""},{"name":"context","default_value":"@tls","external_name":"context","restriction":""}],"return_type":"Nil","visibility":"Public","body":"@mutex.synchronize do\n  if @tls_started\n    return\n  end\n  if @socket.nil? || @socket.try(&.closed?)\n    raise(\"cannot start tls while disconnected\")\n  end\n\n\n  socket = @socket.as(TCPSocket)\n  socket.sync = true\n\n\n  tls = context || self.class.default_tls\n  tls.verify_mode = verify_mode\n  @tls = tls\n\n\n  @socket = OpenSSL::SSL::Socket::Client.new(socket, context: tls, sync_close: true, hostname: @ip)\n  @tls_started = true\n  socket.sync = false\nend"},"external_var":false},{"html_id":"terminate:Nil-instance-method","name":"terminate","abstract":false,"location":{"filename":"src/placeos-driver/transport/tcp.cr","line_number":101,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/tcp.cr#L101"},"def":{"name":"terminate","return_type":"Nil","visibility":"Public","body":"@terminated = true\n@socket.try(&.close)\n"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/TransportUDP","path":"PlaceOS/Driver/TransportUDP.html","kind":"class","full_name":"PlaceOS::Driver::TransportUDP","name":"TransportUDP","abstract":false,"superclass":{"html_id":"placeos-driver/PlaceOS/Driver/Transport","kind":"class","full_name":"PlaceOS::Driver::Transport","name":"Transport"},"ancestors":[{"html_id":"placeos-driver/PlaceOS/Driver/Transport","kind":"class","full_name":"PlaceOS::Driver::Transport","name":"Transport"},{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/transport/udp.cr","line_number":6,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/udp.cr#L6"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"MULTICASTRANGEV4","name":"MULTICASTRANGEV4","value":"IPAddress.new(\"224.0.0.0/4\")"},{"id":"MULTICASTRANGEV6","name":"MULTICASTRANGEV6","value":"IPAddress.new(\"ff00::/8\")"}],"namespace":{"html_id":"placeos-driver/PlaceOS/Driver","kind":"class","full_name":"PlaceOS::Driver","name":"Driver"},"class_methods":[{"html_id":"default_tls:OpenSSL::SSL::Context::Client-class-method","name":"default_tls","abstract":false,"def":{"name":"default_tls","return_type":"OpenSSL::SSL::Context::Client","visibility":"Public","body":"if (__temp_159 = @@default_tls).nil?\n  @@default_tls = (begin\n    ctx = DTLS::Context::Client.new(LibSSL.dtls_method)\n    ctx.verify_mode = OpenSSL::SSL::VerifyMode::NONE\n    ctx\n  end)\nelse\n  __temp_159\nend"},"external_var":false}],"constructors":[{"html_id":"new(queue:PlaceOS::Driver::Queue,ip:String,port:Int32,settings:PlaceOS::Driver::Settings,start_tls:Bool=false,uri:Nil|String=nil,&received:Bytes,PlaceOS::Driver::Task|Nil->Nil)-class-method","name":"new","doc":"timeouts in seconds","summary":"<p>timeouts in seconds</p>","abstract":false,"args":[{"name":"queue","external_name":"queue","restriction":"PlaceOS::Driver::Queue"},{"name":"ip","external_name":"ip","restriction":"String"},{"name":"port","external_name":"port","restriction":"Int32"},{"name":"settings","external_name":"settings","restriction":"::PlaceOS::Driver::Settings"},{"name":"start_tls","default_value":"false","external_name":"start_tls","restriction":"::Bool"},{"name":"uri","default_value":"nil","external_name":"uri","restriction":"::Nil | ::String"}],"args_string":"(queue : PlaceOS::Driver::Queue, ip : String, port : Int32, settings : PlaceOS::Driver::Settings, start_tls : Bool = false, uri : Nil | String = nil, &received : Bytes, PlaceOS::Driver::Task | Nil -> Nil)","args_html":"(queue : <a href=\"../../PlaceOS/Driver/Queue.html\">PlaceOS::Driver::Queue</a>, ip : String, port : Int32, settings : PlaceOS::Driver::Settings, start_tls : Bool = <span class=\"n\">false</span>, uri : Nil | String = <span class=\"n\">nil</span>, &received : Bytes, <a href=\"../../PlaceOS/Driver/Task.html\">PlaceOS::Driver::Task</a> | Nil -> Nil)","location":{"filename":"src/placeos-driver/transport/udp.cr","line_number":11,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/udp.cr#L11"},"def":{"name":"new","args":[{"name":"queue","external_name":"queue","restriction":"PlaceOS::Driver::Queue"},{"name":"ip","external_name":"ip","restriction":"String"},{"name":"port","external_name":"port","restriction":"Int32"},{"name":"settings","external_name":"settings","restriction":"::PlaceOS::Driver::Settings"},{"name":"start_tls","default_value":"false","external_name":"start_tls","restriction":"::Bool"},{"name":"uri","default_value":"nil","external_name":"uri","restriction":"::Nil | ::String"}],"yields":2,"block_arity":2,"block_arg":{"name":"received","external_name":"received","restriction":"(Bytes, PlaceOS::Driver::Task | ::Nil -> Nil)"},"visibility":"Public","body":"_ = allocate\n_.initialize(queue, ip, port, settings, start_tls, uri, &received) do |_arg0, _arg1|\n  yield _arg0, _arg1\nend\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"connect(connect_timeout:Int32=10):Nil-instance-method","name":"connect","abstract":false,"args":[{"name":"connect_timeout","default_value":"10","external_name":"connect_timeout","restriction":"Int32"}],"args_string":"(connect_timeout : Int32 = 10) : Nil","args_html":"(connect_timeout : Int32 = <span class=\"n\">10</span>) : Nil","location":{"filename":"src/placeos-driver/transport/udp.cr","line_number":27,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/udp.cr#L27"},"def":{"name":"connect","args":[{"name":"connect_timeout","default_value":"10","external_name":"connect_timeout","restriction":"Int32"}],"return_type":"Nil","visibility":"Public","body":"if @terminated\n  return\nend\nif socket = @socket\n  if socket.closed?\n  else\n    return\n  end\nend\n\n\n@tokenizer.try(&.clear)\n\nSimpleRetry.try_to(base_interval: 1.second, max_interval: 10.seconds, randomise: 500.milliseconds) do\n  if @terminated\n  else\n    start_socket(connect_timeout)\n  end\nend\nif @terminated\n  disconnect\nend\n"},"external_var":false},{"html_id":"disconnect:Nil-instance-method","name":"disconnect","abstract":false,"location":{"filename":"src/placeos-driver/transport/udp.cr","line_number":125,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/udp.cr#L125"},"def":{"name":"disconnect","return_type":"Nil","visibility":"Public","body":"begin\n  @socket.try(&.close)\nrescue error\n  logger.info(exception: error) do \"calling disconnect\" end\nend"},"external_var":false},{"html_id":"enable_multicast_loop(state=true)-instance-method","name":"enable_multicast_loop","abstract":false,"args":[{"name":"state","default_value":"true","external_name":"state","restriction":""}],"args_string":"(state = true)","args_html":"(state = <span class=\"n\">true</span>)","def":{"name":"enable_multicast_loop","args":[{"name":"state","default_value":"true","external_name":"state","restriction":""}],"visibility":"Public","body":"@socket.try(&.multicast_loopback = state)\n\nstate\n"},"external_var":false},{"html_id":"http(method,path,body:HTTP::Client::BodyType=nil,params:Hash(String,String|Nil)|URI::Params=URI::Params.new,headers:Hash(String,String)|HTTP::Headers=HTTP::Headers.new,secure=false,concurrent=true):HTTP::Client::Response-instance-method","name":"http","abstract":false,"args":[{"name":"method","external_name":"method","restriction":""},{"name":"path","external_name":"path","restriction":""},{"name":"body","default_value":"nil","external_name":"body","restriction":"::HTTP::Client::BodyType"},{"name":"params","default_value":"URI::Params.new","external_name":"params","restriction":"Hash(String, String | ::Nil) | URI::Params"},{"name":"headers","default_value":"HTTP::Headers.new","external_name":"headers","restriction":"Hash(String, String) | HTTP::Headers"},{"name":"secure","default_value":"false","external_name":"secure","restriction":""},{"name":"concurrent","default_value":"true","external_name":"concurrent","restriction":""}],"args_string":"(method, path, body : HTTP::Client::BodyType = nil, params : Hash(String, String | Nil) | URI::Params = URI::Params.new, headers : Hash(String, String) | HTTP::Headers = HTTP::Headers.new, secure = false, concurrent = true) : HTTP::Client::Response","args_html":"(method, path, body : HTTP::Client::BodyType = <span class=\"n\">nil</span>, params : Hash(String, String | Nil) | URI::Params = <span class=\"t\">URI</span><span class=\"t\">::</span><span class=\"t\">Params</span>.new, headers : Hash(String, String) | HTTP::Headers = <span class=\"t\">HTTP</span><span class=\"t\">::</span><span class=\"t\">Headers</span>.new, secure = <span class=\"n\">false</span>, concurrent = <span class=\"n\">true</span>) : HTTP::Client::Response","def":{"name":"http","args":[{"name":"method","external_name":"method","restriction":""},{"name":"path","external_name":"path","restriction":""},{"name":"body","default_value":"nil","external_name":"body","restriction":"::HTTP::Client::BodyType"},{"name":"params","default_value":"URI::Params.new","external_name":"params","restriction":"Hash(String, String | ::Nil) | URI::Params"},{"name":"headers","default_value":"HTTP::Headers.new","external_name":"headers","restriction":"Hash(String, String) | HTTP::Headers"},{"name":"secure","default_value":"false","external_name":"secure","restriction":""},{"name":"concurrent","default_value":"true","external_name":"concurrent","restriction":""}],"return_type":"::HTTP::Client::Response","visibility":"Public","body":"if uri_override = http_uri_override\n  uri = uri_override\nelsif (uri_config = @uri.try(&.strip)) && !uri_config.empty?\n  uri = URI.parse(uri_config)\nend\n\nif uri\n  context = case uri.scheme\n  when \"https\", \"wss\"\n    uri.scheme = \"https\"\n    self.class.default_tls\n  when \"ws\"\n    uri.scheme = \"http\"\n    nil\n  else\n    nil\n  end\nelse\n  context = if secure\n    uri = URI.parse(\"https://#{@ip}\")\n\n    if secure.is_a?(OpenSSL::SSL::Context::Client)\n      secure\n    else\n      self.class.default_tls\n    end\n  else\n    uri = URI.parse(\"http://#{@ip}\")\n    nil\n  end\nend\n\n\nuri.path = path\nparams = if params.is_a?(Hash)\n  URI::Params.new(params.transform_values do |v| v ? [v] : [] of String end)\nelse\n  params\nend\nuri.query_params = params\n\n\nheaders = headers.is_a?(Hash) ? HTTP::Headers.new.tap do |head| headers.map do |key, value| head[key] = value end end : headers\n\n\nclient = new_http_client(uri, context)\nif @settings.get do setting?(Bool, :disable_cookies) end || false\nelse\n  cookies.add_request_headers(headers)\nend\nlogger.debug do \"http helper requesting: #{method.to_s.upcase} #{uri.request_target}\" end\ncheck_http_response_encoding((client.exec(method.to_s.upcase, uri.request_target, headers, body)).tap do client.close end)\n"},"external_var":false},{"html_id":"received:Slice(UInt8),PlaceOS::Driver::Task?->Nil-instance-method","name":"received","abstract":false,"location":{"filename":"src/placeos-driver/transport/udp.cr","line_number":25,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/udp.cr#L25"},"def":{"name":"received","visibility":"Public","body":"@received"},"external_var":false},{"html_id":"received=(received:Slice(UInt8),Nil|PlaceOS::Driver::Task->_)-instance-method","name":"received=","abstract":false,"args":[{"name":"received","external_name":"received","restriction":"(::Slice(::UInt8), ::Nil | ::PlaceOS::Driver::Task -> _)"}],"args_string":"(received : Slice(UInt8), Nil | PlaceOS::Driver::Task -> _)","args_html":"(received : Slice(UInt8), Nil | <a href=\"../../PlaceOS/Driver/Task.html\">PlaceOS::Driver::Task</a> -> _)","location":{"filename":"src/placeos-driver/transport/udp.cr","line_number":25,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/udp.cr#L25"},"def":{"name":"received=","args":[{"name":"received","external_name":"received","restriction":"(::Slice(::UInt8), ::Nil | ::PlaceOS::Driver::Task -> _)"}],"visibility":"Public","body":"@received = received"},"external_var":false},{"html_id":"send(message):PlaceOS::Driver::TransportUDP-instance-method","name":"send","abstract":false,"args":[{"name":"message","external_name":"message","restriction":""}],"args_string":"(message) : PlaceOS::Driver::TransportUDP","args_html":"(message) : <a href=\"../../PlaceOS/Driver/TransportUDP.html\">PlaceOS::Driver::TransportUDP</a>","location":{"filename":"src/placeos-driver/transport/udp.cr","line_number":131,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/udp.cr#L131"},"def":{"name":"send","args":[{"name":"message","external_name":"message","restriction":""}],"return_type":"PlaceOS::Driver::TransportUDP","visibility":"Public","body":"@mutex.synchronize do\n  socket = @socket\n  if socket.nil? || socket.closed?\n    return self\n  end\n\n  case message\n  when .responds_to?(:to_io)\n    socket.write_bytes(message)\n  when .responds_to?(:to_slice)\n    socket.write(message.to_slice)\n  else\n    socket << message\n  end\n  socket.flush\nend\nself\n"},"external_var":false},{"html_id":"send(message,task:PlaceOS::Driver::Task,&block:Bytes,PlaceOS::Driver::Task->Nil):PlaceOS::Driver::TransportUDP-instance-method","name":"send","abstract":false,"args":[{"name":"message","external_name":"message","restriction":""},{"name":"task","external_name":"task","restriction":"PlaceOS::Driver::Task"}],"args_string":"(message, task : PlaceOS::Driver::Task, &block : Bytes, PlaceOS::Driver::Task -> Nil) : PlaceOS::Driver::TransportUDP","args_html":"(message, task : <a href=\"../../PlaceOS/Driver/Task.html\">PlaceOS::Driver::Task</a>, &block : Bytes, <a href=\"../../PlaceOS/Driver/Task.html\">PlaceOS::Driver::Task</a> -> Nil) : <a href=\"../../PlaceOS/Driver/TransportUDP.html\">PlaceOS::Driver::TransportUDP</a>","location":{"filename":"src/placeos-driver/transport/udp.cr","line_number":147,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/udp.cr#L147"},"def":{"name":"send","args":[{"name":"message","external_name":"message","restriction":""},{"name":"task","external_name":"task","restriction":"PlaceOS::Driver::Task"}],"yields":2,"block_arity":2,"block_arg":{"name":"block","external_name":"block","restriction":"(Bytes, PlaceOS::Driver::Task -> Nil)"},"return_type":"PlaceOS::Driver::TransportUDP","visibility":"Public","body":"task.processing = block\nsend(message)\n"},"external_var":false},{"html_id":"start_tls(verify_mode=OpenSSL::SSL::VerifyMode::NONE,context=@tls):Nil-instance-method","name":"start_tls","abstract":false,"args":[{"name":"verify_mode","default_value":"OpenSSL::SSL::VerifyMode::NONE","external_name":"verify_mode","restriction":""},{"name":"context","default_value":"@tls","external_name":"context","restriction":""}],"args_string":"(verify_mode = OpenSSL::SSL::VerifyMode::NONE, context = @tls) : Nil","args_html":"(verify_mode = <span class=\"t\">OpenSSL</span><span class=\"t\">::</span><span class=\"t\">SSL</span><span class=\"t\">::</span><span class=\"t\">VerifyMode</span><span class=\"t\">::</span><span class=\"t\">NONE</span>, context = @tls) : Nil","location":{"filename":"src/placeos-driver/transport/udp.cr","line_number":95,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/udp.cr#L95"},"def":{"name":"start_tls","args":[{"name":"verify_mode","default_value":"OpenSSL::SSL::VerifyMode::NONE","external_name":"verify_mode","restriction":""},{"name":"context","default_value":"@tls","external_name":"context","restriction":""}],"return_type":"Nil","visibility":"Public","body":"{% if (compare_versions(LibSSL::OPENSSL_VERSION, \"1.0.2\")) >= 0 %}\n      @mutex.synchronize do\n        return if @tls_started\n        raise \"cannot start tls while disconnected\" if @socket.nil? || @socket.try(&.closed?)\n\n        # we want negotiation to happen without manual flushing of the IO\n        socket = @socket.as(UDPSocket)\n        socket.sync = true\n\n        # we can re-use the context\n        tls = context || self.class.default_tls\n        tls.verify_mode = verify_mode\n        @tls = tls\n\n        # upgrade the socket to TLS\n        @socket = DTLS::Socket::Client.new(socket, context: tls, sync_close: true, hostname: @ip)\n        @tls_started = true\n        socket.sync = false\n      end\n    {% else %}\n      raise \"DTLS not supported in the linked version of OpenSSL #{LibSSL::OPENSSL_VERSION} or LibreSSL #{LibSSL::LIBRESSL_VERSION}\"\n    {% end %}"},"external_var":false},{"html_id":"terminate:Nil-instance-method","name":"terminate","abstract":false,"location":{"filename":"src/placeos-driver/transport/udp.cr","line_number":120,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/udp.cr#L120"},"def":{"name":"terminate","return_type":"Nil","visibility":"Public","body":"@terminated = true\n@socket.try(&.close)\n"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/TransportWebsocket","path":"PlaceOS/Driver/TransportWebsocket.html","kind":"class","full_name":"PlaceOS::Driver::TransportWebsocket","name":"TransportWebsocket","abstract":false,"superclass":{"html_id":"placeos-driver/PlaceOS/Driver/Transport","kind":"class","full_name":"PlaceOS::Driver::Transport","name":"Transport"},"ancestors":[{"html_id":"placeos-driver/PlaceOS/Driver/Transport","kind":"class","full_name":"PlaceOS::Driver::Transport","name":"Transport"},{"html_id":"placeos-driver/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"placeos-driver/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/placeos-driver/transport/websocket.cr","line_number":6,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/websocket.cr#L6"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver","kind":"class","full_name":"PlaceOS::Driver","name":"Driver"},"constructors":[{"html_id":"new(queue:PlaceOS::Driver::Queue,uri:String,settings:PlaceOS::Driver::Settings,headers_callback:->HTTP::Headers,&received:Bytes,PlaceOS::Driver::Task|Nil->Nil)-class-method","name":"new","doc":"timeouts in seconds","summary":"<p>timeouts in seconds</p>","abstract":false,"args":[{"name":"queue","external_name":"queue","restriction":"PlaceOS::Driver::Queue"},{"name":"uri","external_name":"uri","restriction":"String"},{"name":"settings","external_name":"settings","restriction":"::PlaceOS::Driver::Settings"},{"name":"headers_callback","external_name":"headers_callback","restriction":"( -> ::HTTP::Headers)"}],"args_string":"(queue : PlaceOS::Driver::Queue, uri : String, settings : PlaceOS::Driver::Settings, headers_callback :  -> HTTP::Headers, &received : Bytes, PlaceOS::Driver::Task | Nil -> Nil)","args_html":"(queue : <a href=\"../../PlaceOS/Driver/Queue.html\">PlaceOS::Driver::Queue</a>, uri : String, settings : PlaceOS::Driver::Settings, headers_callback :  -> HTTP::Headers, &received : Bytes, <a href=\"../../PlaceOS/Driver/Task.html\">PlaceOS::Driver::Task</a> | Nil -> Nil)","location":{"filename":"src/placeos-driver/transport/websocket.cr","line_number":8,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/websocket.cr#L8"},"def":{"name":"new","args":[{"name":"queue","external_name":"queue","restriction":"PlaceOS::Driver::Queue"},{"name":"uri","external_name":"uri","restriction":"String"},{"name":"settings","external_name":"settings","restriction":"::PlaceOS::Driver::Settings"},{"name":"headers_callback","external_name":"headers_callback","restriction":"( -> ::HTTP::Headers)"}],"yields":2,"block_arity":2,"block_arg":{"name":"received","external_name":"received","restriction":"(Bytes, PlaceOS::Driver::Task | ::Nil -> Nil)"},"visibility":"Public","body":"_ = allocate\n_.initialize(queue, uri, settings, headers_callback, &received) do |_arg0, _arg1|\n  yield _arg0, _arg1\nend\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"connect(connect_timeout:Int32=10):Nil-instance-method","name":"connect","abstract":false,"args":[{"name":"connect_timeout","default_value":"10","external_name":"connect_timeout","restriction":"Int32"}],"args_string":"(connect_timeout : Int32 = 10) : Nil","args_html":"(connect_timeout : Int32 = <span class=\"n\">10</span>) : Nil","location":{"filename":"src/placeos-driver/transport/websocket.cr","line_number":35,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/websocket.cr#L35"},"def":{"name":"connect","args":[{"name":"connect_timeout","default_value":"10","external_name":"connect_timeout","restriction":"Int32"}],"return_type":"Nil","visibility":"Public","body":"begin\n  @connect_lock.synchronize do\n    if @terminated || @connection_state_changing\n      return\n    end\n    @connection_state_changing = true\n  end\n\n  if websocket = @websocket\n    if websocket.closed?\n    else\n      return\n    end\n  end\n\n\n  tokenizer = @tokenizer\n  if tokenizer\n    tokenizer.clear\n  end\n\n  SimpleRetry.try_to(base_interval: 1.second, max_interval: 10.seconds, randomise: 500.milliseconds) do\n    start_socket(connect_timeout)\n  end\nensure\n  @connect_lock.synchronize do @connection_state_changing = false end\n  if (@terminated || @websocket.nil?) || @websocket.try(&.closed?)\n    disconnect\n  end\nend"},"external_var":false},{"html_id":"disconnect:Nil-instance-method","name":"disconnect","abstract":false,"location":{"filename":"src/placeos-driver/transport/websocket.cr","line_number":110,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/websocket.cr#L110"},"def":{"name":"disconnect","return_type":"Nil","visibility":"Public","body":"begin\n  websocket = @websocket\n  @connect_lock.synchronize do\n    if @connection_state_changing\n      return\n    end\n    @websocket = nil\n  end\n  begin\n    websocket.try(&.close)\n  rescue\n    nil\n  end\n  set_connected_state(false)\n  connect\nrescue error\n  logger.info(exception: error) do \"calling disconnect\" end\nend"},"external_var":false},{"html_id":"enable_multicast_loop(state=true)-instance-method","name":"enable_multicast_loop","abstract":false,"args":[{"name":"state","default_value":"true","external_name":"state","restriction":""}],"args_string":"(state = true)","args_html":"(state = <span class=\"n\">true</span>)","def":{"name":"enable_multicast_loop","args":[{"name":"state","default_value":"true","external_name":"state","restriction":""}],"visibility":"Public","body":"state"},"external_var":false},{"html_id":"http(method,path,body:HTTP::Client::BodyType=nil,params:Hash(String,String|Nil)|URI::Params=URI::Params.new,headers:Hash(String,String)|HTTP::Headers=HTTP::Headers.new,secure=false,concurrent=true):HTTP::Client::Response-instance-method","name":"http","abstract":false,"args":[{"name":"method","external_name":"method","restriction":""},{"name":"path","external_name":"path","restriction":""},{"name":"body","default_value":"nil","external_name":"body","restriction":"::HTTP::Client::BodyType"},{"name":"params","default_value":"URI::Params.new","external_name":"params","restriction":"Hash(String, String | ::Nil) | URI::Params"},{"name":"headers","default_value":"HTTP::Headers.new","external_name":"headers","restriction":"Hash(String, String) | HTTP::Headers"},{"name":"secure","default_value":"false","external_name":"secure","restriction":""},{"name":"concurrent","default_value":"true","external_name":"concurrent","restriction":""}],"args_string":"(method, path, body : HTTP::Client::BodyType = nil, params : Hash(String, String | Nil) | URI::Params = URI::Params.new, headers : Hash(String, String) | HTTP::Headers = HTTP::Headers.new, secure = false, concurrent = true) : HTTP::Client::Response","args_html":"(method, path, body : HTTP::Client::BodyType = <span class=\"n\">nil</span>, params : Hash(String, String | Nil) | URI::Params = <span class=\"t\">URI</span><span class=\"t\">::</span><span class=\"t\">Params</span>.new, headers : Hash(String, String) | HTTP::Headers = <span class=\"t\">HTTP</span><span class=\"t\">::</span><span class=\"t\">Headers</span>.new, secure = <span class=\"n\">false</span>, concurrent = <span class=\"n\">true</span>) : HTTP::Client::Response","def":{"name":"http","args":[{"name":"method","external_name":"method","restriction":""},{"name":"path","external_name":"path","restriction":""},{"name":"body","default_value":"nil","external_name":"body","restriction":"::HTTP::Client::BodyType"},{"name":"params","default_value":"URI::Params.new","external_name":"params","restriction":"Hash(String, String | ::Nil) | URI::Params"},{"name":"headers","default_value":"HTTP::Headers.new","external_name":"headers","restriction":"Hash(String, String) | HTTP::Headers"},{"name":"secure","default_value":"false","external_name":"secure","restriction":""},{"name":"concurrent","default_value":"true","external_name":"concurrent","restriction":""}],"return_type":"::HTTP::Client::Response","visibility":"Public","body":"if uri_override = http_uri_override\n  uri = uri_override\nelsif (uri_config = @uri.try(&.strip)) && !uri_config.empty?\n  uri = URI.parse(uri_config)\nend\n\nif uri\n  context = case uri.scheme\n  when \"https\", \"wss\"\n    uri.scheme = \"https\"\n    self.class.default_tls\n  when \"ws\"\n    uri.scheme = \"http\"\n    nil\n  else\n    nil\n  end\nelse\n  context = if secure\n    uri = URI.parse(\"https://#{@ip}\")\n\n    if secure.is_a?(OpenSSL::SSL::Context::Client)\n      secure\n    else\n      self.class.default_tls\n    end\n  else\n    uri = URI.parse(\"http://#{@ip}\")\n    nil\n  end\nend\n\n\nuri.path = path\nparams = if params.is_a?(Hash)\n  URI::Params.new(params.transform_values do |v| v ? [v] : [] of String end)\nelse\n  params\nend\nuri.query_params = params\n\n\nheaders = headers.is_a?(Hash) ? HTTP::Headers.new.tap do |head| headers.map do |key, value| head[key] = value end end : headers\n\n\nclient = new_http_client(uri, context)\nif @settings.get do setting?(Bool, :disable_cookies) end || false\nelse\n  cookies.add_request_headers(headers)\nend\nlogger.debug do \"http helper requesting: #{method.to_s.upcase} #{uri.request_target}\" end\ncheck_http_response_encoding((client.exec(method.to_s.upcase, uri.request_target, headers, body)).tap do client.close end)\n"},"external_var":false},{"html_id":"ping(message=nil)-instance-method","name":"ping","abstract":false,"args":[{"name":"message","default_value":"nil","external_name":"message","restriction":""}],"args_string":"(message = nil)","args_html":"(message = <span class=\"n\">nil</span>)","location":{"filename":"src/placeos-driver/transport/websocket.cr","line_number":156,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/websocket.cr#L156"},"def":{"name":"ping","args":[{"name":"message","default_value":"nil","external_name":"message","restriction":""}],"visibility":"Public","body":"@websocket.try(&.ping(message))"},"external_var":false},{"html_id":"pong(message=nil)-instance-method","name":"pong","abstract":false,"args":[{"name":"message","default_value":"nil","external_name":"message","restriction":""}],"args_string":"(message = nil)","args_html":"(message = <span class=\"n\">nil</span>)","location":{"filename":"src/placeos-driver/transport/websocket.cr","line_number":160,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/websocket.cr#L160"},"def":{"name":"pong","args":[{"name":"message","default_value":"nil","external_name":"message","restriction":""}],"visibility":"Public","body":"@websocket.try(&.pong(message))"},"external_var":false},{"html_id":"received:Slice(UInt8),PlaceOS::Driver::Task?->Nil-instance-method","name":"received","abstract":false,"location":{"filename":"src/placeos-driver/transport/websocket.cr","line_number":33,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/websocket.cr#L33"},"def":{"name":"received","visibility":"Public","body":"@received"},"external_var":false},{"html_id":"received=(received:Slice(UInt8),Nil|PlaceOS::Driver::Task->_)-instance-method","name":"received=","abstract":false,"args":[{"name":"received","external_name":"received","restriction":"(::Slice(::UInt8), ::Nil | ::PlaceOS::Driver::Task -> _)"}],"args_string":"(received : Slice(UInt8), Nil | PlaceOS::Driver::Task -> _)","args_html":"(received : Slice(UInt8), Nil | <a href=\"../../PlaceOS/Driver/Task.html\">PlaceOS::Driver::Task</a> -> _)","location":{"filename":"src/placeos-driver/transport/websocket.cr","line_number":33,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/websocket.cr#L33"},"def":{"name":"received=","args":[{"name":"received","external_name":"received","restriction":"(::Slice(::UInt8), ::Nil | ::PlaceOS::Driver::Task -> _)"}],"visibility":"Public","body":"@received = received"},"external_var":false},{"html_id":"send(message):PlaceOS::Driver::TransportWebsocket-instance-method","name":"send","abstract":false,"args":[{"name":"message","external_name":"message","restriction":""}],"args_string":"(message) : PlaceOS::Driver::TransportWebsocket","args_html":"(message) : <a href=\"../../PlaceOS/Driver/TransportWebsocket.html\">PlaceOS::Driver::TransportWebsocket</a>","location":{"filename":"src/placeos-driver/transport/websocket.cr","line_number":129,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/websocket.cr#L129"},"def":{"name":"send","args":[{"name":"message","external_name":"message","restriction":""}],"return_type":"PlaceOS::Driver::TransportWebsocket","visibility":"Public","body":"websocket = @websocket\nif websocket.nil? || websocket.closed?\n  return self\nend\n\ncase message\nwhen .is_a?(String | Bytes)\n  websocket.send(message)\nwhen .responds_to?(:to_io)\n  io = IO::Memory.new\n  io.write_bytes(message)\n  websocket.send(io.to_slice)\nwhen .responds_to?(:to_slice)\n  websocket.send(message.to_slice)\nelse\n  websocket.send(message)\nend\n\nself\n"},"external_var":false},{"html_id":"send(message,task:PlaceOS::Driver::Task,&block:Bytes,PlaceOS::Driver::Task->Nil):PlaceOS::Driver::TransportWebsocket-instance-method","name":"send","abstract":false,"args":[{"name":"message","external_name":"message","restriction":""},{"name":"task","external_name":"task","restriction":"PlaceOS::Driver::Task"}],"args_string":"(message, task : PlaceOS::Driver::Task, &block : Bytes, PlaceOS::Driver::Task -> Nil) : PlaceOS::Driver::TransportWebsocket","args_html":"(message, task : <a href=\"../../PlaceOS/Driver/Task.html\">PlaceOS::Driver::Task</a>, &block : Bytes, <a href=\"../../PlaceOS/Driver/Task.html\">PlaceOS::Driver::Task</a> -> Nil) : <a href=\"../../PlaceOS/Driver/TransportWebsocket.html\">PlaceOS::Driver::TransportWebsocket</a>","location":{"filename":"src/placeos-driver/transport/websocket.cr","line_number":151,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/websocket.cr#L151"},"def":{"name":"send","args":[{"name":"message","external_name":"message","restriction":""},{"name":"task","external_name":"task","restriction":"PlaceOS::Driver::Task"}],"yields":2,"block_arity":2,"block_arg":{"name":"block","external_name":"block","restriction":"(Bytes, PlaceOS::Driver::Task -> Nil)"},"return_type":"PlaceOS::Driver::TransportWebsocket","visibility":"Public","body":"task.processing = block\nsend(message)\n"},"external_var":false},{"html_id":"terminate:Nil-instance-method","name":"terminate","abstract":false,"location":{"filename":"src/placeos-driver/transport/websocket.cr","line_number":104,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/transport/websocket.cr#L104"},"def":{"name":"terminate","return_type":"Nil","visibility":"Public","body":"@terminated = true\nbegin\n  @websocket.try(&.close)\nrescue\n  nil\nend\n@websocket = nil\n"},"external_var":false}]},{"html_id":"placeos-driver/PlaceOS/Driver/Utilities","path":"PlaceOS/Driver/Utilities.html","kind":"module","full_name":"PlaceOS::Driver::Utilities","name":"Utilities","abstract":false,"locations":[{"filename":"src/placeos-driver.cr","line_number":61,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver.cr#L61"},{"filename":"src/placeos-driver/utilities/discovery.cr","line_number":2,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/utilities/discovery.cr#L2"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver","kind":"class","full_name":"PlaceOS::Driver","name":"Driver"},"types":[{"html_id":"placeos-driver/PlaceOS/Driver/Utilities/WakeOnLAN","path":"PlaceOS/Driver/Utilities/WakeOnLAN.html","kind":"module","full_name":"PlaceOS::Driver::Utilities::WakeOnLAN","name":"WakeOnLAN","abstract":false,"locations":[{"filename":"src/placeos-driver/utilities/wake_on_lan.cr","line_number":1,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/utilities/wake_on_lan.cr#L1"}],"repository_name":"placeos-driver","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"placeos-driver/PlaceOS/Driver/Utilities","kind":"module","full_name":"PlaceOS::Driver::Utilities","name":"Utilities"},"class_methods":[{"html_id":"wake_device(mac_address,subnet=\"255.255.255.255\",port=9,address:Socket::Address|Nil=nil)-class-method","name":"wake_device","doc":"sends a wake-on-lan message the specified mac_address, specify a subnet for directed WOL","summary":"<p>sends a wake-on-lan message the specified mac_address, specify a subnet for directed WOL</p>","abstract":false,"args":[{"name":"mac_address","external_name":"mac_address","restriction":""},{"name":"subnet","default_value":"\"255.255.255.255\"","external_name":"subnet","restriction":""},{"name":"port","default_value":"9","external_name":"port","restriction":""},{"name":"address","default_value":"nil","external_name":"address","restriction":"Socket::Address | ::Nil"}],"args_string":"(mac_address, subnet = \"255.255.255.255\", port = 9, address : Socket::Address | Nil = nil)","args_html":"(mac_address, subnet = <span class=\"s\">&quot;255.255.255.255&quot;</span>, port = <span class=\"n\">9</span>, address : Socket::Address | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/placeos-driver/utilities/wake_on_lan.cr","line_number":32,"url":"https://github.com/PlaceOS/driver/blob/71325c79e8113fb0320c7502027bf48cb6be2490/src/placeos-driver/utilities/wake_on_lan.cr#L32"},"def":{"name":"wake_device","args":[{"name":"mac_address","external_name":"mac_address","restriction":""},{"name":"subnet","default_value":"\"255.255.255.255\"","external_name":"subnet","restriction":""},{"name":"port","default_value":"9","external_name":"port","restriction":""},{"name":"address","default_value":"nil","external_name":"address","restriction":"Socket::Address | ::Nil"}],"visibility":"Public","body":"address = address || (Socket::Address.parse(\"ip://#{subnet}:#{port}/\"))\nudp = case address.family\nwhen .inet6?\n  udp_v6\nwhen .inet?\n  udp_v4\nelse\n  raise(\"Unsupported subnet type: #{address.family} (#{address.family.value})\")\nend\n\nmac_address = ((mac_address.gsub(/(0x|[^0-9A-Fa-f])*/, \"\")).scan(/.{2}/)).join(\"\", &.[](0))\nmagicpacket = (\"ff\" * 6) + (mac_address * 16)\n\n\n\nbegin\n  udp.send(magicpacket.hexbytes, address)\nrescue ex : Socket::ConnectError\nend\n"},"external_var":false}]}]}]}]}]}})